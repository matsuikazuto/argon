!function(h){function l(e,t,i){return 4===arguments.length?f.apply(this,arguments):void r(e,{declarative:!0,deps:t,declare:i})}function f(e,t,i,n){r(e,{declarative:!1,deps:t,executingRequire:i,execute:n})}function r(e,t){(t.name=e)in M||(M[e]=t),t.normalizedDeps=t.deps}function i(e){var t=M[e];t.groupIndex=0;var i=[];!function e(t,i){if(i[t.groupIndex]=i[t.groupIndex]||[],-1==y.call(i[t.groupIndex],t)){i[t.groupIndex].push(t);for(var n=0,r=t.normalizedDeps.length;n<r;n++){var o=t.normalizedDeps[n],s=M[o];if(s&&!s.evaluated){var a=t.groupIndex+(s.declarative!=t.declarative);if(void 0===s.groupIndex||s.groupIndex<a){if(void 0!==s.groupIndex&&(i[s.groupIndex].splice(y.call(i[s.groupIndex],s),1),0==i[s.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");s.groupIndex=a}e(s,i)}}}}(t,i);for(var n=!!t.declarative==i.length%2,r=i.length-1;0<=r;r--){for(var o=i[r],s=0;s<o.length;s++){var a=o[s];n?d(a):c(a)}n=!n}}function d(e){if(!e.module){var a=e.module=(l=e.name,E[l]||(E[l]={name:l,dependencies:[],exports:{},importers:[]})),u=e.module.exports,t=e.declare.call(h,function(e,t){if(a.locked=!0,"object"==typeof e)for(var i in e)u[i]=e[i];else u[e]=t;for(var n=0,r=a.importers.length;n<r;n++){var o=a.importers[n];if(!o.locked)for(var s=0;s<o.dependencies.length;++s)o.dependencies[s]===a&&o.setters[s](u)}return a.locked=!1,t},{id:e.name});a.setters=t.setters,a.execute=t.execute;for(var i=0,n=e.normalizedDeps.length;i<n;i++){var r,o=e.normalizedDeps[i],s=M[o],c=E[o];c?r=c.exports:s&&!s.declarative?r=s.esModule:s?(d(s),r=(c=s.module).exports):r=g(o),c&&c.importers?(c.importers.push(a),a.dependencies.push(c)):a.dependencies.push(null),a.setters[i]&&a.setters[i](r)}}var l}function u(e){var t,i=M[e];if(i)i.declarative?s(e,[]):i.evaluated||c(i),t=i.module.exports;else if(!(t=g(e)))throw new Error("Unable to load dependency "+e+".");return(!i||i.declarative)&&t&&t.__useDefault?t.default:t}function c(n){if(!n.module){var e={},t=n.module={exports:e,id:n.name};if(!n.executingRequire)for(var i=0,r=n.normalizedDeps.length;i<r;i++){var o=n.normalizedDeps[i],s=M[o];s&&c(s)}n.evaluated=!0;var a=n.execute.call(h,function(e){for(var t=0,i=n.deps.length;t<i;t++)if(n.deps[t]==e)return u(n.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},e,t);void 0!==typeof a&&(t.exports=a),(e=t.exports)&&e.__esModule?n.esModule=e:n.esModule=p(e)}}function p(e){var t={};if(("object"==typeof e||"function"==typeof e)&&e!==h)if(A)for(var i in e)"default"!==i&&o(t,e,i);else{var n=e&&e.hasOwnProperty;for(var i in e)"default"===i||n&&!e.hasOwnProperty(i)||(t[i]=e[i])}return t.default=e,a(t,"__useDefault",{value:!0}),t}function o(t,i,n){try{var e;(e=Object.getOwnPropertyDescriptor(i,n))&&a(t,n,e)}catch(e){return t[n]=i[n],!1}}function s(e,t){var i=M[e];if(i&&!i.evaluated&&i.declarative){t.push(e);for(var n=0,r=i.normalizedDeps.length;n<r;n++){var o=i.normalizedDeps[n];-1==y.call(t,o)&&(M[o]?s(o,t):g(o))}i.evaluated||(i.evaluated=!0,i.module.execute.call(h))}}function g(e){if(m[e])return m[e];if("@node/"==e.substr(0,6))return m[e]=p(w(e.substr(6)));var t=M[e];if(!t)throw"Module "+e+" not present.";return i(e),s(e,[]),M[e]=void 0,t.declarative&&a(t.module.exports,"__esModule",{value:!0}),m[e]=t.declarative?t.module.exports:t.esModule}var a,M={},y=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},A=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(e){A=!1}!function(){try{Object.defineProperty({},"a",{})&&(a=Object.defineProperty)}catch(e){a=function(e,t,i){try{e[t]=i.value||i.get.call(e)}catch(e){}}}}();var E={},w="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,m={"@empty":{}};return function(s,a,u,c){return function(e){e(function(e){for(var t={_nodeRequire:w,register:l,registerDynamic:f,get:g,set:function(e,t){m[e]=t},newModule:function(e){return e}},i=0;i<a.length;i++)n=a[i],(r=arguments[i])&&r.__esModule?m[n]=r:m[n]=p(r);var n,r;c(t);var o=g(s[0]);if(1<s.length)for(i=1;i<s.length;i++)g(s[i]);return u?o.default:o})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function(t){this.require;var e,i=this.exports,n=this.module;!function(h){function f(e,t,i,n){if("object"==typeof e&&!(e instanceof Array))return f.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof t&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var r=d.get(e);return r.__useDefault?r.default:r}throw new TypeError("Invalid require")}for(var o=[],s=0;s<e.length;s++)o.push(d.import(e[s],n));Promise.all(o).then(function(e){t&&t.apply(null,e)},i)}function e(e,s,a){var t,u,c,l;"string"!=typeof e&&(a=s,s=e,e=null),s instanceof Array||(s=["require","exports","module"].splice(0,(a=s).length)),"function"!=typeof a&&(t=a,a=function(){return t}),void 0===s[s.length-1]&&s.pop(),-1!=(u=n.call(s,"require"))&&(s.splice(u,1),e||(s=s.concat(function(e,t){var i=((e=e.replace(p,"")).match(y)[1].split(",")[t]||"require").replace(A,""),n=E[i]||(E[i]=new RegExp(g+i+M,"g"));n.lastIndex=0;for(var r,o=[];r=n.exec(e);)o.push(r[2]||r[3]);return o}(a.toString(),u)))),-1!=(c=n.call(s,"exports"))&&s.splice(c,1),-1!=(l=n.call(s,"module"))&&s.splice(l,1);var i={name:e,deps:s,execute:function(n,e,r){for(var t=[],i=0;i<s.length;i++)t.push(n(s[i]));r.uri=r.id,r.config=function(){},-1!=l&&t.splice(l,0,r),-1!=c&&t.splice(c,0,e),-1!=u&&t.splice(u,0,function(e,t,i){return"string"==typeof e&&"function"!=typeof t?n(e):f.call(d,e,t,i,r.id)});var o=a.apply(-1==c?h:e,t);return void 0===o&&r&&(o=r.exports),void 0!==o?o:void 0}};if(e)r.anonDefine||r.isBundle?r.anonDefine&&r.anonDefine.name&&(r.anonDefine=null):r.anonDefine=i,r.isBundle=!0,d.registerDynamic(i.name,i.deps,!1,i.execute);else{if(r.anonDefine&&!r.anonDefine.name)throw new Error("Multiple anonymous defines in module "+e);r.anonDefine=i}}var d=t,n=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},p=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,g="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",M="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",y=/\(([^\)]*)\)/,A=/^\s+|\s+$/g,E={},r={isBundle:!(e.amd={}),anonDefine:null};d.amdDefine=e,d.amdRequire=f}("undefined"!=typeof self?self:global),(0,t.amdDefine)("2",["exports","3"],function(e,t){"use strict";var i,u,n,c;Number.isNaN=Number.isNaN||function(e){return e!=e},Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return-1!==n&&n===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Array.from||(Array.from=(i=Object.prototype.toString,u=function(e){return"function"==typeof e||"[object Function]"===i.call(e)},n=Math.pow(2,53)-1,c=function(e){var t,i=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(i,0),n)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,n=1<arguments.length?arguments[1]:void 0;if(void 0!==n){if(!u(n))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var r,o=c(t.length),s=u(this)?Object(new this(o)):new Array(o),a=0;a<o;)r=t[a],s[a]=n?void 0===i?n(r,a):n.call(i,r,a):r,a+=1;return s.length=o,s})),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(r,t,o,i))return t}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(r,t,o,i))return o;return-1}),Array.prototype.includes||(Array.prototype.includes=function(e){var t=Object(this),i=parseInt(t.length)||0;if(0===i)return!1;var n,r,o=parseInt(arguments[1])||0;for(0<=o?n=o:(n=i+o)<0&&(n=0);n<i;){if(e===(r=t[n])||e!=e&&r!=r)return!0;n++}return!1}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}),function(e){var i=void 0,n=Object.defineProperty,r=function(e,t){return e===t||e!=e&&t!=t};function t(e,t){function i(e){if(!this||this.constructor!==i)return new i(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&function(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}.call(this,e)}return t||n(e,"size",{get:l}),(e.constructor=i).prototype=e,i}function o(e){return this.has(e)&&(this._keys.splice(i,1),this._values.splice(i,1),this._itp.forEach(function(e){i<e[0]&&e[0]--})),-1<i}function s(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(i=e.length;i--&&!r(e[i],t););else i=e.indexOf(t);return-1<i}function a(){(this._keys||0).length=this._values.length=0}function u(){return c(this._itp,this._values)}function c(i,n,r){var o=[0],s=!1;return i.push(o),{next:function(){var e,t=o[0];return!s&&t<n.length?(e=r?[n[t],r[t]]:n[t],o[0]++):(s=!0,i.splice(i.indexOf(o),1)),{done:s,value:e}}}}function l(){return this._values.length}function h(e,t){for(var i=this.entries();;){var n=i.next();if(n.done)break;e.call(t,n.value[1],n.value[0],this)}}"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({delete:o,has:function(e){return s.call(this,this._keys,e)},get:function(e){return this.has(e)?this._values[i]:void 0},set:function(e,t){return this.has(e)?this._values[i]=t:this._values[this._keys.push(e)-1]=t,this},keys:function(){return c(this._itp,this._keys)},values:u,entries:function(){return c(this._itp,this._keys,this._values)},forEach:h,clear:a})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:function(e){return s.call(this,this._values,e)},add:function(e){return this.has(e)||this._values.push(e),this},delete:o,clear:a,keys:u,values:u,entries:function(){return c(this._itp,this._values,this._values)},forEach:h}))}(t.PLATFORM.global);var r=Object.freeze({}),o="__metadata__",s=Function.prototype.bind;void 0===t.PLATFORM.global.Reflect&&(t.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(e,t,i){return((t[o]||r)[i]||r)[e]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(e,t,i,n){var r=i.hasOwnProperty(o)?i[o]:i[o]={};(r[n]||(r[n]={}))[e]=t}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(i,n){return function(e,t){Reflect.defineMetadata(i,n,e,t)}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(e,t){if(t)switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(s.apply(e,i))})}),t.register("3",[],function(e,t){"use strict";var i,n,r;function o(e,t,i){if(t){if(t.innerError&&i)return t;var n="\n------------------------------------------------\n";e+=n+"Inner Error:\n","string"==typeof t?e+="Message: "+t:(t.message?e+="Message: "+t.message:e+="Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(t,null,"  "),t.stack&&(e+="\nInner Error Stack:\n"+t.stack,e+="\nEnd Inner Error Stack")),e+=n}var r=new Error(e);return t&&(r.innerError=t),r}function s(e){"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(e,t){for(var i=Object.getOwnPropertyDescriptor(e,t),n=Object.getPrototypeOf(e);void 0===i&&null!==n;)i=Object.getOwnPropertyDescriptor(n,t),n=Object.getPrototypeOf(n);return i}),e(n,i,r)}return{setters:[],execute:function(){e("FEATURE",i={}),e("PLATFORM",n={noop:function(){},eachModule:function(){}}),n.global="undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")(),e("DOM",r={}),e("AggregateError",o),e("FEATURE",i),e("PLATFORM",n),e("DOM",r),e("initializePAL",s)}}}),(0,t.amdDefine)("4",["5","6","7","8"],function(n,e,r,i){"use strict";function t(e,t){this._callback=void 0,this._isConstant=void 0,this._definitionChanged=new i,this.setCallback(e,t)}return e(t.prototype,{isConstant:{get:function(){return this._isConstant}},definitionChanged:{get:function(){return this._definitionChanged}}}),t.prototype.getValue=function(e,t){return this._callback(e,t)},t.prototype.setCallback=function(e,t){if(!n(e))throw new r("callback is required.");if(!n(t))throw new r("isConstant is required.");var i=this._callback!==e||this._isConstant!==t;this._callback=e,this._isConstant=t,i&&this._definitionChanged.raiseEvent(this)},t.prototype.equals=function(e){return this===e||e instanceof t&&this._callback===e._callback&&this._isConstant===e._isConstant},t}),(0,t.amdDefine)("9",["a","5","6","b","7","c","d","e","f","10"],function(h,f,e,t,r,n,o,s,d,p){"use strict";function g(e,t){var i=e;return f(t)&&(i+="+"+t),i}function a(t,e,s){var a=g(p.PINCH,e),u=t._update,c=t._isDown,i=t._eventStartPosition,n=t._pressTime,r=t._releaseTime;u[a]=!0,c[a]=!1,i[a]=new h;var l=t._movement[a];f(l)||(l=t._movement[a]={}),l.distance={startPosition:new h,endPosition:new h},l.angleAndHeight={startPosition:new h,endPosition:new h},l.prevAngle=0,t._eventHandler.setInputAction(function(e){t._buttonsDown++,c[a]=!0,n[a]=new Date,h.lerp(e.position1,e.position2,.5,i[a])},d.PINCH_START,e),t._eventHandler.setInputAction(function(){t._buttonsDown=Math.max(t._buttonsDown-1,0),c[a]=!1,r[a]=new Date},d.PINCH_END,e),t._eventHandler.setInputAction(function(e){if(c[a]){u[a]?(r=e,o=l,h.clone(r.distance.startPosition,o.distance.startPosition),h.clone(r.distance.endPosition,o.distance.endPosition),h.clone(r.angleAndHeight.startPosition,o.angleAndHeight.startPosition),h.clone(r.angleAndHeight.endPosition,o.angleAndHeight.endPosition),u[a]=!1,l.prevAngle=l.angleAndHeight.startPosition.x):(h.clone(e.distance.endPosition,l.distance.endPosition),h.clone(e.angleAndHeight.endPosition,l.angleAndHeight.endPosition));for(var t=l.angleAndHeight.endPosition.x,i=l.prevAngle,n=2*Math.PI;t>=i+Math.PI;)t-=n;for(;t<i-Math.PI;)t+=n;l.angleAndHeight.endPosition.x=-t*s.clientWidth/12,l.angleAndHeight.startPosition.x=-i*s.clientWidth/12}var r,o},d.PINCH_MOVE,e)}function u(e,t){var i=g(p.WHEEL,t),n=e._update;n[i]=!0;var r=e._movement[i];f(r)||(r=e._movement[i]={}),r.startPosition=new h,r.endPosition=new h,e._eventHandler.setInputAction(function(e){var t=15*o.toRadians(e);n[i]?(h.clone(h.ZERO,r.startPosition),r.endPosition.x=0,r.endPosition.y=t,n[i]=!1):r.endPosition.y=r.endPosition.y+t},d.WHEEL,t)}function c(t,e,i){var n=g(i,e),r=t._isDown,o=t._eventStartPosition,s=t._pressTime,a=t._releaseTime;r[n]=!1,o[n]=new h;var u,c,l=t._lastMovement[n];f(l)||(l=t._lastMovement[n]={startPosition:new h,endPosition:new h,valid:!1}),i===p.LEFT_DRAG?(u=d.LEFT_DOWN,c=d.LEFT_UP):i===p.RIGHT_DRAG?(u=d.RIGHT_DOWN,c=d.RIGHT_UP):i===p.MIDDLE_DRAG&&(u=d.MIDDLE_DOWN,c=d.MIDDLE_UP),t._eventHandler.setInputAction(function(e){t._buttonsDown++,l.valid=!1,r[n]=!0,s[n]=new Date,h.clone(e.position,o[n])},u,e),t._eventHandler.setInputAction(function(){t._buttonsDown=Math.max(t._buttonsDown-1,0),r[n]=!1,a[n]=new Date},c,e)}function l(e,t){h.clone(e.startPosition,t.startPosition),h.clone(e.endPosition,t.endPosition)}function M(r,o){var s=r._update,a=r._movement,u=r._lastMovement,c=r._isDown;for(var e in p)if(p.hasOwnProperty(e)){var t=p[e];if(f(t)){var i=g(t,o);s[i]=!0,f(r._lastMovement[i])||(r._lastMovement[i]={startPosition:new h,endPosition:new h,valid:!1}),f(r._movement[i])||(r._movement[i]={startPosition:new h,endPosition:new h})}}r._eventHandler.setInputAction(function(e){for(var t in p)if(p.hasOwnProperty(t)){var i=p[t];if(f(i)){var n=g(i,o);c[n]&&(s[n]?(l(a[n],u[n]),u[n].valid=!0,l(e,a[n]),s[n]=!1):h.clone(e.endPosition,a[n].endPosition))}}h.clone(e.endPosition,r._currentMousePosition)},d.MOUSE_MOVE,o)}function i(e){if(!f(e))throw new r("canvas is required.");for(var t in this._eventHandler=new s(e,!0),this._update={},this._movement={},this._lastMovement={},this._isDown={},this._eventStartPosition={},this._pressTime={},this._releaseTime={},this._buttonsDown=0,this._currentMousePosition=new h,u(this,void 0),a(this,void 0,e),c(this,void 0,p.LEFT_DRAG),c(this,void 0,p.RIGHT_DRAG),c(this,void 0,p.MIDDLE_DRAG),M(this,void 0),n)if(n.hasOwnProperty(t)){var i=n[t];f(i)&&(u(this,i),a(this,i,e),c(this,i,p.LEFT_DRAG),c(this,i,p.RIGHT_DRAG),c(this,i,p.MIDDLE_DRAG),M(this,i))}}return e(i.prototype,{currentMousePosition:{get:function(){return this._currentMousePosition}},anyButtonDown:{get:function(){var e=!(this._update[g(p.WHEEL)]&&this._update[g(p.WHEEL,n.SHIFT)]&&this._update[g(p.WHEEL,n.CTRL)]&&this._update[g(p.WHEEL,n.ALT)]);return 0<this._buttonsDown||e}}}),i.prototype.isMoving=function(e,t){if(!f(e))throw new r("type is required.");var i=g(e,t);return!this._update[i]},i.prototype.getMovement=function(e,t){if(!f(e))throw new r("type is required.");var i=g(e,t);return this._movement[i]},i.prototype.getLastMovement=function(e,t){if(!f(e))throw new r("type is required.");var i=g(e,t),n=this._lastMovement[i];if(n.valid)return n},i.prototype.isButtonDown=function(e,t){if(!f(e))throw new r("type is required.");var i=g(e,t);return this._isDown[i]},i.prototype.getStartMousePosition=function(e,t){if(!f(e))throw new r("type is required.");if(e===p.WHEEL)return this._currentMousePosition;var i=g(e,t);return this._eventStartPosition[i]},i.prototype.getButtonPressTime=function(e,t){if(!f(e))throw new r("type is required.");var i=g(e,t);return this._pressTime[i]},i.prototype.getButtonReleaseTime=function(e,t){if(!f(e))throw new r("type is required.");var i=g(e,t);return this._releaseTime[i]},i.prototype.reset=function(){for(var e in this._update)this._update.hasOwnProperty(e)&&(this._update[e]=!0)},i.prototype.isDestroyed=function(){return!1},i.prototype.destroy=function(){return this._eventHandler=this._eventHandler&&this._eventHandler.destroy(),t(this)},i}),(0,t.amdDefine)("10",["11"],function(e){"use strict";return e({LEFT_DRAG:0,RIGHT_DRAG:1,MIDDLE_DRAG:2,WHEEL:3,PINCH:4})}),(0,t.amdDefine)("12",["11"],function(e){"use strict";return e({UNBOUNDED:0,CLAMPED:1,LOOP_STOP:2})}),(0,t.amdDefine)("13",["12","14","15","5","6","7","8","16","17"],function(u,c,r,o,e,s,a,l,h){"use strict";function t(e){var t=(e=r(e,r.EMPTY_OBJECT)).currentTime,i=e.startTime,n=e.stopTime;if(t=o(t)?h.clone(t):o(i)?h.clone(i):o(n)?h.addDays(n,-1,new h):h.now(),i=o(i)?h.clone(i):h.clone(t),n=o(n)?h.clone(n):h.addDays(i,1,new h),h.greaterThan(i,n))throw new s("startTime must come before stopTime.");this.startTime=i,this.stopTime=n,this.clockRange=r(e.clockRange,u.UNBOUNDED),this.canAnimate=r(e.canAnimate,!0),this.onTick=new a,this._currentTime=void 0,this._multiplier=void 0,this._clockStep=void 0,this._shouldAnimate=void 0,this._lastSystemTime=l(),this.currentTime=t,this.multiplier=r(e.multiplier,1),this.clockStep=r(e.clockStep,c.SYSTEM_CLOCK_MULTIPLIER),this.shouldAnimate=r(e.shouldAnimate,!0)}return e(t.prototype,{currentTime:{get:function(){return this._currentTime},set:function(e){h.equals(this._currentTime,e)||(this._clockStep===c.SYSTEM_CLOCK&&(this._clockStep=c.SYSTEM_CLOCK_MULTIPLIER),this._currentTime=e)}},multiplier:{get:function(){return this._multiplier},set:function(e){this._multiplier!==e&&(this._clockStep===c.SYSTEM_CLOCK&&(this._clockStep=c.SYSTEM_CLOCK_MULTIPLIER),this._multiplier=e)}},clockStep:{get:function(){return this._clockStep},set:function(e){e===c.SYSTEM_CLOCK&&(this._multiplier=1,this._shouldAnimate=!0,this._currentTime=h.now()),this._clockStep=e}},shouldAnimate:{get:function(){return this._shouldAnimate},set:function(e){this._shouldAnimate!==e&&(this._clockStep===c.SYSTEM_CLOCK&&(this._clockStep=c.SYSTEM_CLOCK_MULTIPLIER),this._shouldAnimate=e)}}}),t.prototype.tick=function(){var e=l(),t=h.clone(this._currentTime);if(this.canAnimate&&this._shouldAnimate){var i=this._clockStep;if(i===c.SYSTEM_CLOCK)t=h.now(t);else{var n=this._multiplier;if(i===c.TICK_DEPENDENT)t=h.addSeconds(t,n,t);else{var r=e-this._lastSystemTime;t=h.addSeconds(t,n*(r/1e3),t)}var o=this.clockRange,s=this.startTime,a=this.stopTime;if(o===u.CLAMPED)h.lessThan(t,s)?t=h.clone(s,t):h.greaterThan(t,a)&&(t=h.clone(a,t));else if(o===u.LOOP_STOP)for(h.lessThan(t,s)&&(t=h.clone(s,t));h.greaterThan(t,a);)t=h.addSeconds(s,h.secondsDifference(t,a),t)}}return this._currentTime=t,this._lastSystemTime=e,this.onTick.raiseEvent(this),t},t}),(0,t.amdDefine)("14",["11"],function(e){"use strict";return e({TICK_DEPENDENT:0,SYSTEM_CLOCK_MULTIPLIER:1,SYSTEM_CLOCK:2})}),(0,t.amdDefine)("18",["19","5","6","7","d","1a","1b"],function(i,A,e,n,o,E,M){"use strict";var w={id:void 0},s=new Array(2);function m(e){for(var t=e.propertyNames,i=t.length,n=0;n<i;n++)e[t[n]]=void 0}function v(e,t,i,n){s[0]=i,s[1]=n.id,t[JSON.stringify(s)]=n.definitionChanged.addEventListener(y.prototype._onDefinitionChanged,e)}function N(e,t,i,n){s[0]=i,s[1]=n.id;var r=JSON.stringify(s);t[r](),t[r]=void 0}function a(e){if(e._shouldRecomposite=!0,0===e._suspendCount){var t,i,n,r,o,s,a=e._collections,u=a.length,c=e._collectionsCopy,l=c.length,h=e._composite,f=new M(e),d=e._eventHash;for(t=0;t<l;t++)for((o=c[t]).collectionChanged.removeEventListener(y.prototype._onCollectionChanged,e),n=o.values,s=o.id,r=n.length-1;-1<r;r--)N(0,d,s,i=n[r]);for(t=u-1;0<=t;t--)for((o=a[t]).collectionChanged.addEventListener(y.prototype._onCollectionChanged,e),n=o.values,s=o.id,r=n.length-1;-1<r;r--){v(e,d,s,i=n[r]);var p=f.getById(i.id);A(p)||(p=h.getById(i.id),A(p)?m(p):(w.id=i.id,p=new E(w)),f.add(p)),p.merge(i)}e._collectionsCopy=a.slice(0),h.suspendEvents(),h.removeAll();var g=f.values;for(t=0;t<g.length;t++)h.add(g[t]);h.resumeEvents()}}function y(e,t){this._owner=t,this._composite=new M(this),this._suspendCount=0,this._collections=A(e)?e.slice():[],this._collectionsCopy=[],this._id=i(),this._eventHash={},a(this),this._shouldRecomposite=!1}function r(e,t){if(!A(t))throw new n("collection is required.");var i=e.indexOf(t);if(-1===i)throw new n("collection is not in this composite.");return i}function u(e,t,i){var n=e._collections;if((t=o.clamp(t,0,n.length-1))!==(i=o.clamp(i,0,n.length-1))){var r=n[t];n[t]=n[i],n[i]=r,a(e)}}return e(y.prototype,{collectionChanged:{get:function(){return this._composite._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._composite.values}},owner:{get:function(){return this._owner}}}),y.prototype.addCollection=function(e,t){var i=A(t);if(!A(e))throw new n("collection is required.");if(i){if(t<0)throw new n("index must be greater than or equal to zero.");if(t>this._collections.length)throw new n("index must be less than or equal to the number of collections.")}i?this._collections.splice(t,0,e):(t=this._collections.length,this._collections.push(e)),a(this)},y.prototype.removeCollection=function(e){var t=this._collections.indexOf(e);return-1!==t&&(this._collections.splice(t,1),a(this),!0)},y.prototype.removeAllCollections=function(){this._collections.length=0,a(this)},y.prototype.containsCollection=function(e){return-1!==this._collections.indexOf(e)},y.prototype.contains=function(e){return this._composite.contains(e)},y.prototype.indexOfCollection=function(e){return this._collections.indexOf(e)},y.prototype.getCollection=function(e){if(!A(e))throw new n("index is required.","index");return this._collections[e]},y.prototype.getCollectionsLength=function(){return this._collections.length},y.prototype.raiseCollection=function(e){var t=r(this._collections,e);u(this,t,t+1)},y.prototype.lowerCollection=function(e){var t=r(this._collections,e);u(this,t,t-1)},y.prototype.raiseCollectionToTop=function(e){var t=r(this._collections,e);t!==this._collections.length-1&&(this._collections.splice(t,1),this._collections.push(e),a(this))},y.prototype.lowerCollectionToBottom=function(e){var t=r(this._collections,e);0!==t&&(this._collections.splice(t,1),this._collections.splice(0,0,e),a(this))},y.prototype.suspendEvents=function(){this._suspendCount++,this._composite.suspendEvents()},y.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new n("resumeEvents can not be called before suspendEvents.");this._suspendCount--,this._shouldRecomposite&&0===this._suspendCount&&(a(this),this._shouldRecomposite=!1),this._composite.resumeEvents()},y.prototype.computeAvailability=function(){return this._composite.computeAvailability()},y.prototype.getById=function(e){return this._composite.getById(e)},y.prototype._onCollectionChanged=function(e,t,i){var n,r,o,s,a=this._collectionsCopy,u=a.length,c=this._composite;c.suspendEvents();var l=i.length,h=this._eventHash,f=e.id;for(n=0;n<l;n++){var d=i[n];N(0,h,f,d);var p=d.id;for(r=u-1;0<=r;r--)o=a[r].getById(p),A(o)&&(A(s)||m(s=c.getById(p)),s.merge(o));A(s)||c.removeById(p),s=void 0}var g=t.length;for(n=0;n<g;n++){var M=t[n];v(this,h,f,M);var y=M.id;for(r=u-1;0<=r;r--)o=a[r].getById(y),A(o)&&(A(s)||(s=c.getById(y),A(s)?m(s):(w.id=y,s=new E(w),c.add(s))),s.merge(o));s=void 0}c.resumeEvents()},y.prototype._onDefinitionChanged=function(e,t,i,n){for(var r=this._collections,o=this._composite,s=r.length,a=e.id,u=o.getById(a),c=u[t],l=!A(c),h=!0,f=s-1;0<=f;f--){var d=r[f].getById(e.id);if(A(d)){var p=d[t];if(A(p)){if(h){if(h=!1,!A(p.merge)||!A(p.clone)){c=p;break}c=p.clone(c)}c.merge(p)}}}l&&-1===u.propertyNames.indexOf(t)&&u.addProperty(t),u[t]=c},y}),(0,t.amdDefine)("1c",["11","17","1d"],function(e,t,i){"use strict";var n=e(t.fromIso8601("0000-01-01T00:00:00Z")),r=e(t.fromIso8601("9999-12-31T24:00:00Z"));return{MINIMUM_VALUE:n,MAXIMUM_VALUE:r,MAXIMUM_INTERVAL:e(new i({start:n,stop:r}))}}),(0,t.amdDefine)("1d",["1e","15","5","6","11","17"],function(g,u,M,e,t,y){"use strict";function A(e){e=u(e,u.EMPTY_OBJECT),this.start=M(e.start)?y.clone(e.start):new y,this.stop=M(e.stop)?y.clone(e.stop):new y,this.data=e.data,this.isStartIncluded=u(e.isStartIncluded,!0),this.isStopIncluded=u(e.isStopIncluded,!0)}e(A.prototype,{isEmpty:{get:function(){var e=y.compare(this.stop,this.start);return e<0||0===e&&(!this.isStartIncluded||!this.isStopIncluded)}}});var c={start:void 0,stop:void 0,isStartIncluded:void 0,isStopIncluded:void 0,data:void 0};return A.fromIso8601=function(e,t){g.typeOf.object("options",e),g.typeOf.string("options.iso8601",e.iso8601);var i=e.iso8601.split("/"),n=y.fromIso8601(i[0]),r=y.fromIso8601(i[1]),o=u(e.isStartIncluded,!0),s=u(e.isStopIncluded,!0),a=e.data;return M(t)?(t.start=n,t.stop=r,t.isStartIncluded=o,t.isStopIncluded=s,t.data=a,t):(c.start=n,c.stop=r,c.isStartIncluded=o,c.isStopIncluded=s,c.data=a,new A(c))},A.toIso8601=function(e,t){return g.typeOf.object("timeInterval",e),y.toIso8601(e.start,t)+"/"+y.toIso8601(e.stop,t)},A.clone=function(e,t){if(M(e))return M(t)?(t.start=e.start,t.stop=e.stop,t.isStartIncluded=e.isStartIncluded,t.isStopIncluded=e.isStopIncluded,t.data=e.data,t):new A(e)},A.equals=function(e,t,i){return e===t||M(e)&&M(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&y.equals(e.start,t.start)&&y.equals(e.stop,t.stop)&&(e.data===t.data||M(i)&&i(e.data,t.data)))},A.equalsEpsilon=function(e,t,i,n){return g.typeOf.number("epsilon",i),e===t||M(e)&&M(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&y.equalsEpsilon(e.start,t.start,i)&&y.equalsEpsilon(e.stop,t.stop,i)&&(e.data===t.data||M(n)&&n(e.data,t.data)))},A.intersect=function(e,t,i,n){if(g.typeOf.object("left",e),g.typeOf.object("result",i),!M(t))return A.clone(A.EMPTY,i);var r=e.start,o=e.stop,s=t.start,a=t.stop,u=y.greaterThanOrEquals(s,r)&&y.greaterThanOrEquals(o,s),c=!u&&y.lessThanOrEquals(s,r)&&y.lessThanOrEquals(r,a);if(!u&&!c)return A.clone(A.EMPTY,i);var l=e.isStartIncluded,h=e.isStopIncluded,f=t.isStartIncluded,d=t.isStopIncluded,p=y.lessThan(o,a);return i.start=u?s:r,i.isStartIncluded=l&&f||!y.equals(s,r)&&(u&&f||c&&l),i.stop=p?o:a,i.isStopIncluded=p?h:h&&d||!y.equals(a,o)&&d,i.data=M(n)?n(e.data,t.data):e.data,i},A.contains=function(e,t){if(g.typeOf.object("timeInterval",e),g.typeOf.object("julianDate",t),e.isEmpty)return!1;var i=y.compare(e.start,t);if(0===i)return e.isStartIncluded;var n=y.compare(t,e.stop);return 0===n?e.isStopIncluded:i<0&&n<0},A.prototype.clone=function(e){return A.clone(this,e)},A.prototype.equals=function(e,t){return A.equals(this,e,t)},A.prototype.equalsEpsilon=function(e,t,i){return A.equalsEpsilon(this,e,t,i)},A.prototype.toString=function(){return A.toIso8601(this)},A.EMPTY=t(new A({start:new y,stop:new y,isStartIncluded:!1,isStopIncluded:!1})),A}),(0,t.amdDefine)("19",[],function(){"use strict";return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}),(0,t.amdDefine)("1f",["20","15","5","6","7","8","21","22"],function(n,i,r,e,o,s,a,u){"use strict";function t(e,t){this._definitionChanged=new s,this._value=n.clone(e),this._referenceFrame=i(t,a.FIXED)}return e(t.prototype,{isConstant:{get:function(){return!r(this._value)||this._referenceFrame===a.FIXED}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),t.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,a.FIXED,t)},t.prototype.setValue=function(e,t){var i=!1;n.equals(this._value,e)||(i=!0,this._value=n.clone(e)),r(t)&&this._referenceFrame!==t&&(i=!0,this._referenceFrame=t),i&&this._definitionChanged.raiseEvent(this)},t.prototype.getValueInReferenceFrame=function(e,t,i){if(!r(e))throw new o("time is required.");if(!r(t))throw new o("referenceFrame is required.");return u.convertToReferenceFrame(e,this._value,this._referenceFrame,t,i)},t.prototype.equals=function(e){return this===e||e instanceof t&&n.equals(this._value,e._value)&&this._referenceFrame===e._referenceFrame},t}),(0,t.amdDefine)("23",["24"],function(i){"use strict";function n(e){return e}return function(e,t){return i(e,t,n)}}),(0,t.amdDefine)("25",["5","6","8"],function(o,e,t){"use strict";function i(e){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new t,this.setValue(e)}return e(i.prototype,{isConstant:{value:!0},definitionChanged:{get:function(){return this._definitionChanged}}}),i.prototype.getValue=function(e,t){return this._hasClone?this._value.clone(t):this._value},i.prototype.setValue=function(e){var t=this._value;if(t!==e){var i=o(e),n=i&&"function"==typeof e.clone,r=i&&"function"==typeof e.equals;(!r||!e.equals(t))&&(this._hasClone=n,this._hasEquals=r,this._value=n?e.clone(this._value):e,this._definitionChanged.raiseEvent(this))}},i.prototype.equals=function(e){return this===e||e instanceof i&&(!this._hasEquals&&this._value===e._value||this._hasEquals&&this._value.equals(e._value))},i.prototype.valueOf=function(){return this._value},i.prototype.toString=function(){return String(this._value)},i}),(0,t.amdDefine)("24",["15","5","25"],function(u,c,t){"use strict";function l(e){return new t(e)}return function(e,t,i){return r="_"+(n=e).toString(),o="_"+e.toString()+"Subscription",s=u(t,!1),a=u(i,l),{configurable:s,get:function(){return this[r]},set:function(e){var t=this[r],i=this[o];c(i)&&(i(),this[o]=void 0),!(void 0!==e)||c(e)&&c(e.getValue)||!c(a)||(e=a(e)),t!==e&&(this[r]=e,this._definitionChanged.raiseEvent(this,n,e,t)),c(e)&&c(e.definitionChanged)&&(this[o]=e.definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this,n,e,e)},this))}};var n,r,o,s,a}}),(0,t.amdDefine)("26",["15","5","6","7","8","25","24","27"],function(r,c,e,l,i,t,o,a){"use strict";var n=function(e,t){this._propertyNames=[],this._definitionChanged=new i,c(e)&&this.merge(e,t)};function s(e){return new t(e)}return e(n.prototype,{propertyNames:{get:function(){return this._propertyNames}},isConstant:{get:function(){for(var e=this._propertyNames,t=0,i=e.length;t<i;t++)if(!a.isConstant(this[e[t]]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}}),n.prototype.hasProperty=function(e){return-1!==this._propertyNames.indexOf(e)},n.prototype.addProperty=function(e,t,i){var n=this._propertyNames;if(!c(e))throw new l("propertyName is required.");if(-1!==n.indexOf(e))throw new l(e+" is already a registered property.");n.push(e),Object.defineProperty(this,e,o(e,!0,r(i,s))),c(t)&&(this[e]=t),this._definitionChanged.raiseEvent(this)},n.prototype.removeProperty=function(e){var t=this._propertyNames.indexOf(e);if(!c(e))throw new l("propertyName is required.");if(-1===t)throw new l(e+" is not a registered property.");this._propertyNames.splice(t,1),delete this[e],this._definitionChanged.raiseEvent(this)},n.prototype.getValue=function(e,t){if(!c(e))throw new l("time is required.");c(t)||(t={});for(var i=this._propertyNames,n=0,r=i.length;n<r;n++){var o=i[n];t[o]=a.getValueOrUndefined(this[o],e,t[o])}return t},n.prototype.merge=function(e,t){if(!c(e))throw new l("source is required.");for(var i=this._propertyNames,n=c(e._propertyNames)?e._propertyNames:Object.keys(e),r=0,o=n.length;r<o;r++){var s=n[r],a=this[s],u=e[s];void 0===a&&-1===i.indexOf(s)&&this.addProperty(s,void 0,t),void 0!==u&&(void 0!==a?c(a)&&c(a.merge)&&a.merge(u):c(u)&&c(u.merge)&&c(u.clone)?this[s]=u.clone():this[s]=u)}},n.prototype.equals=function(e){return this===e||e instanceof n&&function(e,t){var i=e._propertyNames,n=t._propertyNames,r=i.length;if(r!==n.length)return!1;for(var o=0;o<r;++o){var s=i[o];if(-1===n.indexOf(s))return!1;if(!a.equals(e[s],t[s]))return!1}return!0}(this,e)},n}),(0,t.amdDefine)("1a",["20","1e","19","15","5","6","7","8","28","29","2a","2b","@empty","@empty","1f","@empty","24","23","@empty","@empty","@empty","@empty","@empty","@empty","@empty","@empty","@empty","@empty","27","26","@empty","@empty"],function(e,r,i,u,c,t,l,n,o,s,a,h,f,d,p,g,M,y,A,E,w,m,v,N,D,T,I,O,S,L,_,j){"use strict";function x(e){return new p(e)}function b(e,t){return M(e,void 0,function(e){return e instanceof t?e:new t(e)})}function C(e){var t=(e=u(e,u.EMPTY_OBJECT)).id;c(t)||(t=i()),this._availability=void 0,this._id=t,this._definitionChanged=new n,this._name=e.name,this._show=u(e.show,!0),this._parent=void 0,this._propertyNames=["billboard","box","corridor","cylinder","description","ellipse","ellipsoid","label","model","orientation","path","point","polygon","polyline","polylineVolume","position","properties","rectangle","viewFrom","wall"],this._billboard=void 0,this._billboardSubscription=void 0,this._box=void 0,this._boxSubscription=void 0,this._corridor=void 0,this._corridorSubscription=void 0,this._cylinder=void 0,this._cylinderSubscription=void 0,this._description=void 0,this._descriptionSubscription=void 0,this._ellipse=void 0,this._ellipseSubscription=void 0,this._ellipsoid=void 0,this._ellipsoidSubscription=void 0,this._label=void 0,this._labelSubscription=void 0,this._model=void 0,this._modelSubscription=void 0,this._orientation=void 0,this._orientationSubscription=void 0,this._path=void 0,this._pathSubscription=void 0,this._point=void 0,this._pointSubscription=void 0,this._polygon=void 0,this._polygonSubscription=void 0,this._polyline=void 0,this._polylineSubscription=void 0,this._polylineVolume=void 0,this._polylineVolumeSubscription=void 0,this._position=void 0,this._positionSubscription=void 0,this._properties=void 0,this._propertiesSubscription=void 0,this._rectangle=void 0,this._rectangleSubscription=void 0,this._viewFrom=void 0,this._viewFromSubscription=void 0,this._wall=void 0,this._wallSubscription=void 0,this._children=[],this.entityCollection=void 0,this.parent=e.parent,this.merge(e)}function R(e,t,i){for(var n=t.length,r=0;r<n;r++){var o=t[r],s=o._show;(!i&&s)!==(i&&s)&&R(o,o._children,i)}e._definitionChanged.raiseEvent(e,"isShowing",i,!i)}var z;t(C.prototype,{availability:y("availability"),id:{get:function(){return this._id}},definitionChanged:{get:function(){return this._definitionChanged}},name:y("name"),show:{get:function(){return this._show},set:function(e){if(!c(e))throw new l("value is required.");if(e!==this._show){var t=this.isShowing;this._show=e;var i=this.isShowing;t!==i&&R(this,this._children,i),this._definitionChanged.raiseEvent(this,"show",e,!e)}}},isShowing:{get:function(){return this._show&&(!c(this.entityCollection)||this.entityCollection.show)&&(!c(this._parent)||this._parent.isShowing)}},parent:{get:function(){return this._parent},set:function(e){var t=this._parent;if(t!==e){var i=this.isShowing;if(c(t)){var n=t._children.indexOf(this);t._children.splice(n,1)}this._parent=e,c(e)&&e._children.push(this);var r=this.isShowing;i!==r&&R(this,this._children,r),this._definitionChanged.raiseEvent(this,"parent",e,t)}}},propertyNames:{get:function(){return this._propertyNames}},billboard:b("billboard",f),box:b("box",d),corridor:b("corridor",g),cylinder:b("cylinder",A),description:M("description"),ellipse:b("ellipse",E),ellipsoid:b("ellipsoid",w),label:b("label",m),model:b("model",v),orientation:M("orientation"),path:b("path",N),point:b("point",D),polygon:b("polygon",T),polyline:b("polyline",I),polylineVolume:b("polylineVolume",O),properties:b("properties",L),position:(z="position",M(z,void 0,x)),rectangle:b("rectangle",_),viewFrom:M("viewFrom"),wall:b("wall",j)}),C.prototype.isAvailable=function(e){if(!c(e))throw new l("time is required.");var t=this._availability;return!c(t)||t.contains(e)},C.prototype.addProperty=function(e){var t=this._propertyNames;if(!c(e))throw new l("propertyName is required.");if(-1!==t.indexOf(e))throw new l(e+" is already a registered property.");if(e in this)throw new l(e+" is a reserved property name.");t.push(e),Object.defineProperty(this,e,y(e,!0))},C.prototype.removeProperty=function(e){var t=this._propertyNames.indexOf(e);if(!c(e))throw new l("propertyName is required.");if(-1===t)throw new l(e+" is not a registered property.");this._propertyNames.splice(t,1),delete this[e]},C.prototype.merge=function(e){if(!c(e))throw new l("source is required.");this.name=u(this.name,e.name),this.availability=u(e.availability,this.availability);for(var t=this._propertyNames,i=c(e._propertyNames)?e._propertyNames:Object.keys(e),n=i.length,r=0;r<n;r++){var o=i[r];if("parent"!==o){var s=this[o],a=e[o];c(s)||-1!==t.indexOf(o)||this.addProperty(o),c(a)&&(c(s)?c(s.merge)&&s.merge(a):c(a.merge)&&c(a.clone)?this[o]=a.clone():this[o]=a)}}};var P=new o,U=new e,B=new a;return C.prototype.computeModelMatrix=function(e,t){r.typeOf.object("time",e);var i=S.getValueOrUndefined(this._position,e,U);if(c(i)){var n=S.getValueOrUndefined(this._orientation,e,B);return t=c(n)?s.fromRotationTranslation(o.fromQuaternion(n,P),i,t):h.eastNorthUpToFixedFrame(i,void 0,t)}},C}),(0,t.amdDefine)("1b",["2c","19","5","6","7","8","1c","17","2d","1d","1a"],function(t,i,c,e,a,n,u,l,r,h,o){"use strict";var s={id:void 0};function f(e){if(e._firing)e._refire=!0;else if(0===e._suspendCount){var t=e._addedEntities,i=e._removedEntities,n=e._changedEntities;if(0!==n.length||0!==t.length||0!==i.length){e._firing=!0;do{e._refire=!1;var r=t.values.slice(0),o=i.values.slice(0),s=n.values.slice(0);t.removeAll(),i.removeAll(),n.removeAll(),e._collectionChanged.raiseEvent(e,r,o,s)}while(e._refire);e._firing=!1}}}function d(e){this._owner=e,this._entities=new t,this._addedEntities=new t,this._removedEntities=new t,this._changedEntities=new t,this._suspendCount=0,this._collectionChanged=new n,this._id=i(),this._show=!0,this._firing=!1,this._refire=!1}return d.prototype.suspendEvents=function(){this._suspendCount++},d.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new a("resumeEvents can not be called before suspendEvents.");this._suspendCount--,f(this)},d.collectionChangedEventCallback=void 0,e(d.prototype,{collectionChanged:{get:function(){return this._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._entities.values}},show:{get:function(){return this._show},set:function(e){if(!c(e))throw new a("value is required.");if(e!==this._show){var t;this.suspendEvents();var i=[],n=this._entities.values,r=n.length;for(t=0;t<r;t++)i.push(n[t].isShowing);for(this._show=e,t=0;t<r;t++){var o=i[t],s=n[t];o!==s.isShowing&&s.definitionChanged.raiseEvent(s,"isShowing",s.isShowing,o)}this.resumeEvents()}}},owner:{get:function(){return this._owner}}}),d.prototype.computeAvailability=function(){for(var e=u.MAXIMUM_VALUE,t=u.MINIMUM_VALUE,i=this._entities.values,n=0,r=i.length;n<r;n++){var o=i[n].availability;if(c(o)){var s=o.start,a=o.stop;l.lessThan(s,e)&&!s.equals(u.MINIMUM_VALUE)&&(e=s),l.greaterThan(a,t)&&!a.equals(u.MAXIMUM_VALUE)&&(t=a)}}return u.MAXIMUM_VALUE.equals(e)&&(e=u.MINIMUM_VALUE),u.MINIMUM_VALUE.equals(t)&&(t=u.MAXIMUM_VALUE),new h({start:e,stop:t})},d.prototype.add=function(e){if(!c(e))throw new a("entity is required.");e instanceof o||(e=new o(e));var t=e.id,i=this._entities;if(i.contains(t))throw new r("An entity with id "+t+" already exists in this collection.");return e.entityCollection=this,i.set(t,e),this._removedEntities.remove(t)||this._addedEntities.set(t,e),e.definitionChanged.addEventListener(d.prototype._onEntityDefinitionChanged,this),f(this),e},d.prototype.remove=function(e){return!!c(e)&&this.removeById(e.id)},d.prototype.contains=function(e){if(!c(e))throw new a("entity is required");return this._entities.get(e.id)===e},d.prototype.removeById=function(e){if(!c(e))return!1;var t=this._entities.get(e);return!!this._entities.remove(e)&&(this._addedEntities.remove(e)||(this._removedEntities.set(e,t),this._changedEntities.remove(e)),this._entities.remove(e),t.definitionChanged.removeEventListener(d.prototype._onEntityDefinitionChanged,this),f(this),!0)},d.prototype.removeAll=function(){for(var e=this._entities,t=e.length,i=e.values,n=this._addedEntities,r=this._removedEntities,o=0;o<t;o++){var s=i[o],a=s.id,u=n.get(a);c(u)||(s.definitionChanged.removeEventListener(d.prototype._onEntityDefinitionChanged,this),r.set(a,s))}e.removeAll(),n.removeAll(),this._changedEntities.removeAll(),f(this)},d.prototype.getById=function(e){if(!c(e))throw new a("id is required.");return this._entities.get(e)},d.prototype.getOrCreateEntity=function(e){if(!c(e))throw new a("id is required.");var t=this._entities.get(e);return c(t)||(s.id=e,t=new o(s),this.add(t)),t},d.prototype._onEntityDefinitionChanged=function(e){var t=e.id;this._addedEntities.contains(t)||this._changedEntities.set(t,e),f(this)},d}),(0,t.amdDefine)("2e",["15","5","7","d"],function(i,D,n,T){"use strict";var v=T.factorial;function I(e,t,i,n,r,o){var s,a,u,c=0;if(0<n){for(a=0;a<r;a++){for(s=!1,u=0;u<o.length&&!s;u++)a===o[u]&&(s=!0);s||(o.push(a),c+=I(e,t,i,n-1,r,o),o.splice(o.length-1,1))}return c}for(c=1,a=0;a<r;a++){for(s=!1,u=0;u<o.length&&!s;u++)a===o[u]&&(s=!0);s||(c*=e-i[t[a]])}return c}var e={type:"Hermite",getRequiredDataPoints:function(e,t){if(t=i(t,0),!D(e))throw new n("degree is required.");if(e<0)throw new n("degree must be 0 or greater.");if(t<0)throw new n("inputOrder must be 0 or greater.");return Math.max(Math.floor((e+1)/(t+1)),2)},interpolateOrderZero:function(e,t,i,n,r){var o,s,a,u,c;D(r)||(r=new Array(n));var l=t.length,h=new Array(n);for(o=0;o<n;o++){r[o]=0;var f=new Array(l);for(h[o]=f,s=0;s<l;s++)f[s]=[]}var d=l,p=new Array(d);for(o=0;o<d;o++)p[o]=o;var g=l-1;for(u=0;u<n;u++){for(s=0;s<d;s++)c=p[s]*n+u,h[u][0].push(i[c]);for(o=1;o<d;o++){var M=!1;for(s=0;s<d-o;s++){var y,A=t[p[s]],E=t[p[s+o]];E-A<=0?(y=i[c=p[s]*n+n*o+u],h[u][o].push(y/v(o))):(y=h[u][o-1][s+1]-h[u][o-1][s],h[u][o].push(y/(E-A))),M=M||0!==y}M||(g=o-1)}}for(a=0;a<=0;a++)for(o=a;o<=g;o++){var w=I(e,p,t,a,o,[]);for(u=0;u<n;u++){var m=h[u][o][0];r[u+a*n]+=m*w}}return r}},O=[];return e.interpolate=function(e,t,i,n,r,o,s){var a=n*(o+1);D(s)||(s=new Array(a));for(var u=0;u<a;u++)s[u]=0;var c,l=t.length,h=new Array(l*(r+1));for(c=0;c<l;c++)for(var f=0;f<r+1;f++)h[c*(r+1)+f]=c;for(var d=h.length,p=O,g=function(e,t,i,n,r,o){for(var s,a,u=-1,c=t.length,l=c*(c+1)/2,h=0;h<r;h++){var f=Math.floor(h*l);for(s=0;s<c;s++)a=t[s]*r*(o+1)+h,e[f+s]=n[a];for(var d=1;d<c;d++){var p=0,g=Math.floor(d*(1-d)/2)+c*d,M=!1;for(s=0;s<c-d;s++){var y,A,E=i[t[s]],w=i[t[s+d]];if(w-E<=0)a=t[s]*r*(o+1)+r*d+h,y=n[a],A=y/T.factorial(d),e[f+g+p]=A,p++;else{var m=Math.floor((d-1)*(2-d)/2)+c*(d-1);y=e[f+m+s+1]-e[f+m+s],A=y/(w-E),e[f+g+p]=A,p++}M=M||0!==y}M&&(u=Math.max(u,d))}}return u}(p,h,t,i,n,r),M=[],y=d*(d+1)/2,A=Math.min(g,o),E=0;E<=A;E++)for(c=E;c<=g;c++){M.length=0;for(var w=I(e,h,t,E,c,M),m=Math.floor(c*(1-c)/2)+d*c,v=0;v<n;v++){var N=p[Math.floor(v*y)+m];s[v+E*n]+=N*w}}return s},e}),(0,t.amdDefine)("2f",["5","6","7","28","2a","21","2b"],function(M,e,t,i,y,A,n){"use strict";var r=function(){t.throwInstantiationError()};function E(e,t){return e&&e.id?e.id===(t&&t.id):e===t}function w(e,t){var i=t;for(i.length=0;M(e);)i.unshift(e),e=e.position&&e.position.referenceFrame;return i}e(r.prototype,{isConstant:{get:t.throwInstantiationError},definitionChanged:{get:t.throwInstantiationError}}),r.prototype.getValue=t.throwInstantiationError,r.prototype.equals=t.throwInstantiationError;var m,o=new i,s=new y;function v(e){var t=n.computeIcrfToFixedMatrix(e,o);return M(t)||(t=n.computeTemeToPseudoFixedMatrix(e,o)),y.fromRotationMatrix(t,s)}var N=new y,D=[],T=[];function I(e,t){if(!M(e))return e;var i=t.orientation;if(M(i)){var n=i.getValue(m,N);if(M(n))return y.multiply(n,e,e)}}function O(e,t){if(!M(e))return e;var i=t.orientation;if(M(i)){var n=i.getValue(m,N);if(M(n))return y.conjugate(n,n),y.multiply(n,e,e)}}function S(e,t,i){for(var n=i,r=0;r<e.length;r++)n=t(n,e[r]);return n}function L(e,t,i){for(var n=i,r=e.length-1;-1<r;r--)n=t(n,e[r]);return n}return r.convertToReferenceFrame=function(e,t,i,n,r){if(!M(t))return t;if(M(r)||(r=new y),i===n)return y.clone(t,r);if(M(i)&&M(n)){m=e;var o=w(i,D),s=w(n,T),a=function(e,t){if(!E(e[0],t[0]))return-1;for(var i=Math.min(e.length,t.length),n=0;n<=i;n++)if(!E(e[n],t[n]))return n-1;return-1}(o,s),u=o[a];if(M(u)){for(var c=0;c<a+1;c++)o.shift(),s.shift();var l=L(o,I,y.clone(t,r));if(!M(l))return;return S(s,O,l)}var h,f,d=o.shift(),p=s.shift();if(d===A.INERTIAL&&p===A.FIXED){if(f=L(o,I,y.clone(t,r)),!M(f))return;return S(s,O,h=y.multiply(v(e),f,r))}if(d===A.FIXED&&p===A.INERTIAL){if(h=L(o,I,y.clone(t,r)),!M(h))return;var g=y.conjugate(v(e),N);return S(s,O,f=y.multiply(g,h,r))}}},r}),(0,t.amdDefine)("30",["1e","15","5","6","7","31"],function(n,r,o,e,i,t){"use strict";function s(e){e=r(e,r.EMPTY_OBJECT),this._offCenterFrustum=new t,this.fov=e.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=r(e.near,1),this._near=this.near,this.far=r(e.far,5e8),this._far=this.far,this.xOffset=r(e.xOffset,0),this._xOffset=this.xOffset,this.yOffset=r(e.yOffset,0),this._yOffset=this.yOffset}function a(e){if(!(o(e.fov)&&o(e.aspectRatio)&&o(e.near)&&o(e.far)))throw new i("fov, aspectRatio, near, or far parameters are not set.");var t=e._offCenterFrustum;if(e.fov!==e._fov||e.aspectRatio!==e._aspectRatio||e.near!==e._near||e.far!==e._far||e.xOffset!==e._xOffset||e.yOffset!==e._yOffset){if(e.fov<0||e.fov>=Math.PI)throw new i("fov must be in the range [0, PI).");if(e.aspectRatio<0)throw new i("aspectRatio must be positive.");if(e.near<0||e.near>e.far)throw new i("near must be greater than zero and less than far.");e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset}}return s.packedLength=6,s.pack=function(e,t,i){return n.typeOf.object("value",e),n.defined("array",t),i=r(i,0),t[i++]=e.fov,t[i++]=e.aspectRatio,t[i++]=e.near,t[i++]=e.far,t[i++]=e.xOffset,t[i]=e.yOffset,t},s.unpack=function(e,t,i){return n.defined("array",e),t=r(t,0),o(i)||(i=new s),i.fov=e[t++],i.aspectRatio=e[t++],i.near=e[t++],i.far=e[t++],i.xOffset=e[t++],i.yOffset=e[t],i},e(s.prototype,{projectionMatrix:{get:function(){return a(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return a(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return a(this),this._fovy}},sseDenominator:{get:function(){return a(this),this._sseDenominator}}}),s.prototype.computeCullingVolume=function(e,t,i){return a(this),this._offCenterFrustum.computeCullingVolume(e,t,i)},s.prototype.getPixelDimensions=function(e,t,i,n){return a(this),this._offCenterFrustum.getPixelDimensions(e,t,i,n)},s.prototype.clone=function(e){return o(e)||(e=new s),e.aspectRatio=this.aspectRatio,e.fov=this.fov,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._fov=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e},s.prototype.equals=function(e){return!!o(e)&&(a(this),a(e),this.fov===e.fov&&this.aspectRatio===e.aspectRatio&&this.near===e.near&&this.far===e.far&&this._offCenterFrustum.equals(e._offCenterFrustum))},s}),(0,t.amdDefine)("32",["33","30"],function(t,i){"use strict";return function(e){return t("PerspectiveFrustum","Scene/PerspectiveFrustum is deprecated. It has moved to Core/PerspectiveFrustum in 1.36. Scene/PerspectiveFrustum will be removed in 1.38."),new i(e)}}),(0,t.amdDefine)("34",["15","5","7"],function(i,n,r){"use strict";var o={};function e(e,t){if(!n(e))throw new r("identifier is required.");n(o[e])||(o[e]=!0,console.warn(i(t,e)))}return e.geometryOutlines="Entity geometry outlines are unsupported on terrain. Outlines will be disabled. To enable outlines, disable geometry terrain clamping by explicitly setting height to 0.",e}),(0,t.amdDefine)("33",["5","7","34"],function(i,n,r){"use strict";return function(e,t){if(!i(e)||!i(t))throw new n("identifier and message are required.");r(e,t)}}),(0,t.amdDefine)("35",["20","36","15","5","7","37","38"],function(h,f,t,d,p,u,c){"use strict";function g(e){this.planes=t(e,[])}var M=[new h,new h,new h];h.clone(h.UNIT_X,M[0]),h.clone(h.UNIT_Y,M[1]),h.clone(h.UNIT_Z,M[2]);var y=new h,A=new h,l=new c(new h(1,0,0),0);return g.fromBoundingSphere=function(e,t){if(!d(e))throw new p("boundingSphere is required.");d(t)||(t=new g);var i=M.length,n=t.planes;n.length=2*i;for(var r=e.center,o=e.radius,s=0,a=0;a<i;++a){var u=M[a],c=n[s],l=n[s+1];d(c)||(c=n[s]=new f),d(l)||(l=n[s+1]=new f),h.multiplyByScalar(u,-o,y),h.add(r,y,y),c.x=u.x,c.y=u.y,c.z=u.z,c.w=-h.dot(u,y),h.multiplyByScalar(u,o,y),h.add(r,y,y),l.x=-u.x,l.y=-u.y,l.z=-u.z,l.w=-h.dot(h.negate(u,A),y),s+=2}return t},g.prototype.computeVisibility=function(e){if(!d(e))throw new p("boundingVolume is required.");for(var t=this.planes,i=!1,n=0,r=t.length;n<r;++n){var o=e.intersectPlane(c.fromCartesian4(t[n],l));if(o===u.OUTSIDE)return u.OUTSIDE;o===u.INTERSECTING&&(i=!0)}return i?u.INTERSECTING:u.INSIDE},g.prototype.computeVisibilityWithPlaneMask=function(e,t){if(!d(e))throw new p("boundingVolume is required.");if(!d(t))throw new p("parentPlaneMask is required.");if(t===g.MASK_OUTSIDE||t===g.MASK_INSIDE)return t;for(var i=g.MASK_INSIDE,n=this.planes,r=0,o=n.length;r<o;++r){var s=r<31?1<<r:0;if(!(r<31&&0==(t&s))){var a=e.intersectPlane(c.fromCartesian4(n[r],l));if(a===u.OUTSIDE)return g.MASK_OUTSIDE;a===u.INTERSECTING&&(i|=s)}}return i},g.MASK_OUTSIDE=4294967295,g.MASK_INSIDE=0,g.MASK_INDETERMINATE=2147483647,g}),(0,t.amdDefine)("31",["20","36","35","15","5","6","7","29"],function(g,M,t,i,y,e,A,a){"use strict";function n(e){e=i(e,i.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=i(e.near,1),this._near=this.near,this.far=i(e.far,5e8),this._far=this.far,this._cullingVolume=new t,this._perspectiveMatrix=new a,this._infinitePerspective=new a}function u(e){if(!(y(e.right)&&y(e.left)&&y(e.top)&&y(e.bottom)&&y(e.near)&&y(e.far)))throw new A("right, left, top, bottom, near, or far parameters are not set.");var t=e.top,i=e.bottom,n=e.right,r=e.left,o=e.near,s=e.far;if(t!==e._top||i!==e._bottom||r!==e._left||n!==e._right||o!==e._near||s!==e._far){if(e.near<=0||e.near>e.far)throw new A("near must be greater than zero and less than far.");e._left=r,e._right=n,e._top=t,e._bottom=i,e._near=o,e._far=s,e._perspectiveMatrix=a.computePerspectiveOffCenter(r,n,i,t,o,s,e._perspectiveMatrix),e._infinitePerspective=a.computeInfinitePerspectiveOffCenter(r,n,i,t,o,e._infinitePerspective)}}e(n.prototype,{projectionMatrix:{get:function(){return u(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return u(this),this._infinitePerspective}}});var E=new g,w=new g,m=new g,v=new g;return n.prototype.computeCullingVolume=function(e,t,i){if(!y(e))throw new A("position is required.");if(!y(t))throw new A("direction is required.");if(!y(i))throw new A("up is required.");var n=this._cullingVolume.planes,r=this.top,o=this.bottom,s=this.right,a=this.left,u=this.near,c=this.far,l=g.cross(t,i,E),h=w;g.multiplyByScalar(t,u,h),g.add(e,h,h);var f=m;g.multiplyByScalar(t,c,f),g.add(e,f,f);var d=v;g.multiplyByScalar(l,a,d),g.add(h,d,d),g.subtract(d,e,d),g.normalize(d,d),g.cross(d,i,d),g.normalize(d,d);var p=n[0];return y(p)||(p=n[0]=new M),p.x=d.x,p.y=d.y,p.z=d.z,p.w=-g.dot(d,e),g.multiplyByScalar(l,s,d),g.add(h,d,d),g.subtract(d,e,d),g.cross(i,d,d),g.normalize(d,d),p=n[1],y(p)||(p=n[1]=new M),p.x=d.x,p.y=d.y,p.z=d.z,p.w=-g.dot(d,e),g.multiplyByScalar(i,o,d),g.add(h,d,d),g.subtract(d,e,d),g.cross(l,d,d),g.normalize(d,d),p=n[2],y(p)||(p=n[2]=new M),p.x=d.x,p.y=d.y,p.z=d.z,p.w=-g.dot(d,e),g.multiplyByScalar(i,r,d),g.add(h,d,d),g.subtract(d,e,d),g.cross(d,l,d),g.normalize(d,d),p=n[3],y(p)||(p=n[3]=new M),p.x=d.x,p.y=d.y,p.z=d.z,p.w=-g.dot(d,e),p=n[4],y(p)||(p=n[4]=new M),p.x=t.x,p.y=t.y,p.z=t.z,p.w=-g.dot(t,h),g.negate(t,d),p=n[5],y(p)||(p=n[5]=new M),p.x=d.x,p.y=d.y,p.z=d.z,p.w=-g.dot(d,f),this._cullingVolume},n.prototype.getPixelDimensions=function(e,t,i,n){if(u(this),!y(e)||!y(t))throw new A("Both drawingBufferWidth and drawingBufferHeight are required.");if(e<=0)throw new A("drawingBufferWidth must be greater than zero.");if(t<=0)throw new A("drawingBufferHeight must be greater than zero.");if(!y(i))throw new A("distance is required.");if(!y(n))throw new A("A result object is required.");var r=1/this.near,o=this.top*r,s=2*i*o/t,a=2*i*(o=this.right*r)/e;return n.x=a,n.y=s,n},n.prototype.clone=function(e){return y(e)||(e=new n),e.right=this.right,e.left=this.left,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},n.prototype.equals=function(e){return y(e)&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},n}),(0,t.amdDefine)("39",["33","31"],function(t,i){"use strict";return function(e){return t("PerspectiveOffCenterFrustum","Scene/PerspectiveOffCenterFrustum is deprecated. It has moved to Core/PerspectiveOffCenterFrustum in 1.36. Scene/PerspectiveOffCenterFrustum will be removed in 1.38."),new i(e)}}),(0,t.amdDefine)("3a",["5","6","7","8","27"],function(r,e,i,n,t){"use strict";function o(e){var t=e._targetEntity;return e._resolveEntity&&(t=e._targetCollection.getById(e._targetId),r(t)&&(e._targetEntity=t,e._resolveEntity=!1)),t}var s=function(e,t){if(!r(e))throw new i("targetCollection is required.");if(!r(t)||""===t)throw new i("targetId is required.");this._targetCollection=e,this._targetId=t,this._targetEntity=void 0,this._definitionChanged=new n,this._resolveEntity=!0,e.collectionChanged.addEventListener(s.prototype._onCollectionChanged,this)};return e(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},id:{get:function(){return this._targetId}},position:{get:function(){var e=o(this);return r(e)?e.position:void 0}},orientation:{get:function(){var e=o(this);return r(e)?e.orientation:void 0}},targetId:{get:function(){return this._targetId}},targetCollection:{get:function(){return this._targetCollection}},resolvedEntity:{get:function(){return o(this)}}}),s.prototype._onCollectionChanged=function(e,t,i){var n=this._targetEntity;r(n)&&(-1!==i.indexOf(n)?this._resolveEntity=!0:this._resolveEntity&&(o(this),this._resolveEntity||this._definitionChanged.raiseEvent(this)))},s}),(0,t.amdDefine)("3b",["5","6","7","8","2d","27"],function(c,e,l,o,s,t){"use strict";function r(e){var t=e._targetProperty;if(e._resolveProperty){var i=function(e){var t=!0;if(e._resolveEntity){var i=e._targetCollection.getById(e._targetId);if(c(i)?(i.definitionChanged.addEventListener(h.prototype._onTargetEntityDefinitionChanged,e),e._targetEntity=i,e._resolveEntity=!1):(i=e._targetEntity,t=!1),!c(i))throw new s('target entity "'+e._targetId+'" could not be resolved.')}return t}(e),n=e._targetPropertyNames;t=e._targetEntity;for(var r=n.length,o=0;o<r&&c(t);o++)t=t[n[o]];if(c(t))e._targetProperty=t,e._resolveProperty=!i;else if(!c(e._targetProperty))throw new s('targetProperty "'+e._targetId+"."+n.join(".")+'" could not be resolved.')}return t}function h(e,t,i){if(!c(e))throw new l("targetCollection is required.");if(!c(t)||""===t)throw new l("targetId is required.");if(!c(i)||0===i.length)throw new l("targetPropertyNames is required.");for(var n=0;n<i.length;n++){var r=i[n];if(!c(r)||""===r)throw new l("reference contains invalid properties.")}this._targetCollection=e,this._targetId=t,this._targetPropertyNames=i,this._targetProperty=void 0,this._targetEntity=void 0,this._definitionChanged=new o,this._resolveEntity=!0,this._resolveProperty=!0,e.collectionChanged.addEventListener(h.prototype._onCollectionChanged,this)}return e(h.prototype,{isConstant:{get:function(){return t.isConstant(r(this))}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return r(this).referenceFrame}},targetId:{get:function(){return this._targetId}},targetCollection:{get:function(){return this._targetCollection}},targetPropertyNames:{get:function(){return this._targetPropertyNames}},resolvedProperty:{get:function(){return r(this)}}}),h.fromString=function(e,t){if(!c(e))throw new l("targetCollection is required.");if(!c(t))throw new l("referenceString is required.");for(var i,n=[],r=!0,o=!1,s="",a=0;a<t.length;++a){var u=t.charAt(a);o?(s+=u,o=!1):"\\"===u?o=!0:r&&"#"===u?(i=s,r=!1,s=""):r||"."!==u?s+=u:(n.push(s),s="")}return n.push(s),new h(e,i,n)},h.prototype.getValue=function(e,t){return r(this).getValue(e,t)},h.prototype.getValueInReferenceFrame=function(e,t,i){return r(this).getValueInReferenceFrame(e,t,i)},h.prototype.getType=function(e){return r(this).getType(e)},h.prototype.equals=function(e){if(this===e)return!0;var t=this._targetPropertyNames,i=e._targetPropertyNames;if(this._targetCollection!==e._targetCollection||this._targetId!==e._targetId||t.length!==i.length)return!1;for(var n=this._targetPropertyNames.length,r=0;r<n;r++)if(t[r]!==i[r])return!1;return!0},h.prototype._onTargetEntityDefinitionChanged=function(e,t,i,n){this._targetPropertyNames[0]===t&&(this._resolveProperty=!0,this._definitionChanged.raiseEvent(this))},h.prototype._onCollectionChanged=function(e,t,i){var n=this._targetEntity;c(n)&&(-1!==i.indexOf(n)?(n.definitionChanged.removeEventListener(h.prototype._onTargetEntityDefinitionChanged,this),this._resolveEntity=!0,this._resolveProperty=!0):this._resolveEntity&&(r(this),this._resolveEntity||this._definitionChanged.raiseEvent(this)))},h}),(0,t.amdDefine)("21",["11"],function(e){"use strict";return e({FIXED:0,INERTIAL:1})}),(0,t.amdDefine)("22",["20","5","6","7","28","29","2a","21","2b"],function(M,y,e,t,A,i,a,E,n){"use strict";function r(){t.throwInstantiationError()}function w(e,t){return e&&e.id?e.id===(t&&t.id):e===t}function m(e,t){var i=t;for(i.length=0;y(e);)i.unshift(e),e=e.position&&e.position.referenceFrame;return i}e(r.prototype,{isConstant:{get:t.throwInstantiationError},definitionChanged:{get:t.throwInstantiationError},referenceFrame:{get:t.throwInstantiationError}}),r.prototype.getValue=t.throwInstantiationError,r.prototype.getValueInReferenceFrame=t.throwInstantiationError,r.prototype.equals=t.throwInstantiationError;var o=new A;function v(e){var t=n.computeIcrfToFixedMatrix(e,o);return y(t)||(t=n.computeTemeToPseudoFixedMatrix(e,o)),t}var N,D=new A,u=new M,c=new a,T=[],I=[];function O(e,t){if(!y(e))return e;var i=t.position;if(y(i)){var n=i.referenceFrame,r=i.getValueInReferenceFrame(N,n,u);if(y(r)){var o=t.orientation;if(y(o)){var s=o.getValue(N,c);if(!y(s))return;return A.fromQuaternion(s,D),A.multiplyByVector(D,e,e),M.add(r,e,e)}return M.add(r,e,e)}}}function S(e,t){if(!y(e))return e;var i=t.position;if(y(i)){var n=i.referenceFrame,r=i.getValueInReferenceFrame(N,n,u);if(y(r)){e=M.subtract(e,r,e);var o=t.orientation;if(y(o)){var s=o.getValue(N,c);if(!y(s))return;a.conjugate(s,s),A.fromQuaternion(s,D),A.multiplyByVector(D,e,e)}return e}}}function L(e,t,i){for(var n=i,r=0;r<e.length;r++)n=t(n,e[r]);return n}function _(e,t,i){for(var n=i,r=e.length-1;-1<r;r--)n=t(n,e[r]);return n}return r.convertToReferenceFrame=function(e,t,i,n,r){if(!y(t))return t;if(y(r)||(r=new M),i===n)return M.clone(t,r);if(y(i)&&y(n)){N=e;var o=m(i,T),s=m(n,I),a=function(e,t){if(!w(e[0],t[0]))return-1;for(var i=Math.min(e.length,t.length),n=0;n<=i;n++)if(!w(e[n],t[n]))return n-1;return-1}(o,s),u=o[a];if(y(u)){for(var c=0;c<a+1;c++)o.shift(),s.shift();var l=_(o,O,M.clone(t,r));if(!y(l))return;return L(s,S,l)}var h,f,d=o.shift(),p=s.shift();if(d===E.INERTIAL&&p===E.FIXED){if(f=_(o,O,M.clone(t,r)),!y(f))return;return L(s,S,h=A.multiplyByVector(v(e),f,r))}if(d===E.FIXED&&p===E.INERTIAL){if(h=_(o,O,M.clone(t,r)),!y(h))return;var g=A.transpose(v(e),D);return L(s,S,f=A.multiplyByVector(g,h,r))}}},r}),(0,t.amdDefine)("27",["15","5","6","7"],function(r,o,e,t){"use strict";function s(){t.throwInstantiationError()}return e(s.prototype,{isConstant:{get:t.throwInstantiationError},definitionChanged:{get:t.throwInstantiationError}}),s.prototype.getValue=t.throwInstantiationError,s.prototype.equals=t.throwInstantiationError,s.equals=function(e,t){return e===t||o(e)&&e.equals(t)},s.arrayEquals=function(e,t){if(e===t)return!0;if(!o(e)||!o(t)||e.length!==t.length)return!1;for(var i=e.length,n=0;n<i;n++)if(!s.equals(e[n],t[n]))return!1;return!0},s.isConstant=function(e){return!o(e)||e.isConstant},s.getValueOrUndefined=function(e,t,i){return o(e)?e.getValue(t,i):void 0},s.getValueOrDefault=function(e,t,i,n){return o(e)?r(e.getValue(t,n),i):i},s.getValueOrClonedDefault=function(e,t,i,n){var r;return o(e)&&(r=e.getValue(t,n)),o(r)||(r=i.clone(r)),r},s}),(0,t.amdDefine)("3c",["20","15","5","6","7","8","21","22","27","3d"],function(r,o,s,e,a,u,c,n,t,l){"use strict";function i(e,t){var i;if(0<(t=o(t,0))){i=new Array(t);for(var n=0;n<t;n++)i[n]=r}this._numberOfDerivatives=t,this._property=new l(r,i),this._definitionChanged=new u,this._referenceFrame=o(e,c.FIXED),this._property._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)}return e(i.prototype,{isConstant:{get:function(){return this._property.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}},interpolationDegree:{get:function(){return this._property.interpolationDegree}},interpolationAlgorithm:{get:function(){return this._property.interpolationAlgorithm}},numberOfDerivatives:{get:function(){return this._numberOfDerivatives}},forwardExtrapolationType:{get:function(){return this._property.forwardExtrapolationType},set:function(e){this._property.forwardExtrapolationType=e}},forwardExtrapolationDuration:{get:function(){return this._property.forwardExtrapolationDuration},set:function(e){this._property.forwardExtrapolationDuration=e}},backwardExtrapolationType:{get:function(){return this._property.backwardExtrapolationType},set:function(e){this._property.backwardExtrapolationType=e}},backwardExtrapolationDuration:{get:function(){return this._property.backwardExtrapolationDuration},set:function(e){this._property.backwardExtrapolationDuration=e}}}),i.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,c.FIXED,t)},i.prototype.getValueInReferenceFrame=function(e,t,i){if(!s(e))throw new a("time is required.");if(!s(t))throw new a("referenceFrame is required.");if(i=this._property.getValue(e,i),s(i))return n.convertToReferenceFrame(e,i,this._referenceFrame,t,i)},i.prototype.setInterpolationOptions=function(e){this._property.setInterpolationOptions(e)},i.prototype.addSample=function(e,t,i){var n=this._numberOfDerivatives;if(0<n&&(!s(i)||i.length!==n))throw new a("derivatives length must be equal to the number of derivatives.");this._property.addSample(e,t,i)},i.prototype.addSamples=function(e,t,i){this._property.addSamples(e,t,i)},i.prototype.addSamplesPackedArray=function(e,t){this._property.addSamplesPackedArray(e,t)},i.prototype.equals=function(e){return this===e||e instanceof i&&t.equals(this._property,e._property)&&this._referenceFrame===e._referenceFrame},i}),(0,t.amdDefine)("8",["1e","5","6"],function(s,a,e){"use strict";function t(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}return e(t.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),t.prototype.addEventListener=function(e,t){s.typeOf.func("listener",e),this._listeners.push(e),this._scopes.push(t);var i=this;return function(){i.removeEventListener(e,t)}},t.prototype.removeEventListener=function(e,t){s.typeOf.func("listener",e);for(var i=this._listeners,n=this._scopes,r=-1,o=0;o<i.length;o++)if(i[o]===e&&n[o]===t){r=o;break}return-1!==r&&(this._insideRaiseEvent?(this._toRemove.push(r),i[r]=void 0,n[r]=void 0):(i.splice(r,1),n.splice(r,1)),!0)},t.prototype.raiseEvent=function(){var e;this._insideRaiseEvent=!0;var t=this._listeners,i=this._scopes,n=t.length;for(e=0;e<n;e++){var r=t[e];a(r)&&t[e].apply(i[e],arguments)}var o=this._toRemove;for(n=o.length,e=0;e<n;e++){var s=o[e];t.splice(s,1),i.splice(s,1)}o.length=0,this._insideRaiseEvent=!1},t}),(0,t.amdDefine)("3e",["11"],function(e){"use strict";return e({NONE:0,HOLD:1,EXTRAPOLATE:2})}),(0,t.amdDefine)("3f",["5","7"],function(l,h){"use strict";var e={type:"Linear",getRequiredDataPoints:function(e){return 2},interpolateOrderZero:function(e,t,i,n,r){if(2!==t.length)throw new h("The xTable provided to the linear interpolator must have exactly two elements.");if(n<=0)throw new h("There must be at least 1 dependent variable for each independent variable.");var o,s,a;l(r)||(r=new Array(n));var u=t[0],c=t[1];if(u===c)throw new h("Divide by zero error: xTable[0] and xTable[1] are equal");for(o=0;o<n;o++)s=i[o],a=i[o+n],r[o]=((a-s)*e+c*s-u*a)/(c-u);return r}};return e}),(0,t.amdDefine)("3d",["40","15","5","6","7","8","3e","17","3f"],function(_,h,j,e,x,f,b,C,d){"use strict";var p={packedLength:1,pack:function(e,t,i){t[i=h(i,0)]=e},unpack:function(e,t,i){return e[t=h(t,0)]}};function g(e,t,i){var n,r=e.length,o=i.length,s=r+o;if(e.length=s,r!==t){var a=r-1;for(n=s-1;t<=n;n--)e[n]=e[a--]}for(n=0;n<o;n++)e[t++]=i[n]}function M(e,t){return e instanceof C?e:"string"==typeof e?C.fromIso8601(e):C.addSeconds(t,e,new C)}var y=[],A=[];function E(e,t,i,n,r){for(var o,s,a,u,c,l,h=0;h<n.length;){c=M(n[h],e);var f=0,d=0;if((a=_(t,c,C.compare))<0){for(u=(a=~a)*r,s=void 0,l=t[a];h<n.length&&(c=M(n[h],e),!(j(s)&&0<=C.compare(s,c)||j(l)&&0<=C.compare(c,l)));){for(y[f++]=c,h+=1,o=0;o<r;o++)A[d++]=n[h],h+=1;s=c}0<f&&(A.length=d,g(i,u,A),y.length=f,g(t,a,y))}else{for(o=0;o<r;o++)h++,i[a*r+o]=n[h];h++}}}function t(e,t){if(!j(e))throw new x("type is required.");var i=e;i===Number&&(i=p);var n,r=i.packedLength,o=h(i.packedInterpolationLength,r),s=0;if(j(t)){var a=t.length;n=new Array(a);for(var u=0;u<a;u++){var c=t[u];c===Number&&(c=p);var l=c.packedLength;r+=l,o+=h(c.packedInterpolationLength,l),n[u]=c}s=a}this._type=e,this._innerType=i,this._interpolationDegree=1,this._interpolationAlgorithm=d,this._numberOfPoints=0,this._times=[],this._values=[],this._xTable=[],this._yTable=[],this._packedLength=r,this._packedInterpolationLength=o,this._updateTableLength=!0,this._interpolationResult=new Array(o),this._definitionChanged=new f,this._derivativeTypes=t,this._innerDerivativeTypes=n,this._inputOrder=s,this._forwardExtrapolationType=b.NONE,this._forwardExtrapolationDuration=0,this._backwardExtrapolationType=b.NONE,this._backwardExtrapolationDuration=0}return e(t.prototype,{isConstant:{get:function(){return 0===this._values.length}},definitionChanged:{get:function(){return this._definitionChanged}},type:{get:function(){return this._type}},derivativeTypes:{get:function(){return this._derivativeTypes}},interpolationDegree:{get:function(){return this._interpolationDegree}},interpolationAlgorithm:{get:function(){return this._interpolationAlgorithm}},forwardExtrapolationType:{get:function(){return this._forwardExtrapolationType},set:function(e){this._forwardExtrapolationType!==e&&(this._forwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},forwardExtrapolationDuration:{get:function(){return this._forwardExtrapolationDuration},set:function(e){this._forwardExtrapolationDuration!==e&&(this._forwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationType:{get:function(){return this._backwardExtrapolationType},set:function(e){this._backwardExtrapolationType!==e&&(this._backwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationDuration:{get:function(){return this._backwardExtrapolationDuration},set:function(e){this._backwardExtrapolationDuration!==e&&(this._backwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}}}),t.prototype.getValue=function(e,t){if(!j(e))throw new x("time is required.");var i=this._times,n=i.length;if(0!==n){var r,o=this._innerType,s=this._values,a=_(i,e,C.compare);if(a<0){if(0==(a=~a)){var u=i[a];if(r=this._backwardExtrapolationDuration,this._backwardExtrapolationType===b.NONE||0!==r&&C.secondsDifference(u,e)>r)return;if(this._backwardExtrapolationType===b.HOLD)return o.unpack(s,0,t)}if(n<=a){var c=i[a=n-1];if(r=this._forwardExtrapolationDuration,this._forwardExtrapolationType===b.NONE||0!==r&&C.secondsDifference(e,c)>r)return;if(this._forwardExtrapolationType===b.HOLD)return a=n-1,o.unpack(s,a*o.packedLength,t)}var l=this._xTable,h=this._yTable,f=this._interpolationAlgorithm,d=this._packedInterpolationLength,p=this._inputOrder;if(this._updateTableLength){this._updateTableLength=!1;var g=Math.min(f.getRequiredDataPoints(this._interpolationDegree,p),n);g!==this._numberOfPoints&&(this._numberOfPoints=g,l.length=g,h.length=g*d)}var M=this._numberOfPoints-1;if(M<1)return;var y=0,A=n-1;if(M+1<=A-y+1){var E=a-(M/2|0)-1;E<y&&(E=y);var w=E+M;A<w&&(E=(w=A)-M)<y&&(E=y),y=E,A=w}for(var m=A-y+1,v=0;v<m;++v)l[v]=C.secondsDifference(i[y+v],i[A]);if(j(o.convertPackedArrayForInterpolation))o.convertPackedArrayForInterpolation(s,y,A,h);else for(var N=0,D=this._packedLength,T=y*D,I=(A+1)*D;T<I;)h[N]=s[T],T++,N++;var O,S=C.secondsDifference(e,i[A]);if(0!==p&&j(f.interpolate)){var L=Math.floor(d/(p+1));O=f.interpolate(S,l,h,L,p,p,this._interpolationResult)}else O=f.interpolateOrderZero(S,l,h,d,this._interpolationResult);return j(o.unpackInterpolationResult)?o.unpackInterpolationResult(O,s,y,A,t):o.unpack(O,0,t)}return o.unpack(s,a*this._packedLength,t)}},t.prototype.setInterpolationOptions=function(e){if(j(e)){var t=!1,i=e.interpolationAlgorithm,n=e.interpolationDegree;j(i)&&this._interpolationAlgorithm!==i&&(this._interpolationAlgorithm=i,t=!0),j(n)&&this._interpolationDegree!==n&&(this._interpolationDegree=n,t=!0),t&&(this._updateTableLength=!0,this._definitionChanged.raiseEvent(this))}},t.prototype.addSample=function(e,t,i){var n=this._innerDerivativeTypes,r=j(n);if(!j(e))throw new x("time is required.");if(!j(t))throw new x("value is required.");if(r&&!j(i))throw new x("derivatives is required.");var o=this._innerType,s=[];if(s.push(e),o.pack(t,s,s.length),r)for(var a=n.length,u=0;u<a;u++)n[u].pack(i[u],s,s.length);E(void 0,this._times,this._values,s,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},t.prototype.addSamples=function(e,t,i){var n=this._innerDerivativeTypes,r=j(n);if(!j(e))throw new x("times is required.");if(!j(t))throw new x("values is required.");if(e.length!==t.length)throw new x("times and values must be the same length.");if(r&&(!j(i)||i.length!==e.length))throw new x("times and derivativeValues must be the same length.");for(var o=this._innerType,s=e.length,a=[],u=0;u<s;u++)if(a.push(e[u]),o.pack(t[u],a,a.length),r)for(var c=i[u],l=n.length,h=0;h<l;h++)n[h].pack(c[h],a,a.length);E(void 0,this._times,this._values,a,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},t.prototype.addSamplesPackedArray=function(e,t){if(!j(e))throw new x("packedSamples is required.");E(t,this._times,this._values,e,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},t.prototype.equals=function(e){if(this===e)return!0;if(!j(e))return!1;if(this._type!==e._type||this._interpolationDegree!==e._interpolationDegree||this._interpolationAlgorithm!==e._interpolationAlgorithm)return!1;var t,i,n=this._derivativeTypes,r=j(n),o=e._derivativeTypes;if(r!==j(o))return!1;if(r){if((i=n.length)!==o.length)return!1;for(t=0;t<i;t++)if(n[t]!==o[t])return!1}var s=this._times,a=e._times;if((i=s.length)!==a.length)return!1;for(t=0;t<i;t++)if(!C.equals(s[t],a[t]))return!1;var u=this._values,c=e._values;for(t=0;t<i;t++)if(u[t]!==c[t])return!1;return!0},t._mergeNewSamples=E,t}),(0,t.amdDefine)("2c",["5","6","7"],function(r,e,o){"use strict";function t(){this._array=[],this._hash={}}return e(t.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}}),t.prototype.contains=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");return r(this._hash[e])},t.prototype.set=function(e,t){if("string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");t!==this._hash[e]&&(this.remove(e),this._hash[e]=t,this._array.push(t))},t.prototype.get=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");return this._hash[e]},t.prototype.remove=function(e){if(r(e)&&"string"!=typeof e&&"number"!=typeof e)throw new o("key is required to be a string or number.");var t=this._hash[e],i=r(t);if(i){var n=this._array;n.splice(n.indexOf(t),1),delete this._hash[e]}return i},t.prototype.removeAll=function(){var e=this._array;0<e.length&&(this._hash={},e.length=0)},t}),(0,t.amdDefine)("16",["5"],function(e){"use strict";return"undefined"!=typeof performance&&e(performance.now)?function(){return performance.now()}:function(){return Date.now()}}),(0,t.amdDefine)("c",["11"],function(e){"use strict";return e({SHIFT:0,CTRL:1,ALT:2})}),(0,t.amdDefine)("e",["2c","a","15","5","b","7","41","16","c","f"],function(r,N,o,D,e,s,a,t,i,T){"use strict";function f(e,t,i){var n=e._element;if(n===document)return i.x=t.clientX,i.y=t.clientY,i;var r=n.getBoundingClientRect();return i.x=t.clientX-r.left,i.y=t.clientY-r.top,i}function u(e,t){var i=e;return D(t)&&(i+="+"+t),i}function I(e){return e.shiftKey?i.SHIFT:e.ctrlKey?i.CTRL:e.altKey?i.ALT:void 0}var O={LEFT:0,MIDDLE:1,RIGHT:2};function c(t,e,i,n){function r(e){n(t,e)}i.addEventListener(e,r,!1),t._removalFunctions.push(function(){i.removeEventListener(e,r,!1)})}var l={position:new N};function h(e){e._lastSeenTouchEvent=t()}function d(e){return t()-e._lastSeenTouchEvent>Q.mouseEmulationIgnoreMilliseconds}function p(e,t){if(d(e)){var i,n=t.button;if((e._buttonDown=n)===O.LEFT)i=T.LEFT_DOWN;else if(n===O.MIDDLE)i=T.MIDDLE_DOWN;else{if(n!==O.RIGHT)return;i=T.RIGHT_DOWN}var r=f(e,t,e._primaryPosition);N.clone(r,e._primaryStartPosition),N.clone(r,e._primaryPreviousPosition);var o=I(t),s=e.getInputAction(i,o);D(s)&&(N.clone(r,l.position),s(l),t.preventDefault())}}var g={position:new N},M={position:new N};function y(e,t){if(d(e)){var i,n,r=t.button;if(e._buttonDown=void 0,r===O.LEFT)i=T.LEFT_UP,n=T.LEFT_CLICK;else if(r===O.MIDDLE)i=T.MIDDLE_UP,n=T.MIDDLE_CLICK;else{if(r!==O.RIGHT)return;i=T.RIGHT_UP,n=T.RIGHT_CLICK}var o=I(t),s=e.getInputAction(i,o),a=e.getInputAction(n,o);if(D(s)||D(a)){var u=f(e,t,e._primaryPosition);if(D(s)&&(N.clone(u,g.position),s(g)),D(a)){var c=e._primaryStartPosition,l=c.x-u.x,h=c.y-u.y;Math.sqrt(l*l+h*h)<e._clickPixelTolerance&&(N.clone(u,M.position),a(M))}}}}var A={startPosition:new N,endPosition:new N};function E(e,t){if(d(e)){var i=I(t),n=f(e,t,e._primaryPosition),r=e._primaryPreviousPosition,o=e.getInputAction(T.MOUSE_MOVE,i);D(o)&&(N.clone(r,A.startPosition),N.clone(n,A.endPosition),o(A)),N.clone(n,r),D(e._buttonDown)&&t.preventDefault()}}var w={position:new N};function m(e,t){var i;if(t.button===O.LEFT){i=T.LEFT_DOUBLE_CLICK;var n=I(t),r=e.getInputAction(i,n);D(r)&&(f(e,t,w.position),r(w))}}function v(e,t){var i;if(D(t.deltaY)){var n=t.deltaMode;i=n===t.DOM_DELTA_PIXEL?-t.deltaY:n===t.DOM_DELTA_LINE?40*-t.deltaY:120*-t.deltaY}else i=0<t.detail?-120*t.detail:t.wheelDelta;if(D(i)){var r=I(t),o=e.getInputAction(T.WHEEL,r);D(o)&&(o(i),t.preventDefault())}}function S(e,t){h(e);var i,n,r,o=t.changedTouches,s=o.length,a=e._positions;for(i=0;i<s;++i)r=(n=o[i]).identifier,a.set(r,f(e,n,new N));C(e,t);var u=e._previousPositions;for(i=0;i<s;++i)r=(n=o[i]).identifier,u.set(r,N.clone(a.get(r)))}function L(e,t){h(e);var i,n,r=t.changedTouches,o=r.length,s=e._positions;for(i=0;i<o;++i)n=r[i].identifier,s.remove(n);C(e,t);var a=e._previousPositions;for(i=0;i<o;++i)n=r[i].identifier,a.remove(n)}var _={position:new N},j={position1:new N,position2:new N},x={position:new N},b={position:new N};function C(e,t){var i,n,r=I(t),o=e._positions,s=e._previousPositions,a=o.length;if(1!==a&&e._buttonDown===O.LEFT&&(e._buttonDown=void 0,i=e.getInputAction(T.LEFT_UP,r),D(i)&&(N.clone(e._primaryPosition,x.position),i(x)),0===a&&(n=e.getInputAction(T.LEFT_CLICK,r),D(n)))){var u=e._primaryStartPosition,c=s.values[0],l=u.x-c.x,h=u.y-c.y;Math.sqrt(l*l+h*h)<e._clickPixelTolerance&&(N.clone(e._primaryPosition,b.position),n(b))}if(2!==a&&e._isPinching&&(e._isPinching=!1,i=e.getInputAction(T.PINCH_END,r),D(i)&&i()),1===a){var f=o.values[0];N.clone(f,e._primaryPosition),N.clone(f,e._primaryStartPosition),N.clone(f,e._primaryPreviousPosition),e._buttonDown=O.LEFT,i=e.getInputAction(T.LEFT_DOWN,r),D(i)&&(N.clone(f,_.position),i(_)),t.preventDefault()}2===a&&(e._isPinching=!0,i=e.getInputAction(T.PINCH_START,r),D(i)&&(N.clone(o.values[0],j.position1),N.clone(o.values[1],j.position2),i(j),t.preventDefault()))}function R(e,t){h(e);var i,n,r,o=t.changedTouches,s=o.length,a=e._positions;for(i=0;i<s;++i){r=(n=o[i]).identifier;var u=a.get(r);D(u)&&f(e,n,u)}U(e,t);var c=e._previousPositions;for(i=0;i<s;++i)r=(n=o[i]).identifier,N.clone(a.get(r),c.get(r))}var z={startPosition:new N,endPosition:new N},P={distance:{startPosition:new N,endPosition:new N},angleAndHeight:{startPosition:new N,endPosition:new N}};function U(e,t){var i,n=I(t),r=e._positions,o=e._previousPositions,s=r.length;if(1===s&&e._buttonDown===O.LEFT){var a=r.values[0];N.clone(a,e._primaryPosition);var u=e._primaryPreviousPosition;i=e.getInputAction(T.MOUSE_MOVE,n),D(i)&&(N.clone(u,z.startPosition),N.clone(a,z.endPosition),i(z)),N.clone(a,u),t.preventDefault()}else if(2===s&&e._isPinching&&(i=e.getInputAction(T.PINCH_MOVE,n),D(i))){var c=r.values[0],l=r.values[1],h=o.values[0],f=o.values[1],d=l.x-c.x,p=l.y-c.y,g=.25*Math.sqrt(d*d+p*p),M=f.x-h.x,y=f.y-h.y,A=.25*Math.sqrt(M*M+y*y),E=.125*(l.y+c.y),w=.125*(f.y+h.y),m=Math.atan2(p,d),v=Math.atan2(y,M);N.fromElements(0,A,P.distance.startPosition),N.fromElements(0,g,P.distance.endPosition),N.fromElements(v,w,P.angleAndHeight.startPosition),N.fromElements(m,E,P.angleAndHeight.endPosition),i(P)}}function B(e,t){if(t.target.setPointerCapture(t.pointerId),"touch"===t.pointerType){var i=e._positions,n=t.pointerId;i.set(n,f(e,t,new N)),C(e,t),e._previousPositions.set(n,N.clone(i.get(n)))}else p(e,t)}function k(e,t){if("touch"===t.pointerType){var i=e._positions,n=t.pointerId;i.remove(n),C(e,t),e._previousPositions.remove(n)}else y(e,t)}function F(e,t){if("touch"===t.pointerType){var i=e._positions,n=t.pointerId,r=i.get(n);if(!D(r))return;f(e,t,r),U(e,t);var o=e._previousPositions;N.clone(i.get(n),o.get(n))}else E(e,t)}function Q(e){var t,i,n;this._inputEvents={},this._buttonDown=void 0,this._isPinching=!1,this._lastSeenTouchEvent=-Q.mouseEmulationIgnoreMilliseconds,this._primaryStartPosition=new N,this._primaryPosition=new N,this._primaryPreviousPosition=new N,this._positions=new r,this._previousPositions=new r,this._removalFunctions=[],this._clickPixelTolerance=5,this._element=o(e,document),i=(t=this)._element,n=D(i.disableRootEvents)?i:document,a.supportsPointerEvents()?(c(t,"pointerdown",i,B),c(t,"pointerup",i,k),c(t,"pointermove",i,F),c(t,"pointercancel",i,k)):(c(t,"mousedown",i,p),c(t,"mouseup",n,y),c(t,"mousemove",n,E),c(t,"touchstart",i,S),c(t,"touchend",n,L),c(t,"touchmove",n,R),c(t,"touchcancel",n,L)),c(t,"dblclick",i,m),c(t,"onwheel"in i?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",i,v)}return Q.prototype.setInputAction=function(e,t,i){if(!D(e))throw new s("action is required.");if(!D(t))throw new s("type is required.");var n=u(t,i);this._inputEvents[n]=e},Q.prototype.getInputAction=function(e,t){if(!D(e))throw new s("type is required.");var i=u(e,t);return this._inputEvents[i]},Q.prototype.removeInputAction=function(e,t){if(!D(e))throw new s("type is required.");var i=u(e,t);delete this._inputEvents[i]},Q.prototype.isDestroyed=function(){return!1},Q.prototype.destroy=function(){return function(e){for(var t=e._removalFunctions,i=0;i<t.length;++i)t[i]()}(this),e(this)},Q.mouseEmulationIgnoreMilliseconds=800,Q}),(0,t.amdDefine)("f",["11"],function(e){"use strict";return e({LEFT_DOWN:0,LEFT_UP:1,LEFT_CLICK:2,LEFT_DOUBLE_CLICK:3,RIGHT_DOWN:5,RIGHT_UP:6,RIGHT_CLICK:7,MIDDLE_DOWN:10,MIDDLE_UP:11,MIDDLE_CLICK:12,MOUSE_MOVE:15,WHEEL:16,PINCH_START:17,PINCH_END:18,PINCH_MOVE:19})}),(0,t.amdDefine)("42",["20","5","7","17","d","28","43","44"],function(M,y,A,r,E,w,_,e){"use strict";var t={},o=32.184,s=2451545;function j(e,t){t=r.addSeconds(e,o,t);var i,n=r.totalDays(t)-s;return t=r.addSeconds(t,(i=6.239996+.0172019696544*n,.001657*Math.sin(i+.01671*Math.sin(i))),t)}var x=new r(2451545,0,e.TAI),b=1e3,C=E.RADIANS_PER_DEGREE,R=E.RADIANS_PER_ARCSECOND,i=14959787e4,m=new w;function z(e,t,i,n,r,o,s){if(i<0&&(i=-i,r+=E.PI),i<0||i>E.PI)throw new A("The inclination is out of range. Inclination must be greater than or equal to zero and less than or equal to Pi radians.");var a=e*(1-t),u=n-r,c=r,l=function(e,t){if(t<0||1<=t)throw new A("eccentricity out of range.");return function(e,t){if(t<0||1<=t)throw new A("eccentricity out of range.");var i=Math.floor(e/E.TWO_PI);e-=i*E.TWO_PI;var n=Math.cos(e)-t,r=Math.sin(e)*Math.sqrt(1-t*t),o=Math.atan2(r,n);return o=E.zeroToTwoPi(o),e<0&&(o-=E.TWO_PI),o+=i*E.TWO_PI}(function(e,t){if(t<0||1<=t)throw new A("eccentricity out of range.");var i,n=Math.floor(e/E.TWO_PI),r=(e-=n*E.TWO_PI)+t*Math.sin(e)/(1-Math.sin(e+t)+Math.sin(e)),o=Number.MAX_VALUE;for(i=0;i<v&&Math.abs(o-r)>N;++i){var s=(o=r)-t*Math.sin(o)-e,a=1-t*Math.cos(o);r=o-s/a}if(v<=i)throw new A("Kepler equation did not converge");return o=r+n*E.TWO_PI}(e,t),t)}(o-n,t);if("Hyperbolic"===function(e,t){if(e<0)throw new A("eccentricity cannot be negative.");return e<=t?"Circular":e<1-t?"Elliptical":e<=1+t?"Parabolic":"Hyperbolic"}(t,0)&&Math.abs(E.negativePiToPi(l))>=Math.acos(-1/t))throw new A("The true anomaly of the hyperbolic orbit lies outside of the bounds of the hyperbola.");!function(e,t,i,n){if(t<0||t>E.PI)throw new A("inclination out of range");var r=Math.cos(e),o=Math.sin(e),s=Math.cos(t),a=Math.sin(t),u=Math.cos(i),c=Math.sin(i);y(n)?(n[0]=u*r-c*o*s,n[1]=c*r+u*o*s,n[2]=o*a,n[3]=-u*o-c*r*s,n[4]=-c*o+u*r*s,n[5]=r*a,n[6]=c*a,n[7]=-u*a,n[8]=s):n=new w(u*r-c*o*s,-u*o-c*r*s,c*a,c*r+u*o*s,-c*o+u*r*s,-u*a,o*a,r*a,s)}(u,i,c,m);var h=a*(1+t),f=Math.cos(l),d=Math.sin(l),p=1+t*f;if(p<=E.Epsilon10)throw new A("elements cannot be converted to cartesian");var g=h/p;return y(s)?(s.x=g*f,s.y=g*d,s.z=0):s=new M(g*f,g*d,0),w.multiplyByVector(m,s,s)}var v=50,N=E.EPSILON8,a=1.0000010178*i,u=100.46645683*C,c=1295977422.83429*R,l=16002,h=21863,f=32004,d=10931,p=14529,g=16368,D=15318,T=32794,I=64e-7*i,O=-152e-7*i,S=62e-7*i,L=-8e-7*i,P=32e-7*i,U=-41e-7*i,B=19e-7*i,k=-11e-7*i,F=-2243968.05,Q=-46e-7*i,Y=68*1e-7*i,q=54e-7*i,G=14e-7*i,V=24e-7*i,H=-28e-7*i,W=22e-7*i,X=10,Z=16002,K=21863,J=10931,$=1473,ee=32004,te=4387,ie=73,ne=-325e-7,re=-322e-7,oe=1e-7*-79,se=232*1e-7,ae=1e-7*-52,ue=97e-7,ce=55e-7,le=-41e-7,he=-105e-7,fe=-137e-7,de=258e-7,pe=35e-7,ge=1e-7*-116,Me=-88e-7,ye=-112e-7,Ae=-8e-6,Ee=new r(0,0,e.TAI);function n(e,t){j(e,Ee);var i=(Ee.dayNumber-x.dayNumber+(Ee.secondsOfDay-x.secondsOfDay)/_.SECONDS_PER_DAY)/_.DAYS_PER_JULIAN_CENTURY,n=i*i,r=n*i,o=r*i,s=383397.7725+.004*i,a=.055545526-16e-9*i,u=5.15668983*C,c=-8e-5*i+.02966*n-42e-6*r-13e-8*o,l=83.35324312*C,h=14643420.2669*i-38.2702*n-.045047*r+21301e-8*o,f=125.04455501*C,d=-6967919.3631*i+6.3602*n+.007625*r-3586e-8*o,p=218.31664563*C,g=1732559343.4847*i-6.391*n+.006588*r-3169e-8*o,M=297.85019547*C+R*(1602961601.209*i-6.3706*n+.006593*r-3169e-8*o),y=134.96340251*C+R*(1717915923.2178*i+31.8792*n+.051635*r-2447e-7*o),A=357.52910918*C+R*(129596581.0481*i-.5532*n+136e-6*r-1149e-8*o),E=310.17137918*C-R*(6967051.436*i+6.2068*n+.007618*r-3219e-8*o),w=2*M,m=4*M,v=6*M,N=2*y,D=3*y,T=4*y,I=2*(93.27209062*C+R*(1739527262.8478*i-12.7512*n-.001037*r+417e-8*o));s+=3400.4*Math.cos(w)-635.6*Math.cos(w-y)-235.6*Math.cos(y)+218.1*Math.cos(w-A)+181*Math.cos(w+y),a+=.014216*Math.cos(w-y)+.008551*Math.cos(w-N)-.001383*Math.cos(y)+.001356*Math.cos(w+y)-.001147*Math.cos(m-D)-914e-6*Math.cos(m-N)+869e-6*Math.cos(w-A-y)-627e-6*Math.cos(w)-394e-6*Math.cos(m-T)+282e-6*Math.cos(w-A-N)-279e-6*Math.cos(M-y)-236e-6*Math.cos(N)+231e-6*Math.cos(m)+229e-6*Math.cos(v-T)-201e-6*Math.cos(N-I),c+=486.26*Math.cos(w-I)-40.13*Math.cos(w)+37.51*Math.cos(I)+25.73*Math.cos(N-I)+19.97*Math.cos(w-A-I),h+=-55609*Math.sin(w-y)-34711*Math.sin(w-N)-9792*Math.sin(y)+9385*Math.sin(m-D)+7505*Math.sin(m-N)+5318*Math.sin(w+y)+3484*Math.sin(m-T)-3417*Math.sin(w-A-y)-2530*Math.sin(v-T)-2376*Math.sin(w)-2075*Math.sin(w-D)-1883*Math.sin(N)-1736*Math.sin(v-5*y)+1626*Math.sin(A)-1370*Math.sin(v-D),d+=-5392*Math.sin(w-I)-540*Math.sin(A)-441*Math.sin(w)+423*Math.sin(I)-288*Math.sin(N-I),g+=-3332.9*Math.sin(w)+1197.4*Math.sin(w-y)-662.5*Math.sin(A)+396.3*Math.sin(y)-218*Math.sin(w-A);var O=2*E,S=3*E;c+=46.997*Math.cos(E)*i-.614*Math.cos(w-I+E)*i+.614*Math.cos(w-I-E)*i-.0297*Math.cos(O)*n-.0335*Math.cos(E)*n+.0012*Math.cos(w-I+O)*n-16e-5*Math.cos(E)*r+4e-5*Math.cos(S)*r+4e-5*Math.cos(O)*r;var L=2.116*Math.sin(E)*i-.111*Math.sin(w-I-E)*i-.0015*Math.sin(E)*n;return h+=L,g+=L,d+=-520.77*Math.sin(E)*i+13.66*Math.sin(w-I+E)*i+1.12*Math.sin(w-E)*i-1.06*Math.sin(I-E)*i+.66*Math.sin(O)*n+.371*Math.sin(E)*n-.035*Math.sin(w-I+O)*n-.015*Math.sin(w-I+E)*n+.0014*Math.sin(E)*r-.0011*Math.sin(S)*r-9e-4*Math.sin(O)*r,z(s*=b,a,u+c*R,l+h*R,f+d*R,p+g*R,t)}var we=.012300034,me=we/(we+1)*-1,ve=new w(1.0000000000000002,5619723173785822e-31,4690511510146299e-34,-5154129427414611e-31,.9174820620691819,-.39777715593191376,-223970096136568e-30,.39777715593191376,.9174820620691819),Ne=new M;return t.computeSunPositionInEarthInertialFrame=function(e,t){var i;return y(e)||(e=r.now()),y(t)||(t=new M),Ne=function(e,t){j(e,Ee);var i=(Ee.dayNumber-x.dayNumber+(Ee.secondsOfDay-x.secondsOfDay)/_.SECONDS_PER_DAY)/(10*_.DAYS_PER_JULIAN_CENTURY),n=.3595362*i,r=a+I*Math.cos(l*n)+F*Math.sin(l*n)+O*Math.cos(h*n)+Q*Math.sin(h*n)+S*Math.cos(f*n)+Y*Math.sin(f*n)+L*Math.cos(d*n)+q*Math.sin(d*n)+P*Math.cos(p*n)+G*Math.sin(p*n)+U*Math.cos(g*n)+V*Math.sin(g*n)+B*Math.cos(D*n)+H*Math.sin(D*n)+k*Math.cos(T*n)+W*Math.sin(T*n),o=u+c*i+ne*Math.cos(X*n)+he*Math.sin(X*n)+re*Math.cos(Z*n)+fe*Math.sin(Z*n)+oe*Math.cos(K*n)+de*Math.sin(K*n)+se*Math.cos(J*n)+pe*Math.sin(J*n)+ae*Math.cos($*n)+ge*Math.sin($*n)+ue*Math.cos(ee*n)+Me*Math.sin(ee*n)+ce*Math.cos(te*n)+ye*Math.sin(te*n)+le*Math.cos(ie*n)+Ae*Math.sin(ie*n);return z(r,.0167086342-.0004203654*i,469.97289*R*i,102.93734808*C+11612.3529*R*i,174.87317577*C-8679.27034*R*i,o,t)}(e,Ne),t=M.negate(Ne,t),i=n(e,i=Ne),M.multiplyByScalar(i,me,i),M.subtract(t,Ne,t),w.multiplyByVector(ve,t,t),t},t.computeMoonPositionInEarthInertialFrame=function(e,t){return y(e)||(e=r.now()),t=n(e,t),w.multiplyByVector(ve,t,t),t},t}),(0,t.amdDefine)("45",["20","46","1e","15","5","6","47","d"],function(j,x,b,r,I,e,o,z){"use strict";function P(e,t,i,n,r,o,s){var a,u,c=(a=e)*(u=i)*(4+a*(4-3*u))/16;return(1-c)*e*t*(n+c*r*(s+c*o*(2*s*s-1)))}var C=new j,R=new j;function s(e,t,i,n){var r,o,s,a,u,c,l,h,f,d,p,g,M,y,A,E,w,m,v,N,D,T,I,O,S,L=j.normalize(n.cartographicToCartesian(t,R),C),_=j.normalize(n.cartographicToCartesian(i,R),R);b.typeOf.number.greaterThanOrEquals("value",Math.abs(Math.abs(j.angleBetween(L,_))-Math.PI),.0125),function(e,t,i,n,r,o,s){var a,u,c,l,h,f=(t-i)/t,d=o-n,p=Math.atan((1-f)*Math.tan(r)),g=Math.atan((1-f)*Math.tan(s)),M=Math.cos(p),y=Math.sin(p),A=Math.cos(g),E=Math.sin(g),w=M*A,m=M*E,v=y*E,N=y*A,D=d,T=z.TWO_PI,I=Math.cos(D),O=Math.sin(D);do{I=Math.cos(D),O=Math.sin(D);var S,L=m-N*I;c=Math.sqrt(A*A*O*O+L*L),u=v+w*I,a=Math.atan2(c,u),0===c?(S=0,l=1):l=1-(S=w*O/c)*S,T=D,h=u-2*v/l,isNaN(h)&&(h=0),D=d+P(f,S,l,a,c,u,h)}while(Math.abs(D-T)>z.EPSILON12);var _=l*(t*t-i*i)/(i*i),j=_*(256+_*(_*(74-47*_)-128))/1024,x=h*h,b=i*(1+_*(4096+_*(_*(320-175*_)-768))/16384)*(a-j*c*(h+j*(u*(2*x-1)-j*h*(4*c*c-3)*(4*x-3)/6)/4)),C=Math.atan2(A*O,m-N*I),R=Math.atan2(M*O,m*I-N);e._distance=b,e._startHeading=C,e._endHeading=R,e._uSquared=_}(e,n.maximumRadius,n.minimumRadius,t.longitude,t.latitude,i.longitude,i.latitude),e._start=x.clone(t,e._start),e._end=x.clone(i,e._end),e._start.height=0,e._end.height=0,o=(r=e)._uSquared,s=r._ellipsoid.maximumRadius,a=r._ellipsoid.minimumRadius,u=(s-a)/s,c=Math.cos(r._startHeading),l=Math.sin(r._startHeading),h=(1-u)*Math.tan(r._start.latitude),f=1/Math.sqrt(1+h*h),d=f*h,p=Math.atan2(h,c),y=1-(M=(g=f*l)*g),A=Math.sqrt(y),T=1-3*(E=o/4)+35*(w=E*E)/4,I=1-5*E,O=(N=1+E-3*w/4+5*(m=w*E)/4-175*(v=w*w)/64)*p-(D=1-E+15*w/8-35*m/8)*Math.sin(2*p)*E/2-T*Math.sin(4*p)*w/16-I*Math.sin(6*p)*m/48-5*Math.sin(8*p)*v/512,(S=r._constants).a=s,S.b=a,S.f=u,S.cosineHeading=c,S.sineHeading=l,S.tanU=h,S.cosineU=f,S.sineU=d,S.sigma=p,S.sineAlpha=g,S.sineSquaredAlpha=M,S.cosineSquaredAlpha=y,S.cosineAlpha=A,S.u2Over4=E,S.u4Over16=w,S.u6Over64=m,S.u8Over256=v,S.a0=N,S.a1=D,S.a2=T,S.a3=I,S.distanceRatio=O}function t(e,t,i){var n=r(i,o.WGS84);this._ellipsoid=n,this._start=new x,this._end=new x,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,I(e)&&I(t)&&s(this,e,t,n)}return e(t.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return b.defined("distance",this._distance),this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){return b.defined("distance",this._distance),this._startHeading}},endHeading:{get:function(){return b.defined("distance",this._distance),this._endHeading}}}),t.prototype.setEndPoints=function(e,t){b.defined("start",e),b.defined("end",t),s(this,e,t,this._ellipsoid)},t.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},t.prototype.interpolateUsingSurfaceDistance=function(e,t){b.defined("distance",this._distance);var i=this._constants,n=i.distanceRatio+e/i.b,r=Math.cos(2*n),o=Math.cos(4*n),s=Math.cos(6*n),a=Math.sin(2*n),u=Math.sin(4*n),c=Math.sin(6*n),l=Math.sin(8*n),h=n*n,f=n*h,d=i.u8Over256,p=i.u2Over4,g=i.u6Over64,M=i.u4Over16,y=2*f*d*r/3+n*(1-p+7*M/4-15*g/4+579*d/64-(M-15*g/4+187*d/16)*r-(5*g/4-115*d/16)*o-29*d*s/16)+(p/2-M+71*g/32-85*d/16)*a+(5*M/16-5*g/4+383*d/96)*u-h*((g-11*d/2)*a+5*d*u/2)+(29*g/96-29*d/16)*c+539*d*l/1536,A=Math.asin(Math.sin(y)*i.cosineAlpha),E=Math.atan(i.a/i.b*Math.tan(A));y-=i.sigma;var w=Math.cos(2*i.sigma+y),m=Math.sin(y),v=Math.cos(y),N=i.cosineU*v,D=i.sineU*m,T=Math.atan2(m*i.sineHeading,N-D*i.cosineHeading)-P(i.f,i.sineAlpha,i.cosineSquaredAlpha,y,m,v,w);return I(t)?(t.longitude=this._start.longitude+T,t.latitude=E,t.height=0,t):new x(this._start.longitude+T,E,0)},t}),(0,t.amdDefine)("48",["5"],function(e){"use strict";var t=Array.isArray;return e(t)||(t=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t}),(0,t.amdDefine)("49",["20","46","15","5","7","47","45","4a","48","d","29","38"],function(E,e,A,w,m,v,t,y,N,D,T,I){"use strict";var O={numberOfPoints:function(e,t,i){var n=E.distance(e,t);return Math.ceil(n/i)}},s=new e;O.extractHeights=function(e,t){for(var i=e.length,n=new Array(i),r=0;r<i;r++){var o=e[r];n[r]=t.cartesianToCartographic(o,s).height}return n};var S=new T,L=new E,_=new E,j=new I(E.UNIT_X,0),x=new E,b=new I(E.UNIT_X,0),C=new E,R=new E,z=[],P=new e,U=new e,B=new E,k=new E,F=new E,Q=new t;function Y(e,t,i,n,r,o,s,a){var u=n.scaleToGeodeticSurface(e,k),c=n.scaleToGeodeticSurface(t,F),l=O.numberOfPoints(e,t,i),h=n.cartesianToCartographic(u,P),f=n.cartesianToCartographic(c,U),d=function(e,t,i){var n,r=z;if(r.length=e,t===i){for(n=0;n<e;n++)r[n]=t;return r}var o=(i-t)/e;for(n=0;n<e;n++){var s=t+n*o;r[n]=s}return r}(l,r,o);Q.setEndPoints(h,f);var p=Q.surfaceDistance/l,g=a;h.height=r;var M=n.cartographicToCartesian(h,B);E.pack(M,s,g),g+=3;for(var y=1;y<l;y++){var A=Q.interpolateUsingSurfaceDistance(y*p,U);A.height=d[y],M=n.cartographicToCartesian(A,B),E.pack(M,s,g),g+=3}return g}return O.wrapLongitude=function(e,t){var i=[],n=[];if(w(e)&&0<e.length){t=A(t,T.IDENTITY);var r=T.inverseTransformation(t,S),o=T.multiplyByPoint(r,E.ZERO,L),s=E.normalize(T.multiplyByPointAsVector(r,E.UNIT_Y,_),_),a=I.fromPointNormal(o,s,j),u=E.normalize(T.multiplyByPointAsVector(r,E.UNIT_X,x),x),c=I.fromPointNormal(o,u,b),l=1;i.push(E.clone(e[0]));for(var h=i[0],f=e.length,d=1;d<f;++d){var p=e[d];if(I.getPointDistance(c,h)<0||I.getPointDistance(c,p)<0){var g=y.lineSegmentPlane(h,p,a,C);if(w(g)){var M=E.multiplyByScalar(s,5e-9,R);I.getPointDistance(a,h)<0&&E.negate(M,M),i.push(E.add(g,M,new E)),n.push(l+1),E.negate(M,M),i.push(E.add(g,M,new E)),l=1}}i.push(E.clone(e[d])),l++,h=p}n.push(l)}return{positions:i,lengths:n}},O.generateArc=function(e){w(e)||(e={});var t=e.positions;if(!w(t))throw new m("options.positions is required.");var i=t.length,n=A(e.ellipsoid,v.WGS84),r=A(e.height,0),o=N(r);if(i<1)return[];if(1===i){var s=n.scaleToGeodeticSurface(t[0],k);if(0!==(r=o?r[0]:r)){var a=n.geodeticSurfaceNormal(s,B);E.multiplyByScalar(a,r,a),E.add(s,a,s)}return[s.x,s.y,s.z]}var u=e.minDistance;if(!w(u)){var c=A(e.granularity,D.RADIANS_PER_DEGREE);u=D.chordLength(c,n.maximumRadius)}var l,h=0;for(l=0;l<i-1;l++)h+=O.numberOfPoints(t[l],t[l+1],u);var f=3*(h+1),d=new Array(f),p=0;for(l=0;l<i-1;l++)p=Y(t[l],t[l+1],u,n,o?r[l]:r,o?r[l+1]:r,d,p);z.length=0;var g=t[i-1],M=n.cartesianToCartographic(g,P);M.height=o?r[i-1]:r;var y=n.cartographicToCartesian(M,B);return E.pack(y,d,f-3),d},O.generateCartesianArc=function(e){for(var t=O.generateArc(e),i=t.length/3,n=new Array(i),r=0;r<i;r++)n[r]=E.unpack(t,3*r);return n},O}),(0,t.amdDefine)("4b",["4c","4d","15"],function(r,o,s){"use strict";var a={},u="undefined"!=typeof document?new r(document.location.href):new r;function c(e,t){var i=function(e){var t=new r(e).resolve(u);t.normalize();var i=t.authority;return/:/.test(i)||(i=i+":"+("https"===t.scheme?"443":"80")),i}(e),n=s(a[i],0);if(!(c.maximumRequestsPerServer<=n))return a[i]=n+1,o(t(e),function(e){return a[i]--,e}).otherwise(function(e){return a[i]--,o.reject(e)})}return c.maximumRequestsPerServer=6,c}),(0,t.amdDefine)("4e",["4d","1e","15","5","7","4f","50","51","52","53"],function(r,t,o,s,e,a,u,c,l,h){"use strict";function f(i,n,e){return t.defined("url",i),n=o(n,!0),(e=s(e)?e:new c).url=i,e.requestFunction=function(){var e;e=!(u(i)||!n)&&a(i);var t=r.defer();return f.createImage(i,e,t),t.promise},l.request(e)}return f.defaultCreateImage=f.createImage=function(e,t,i){var n=new Image;n.onload=function(){i.resolve(n)},n.onerror=function(e){i.reject(e)},t&&(h.contains(e)?n.crossOrigin="use-credentials":n.crossOrigin=""),n.src=e},f}),(0,t.amdDefine)("54",["a","15","5","6","47","55","56"],function(h,r,f,e,o,d,s){"use strict";function t(e){if(e=r(e,{}),this._ellipsoid=r(e.ellipsoid,o.WGS84),this._numberOfLevelZeroTilesX=r(e.numberOfLevelZeroTilesX,1),this._numberOfLevelZeroTilesY=r(e.numberOfLevelZeroTilesY,1),this._projection=new s(this._ellipsoid),f(e.rectangleSouthwestInMeters)&&f(e.rectangleNortheastInMeters))this._rectangleSouthwestInMeters=e.rectangleSouthwestInMeters,this._rectangleNortheastInMeters=e.rectangleNortheastInMeters;else{var t=this._ellipsoid.maximumRadius*Math.PI;this._rectangleSouthwestInMeters=new h(-t,-t),this._rectangleNortheastInMeters=new h(t,t)}var i=this._projection.unproject(this._rectangleSouthwestInMeters),n=this._projection.unproject(this._rectangleNortheastInMeters);this._rectangle=new d(i.longitude,i.latitude,n.longitude,n.latitude)}return e(t.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),t.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},t.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},t.prototype.rectangleToNativeRectangle=function(e,t){var i=this._projection,n=i.project(d.southwest(e)),r=i.project(d.northeast(e));return f(t)?(t.west=n.x,t.south=n.y,t.east=r.x,t.north=r.y,t):new d(n.x,n.y,r.x,r.y)},t.prototype.tileXYToNativeRectangle=function(e,t,i,n){var r=this.getNumberOfXTilesAtLevel(i),o=this.getNumberOfYTilesAtLevel(i),s=(this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x)/r,a=this._rectangleSouthwestInMeters.x+e*s,u=this._rectangleSouthwestInMeters.x+(e+1)*s,c=(this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y)/o,l=this._rectangleNortheastInMeters.y-t*c,h=this._rectangleNortheastInMeters.y-(t+1)*c;return f(n)?(n.west=a,n.south=h,n.east=u,n.north=l,n):new d(a,h,u,l)},t.prototype.tileXYToRectangle=function(e,t,i,n){var r=this.tileXYToNativeRectangle(e,t,i,n),o=this._projection,s=o.unproject(new h(r.west,r.south)),a=o.unproject(new h(r.east,r.north));return r.west=s.longitude,r.south=s.latitude,r.east=a.longitude,r.north=a.latitude,r},t.prototype.positionToTileXY=function(e,t,i){var n=this._rectangle;if(d.contains(n,e)){var r=this.getNumberOfXTilesAtLevel(t),o=this.getNumberOfYTilesAtLevel(t),s=(this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x)/r,a=(this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y)/o,u=this._projection.project(e),c=(u.x-this._rectangleSouthwestInMeters.x)/s|0;r<=c&&(c=r-1);var l=(this._rectangleNortheastInMeters.y-u.y)/a|0;return o<=l&&(l=o-1),f(i)?(i.x=c,i.y=l,i):new h(c,l)}},t}),(0,t.amdDefine)("57",["5"],function(s){"use strict";var a={};return function(e,t,i){s(t)||(t=e.width),s(i)||(i=e.height);var n=a[t];s(n)||(n={},a[t]=n);var r=n[i];if(!s(r)){var o=document.createElement("canvas");o.width=t,o.height=i,(r=o.getContext("2d")).globalCompositeOperation="copy",n[i]=r}return r.drawImage(e,0,0,t,i),r.getImageData(0,0,t,i).data}}),(0,t.amdDefine)("58",["a","1e","15","5","6","47","59","d","55"],function(h,s,t,d,e,i,n,f,p){"use strict";function r(e){e=t(e,{}),this._ellipsoid=t(e.ellipsoid,i.WGS84),this._rectangle=t(e.rectangle,p.MAX_VALUE),this._projection=new n(this._ellipsoid),this._numberOfLevelZeroTilesX=t(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=t(e.numberOfLevelZeroTilesY,1)}return e(r.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),r.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},r.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},r.prototype.rectangleToNativeRectangle=function(e,t){s.defined("rectangle",e);var i=f.toDegrees(e.west),n=f.toDegrees(e.south),r=f.toDegrees(e.east),o=f.toDegrees(e.north);return d(t)?(t.west=i,t.south=n,t.east=r,t.north=o,t):new p(i,n,r,o)},r.prototype.tileXYToNativeRectangle=function(e,t,i,n){var r=this.tileXYToRectangle(e,t,i,n);return r.west=f.toDegrees(r.west),r.south=f.toDegrees(r.south),r.east=f.toDegrees(r.east),r.north=f.toDegrees(r.north),r},r.prototype.tileXYToRectangle=function(e,t,i,n){var r=this._rectangle,o=this.getNumberOfXTilesAtLevel(i),s=this.getNumberOfYTilesAtLevel(i),a=r.width/o,u=e*a+r.west,c=(e+1)*a+r.west,l=r.height/s,h=r.north-t*l,f=r.north-(t+1)*l;return d(n)||(n=new p(u,f,c,h)),n.west=u,n.south=f,n.east=c,n.north=h,n},r.prototype.positionToTileXY=function(e,t,i){var n=this._rectangle;if(p.contains(n,e)){var r=this.getNumberOfXTilesAtLevel(t),o=this.getNumberOfYTilesAtLevel(t),s=n.width/r,a=n.height/o,u=e.longitude;n.east<n.west&&(u+=f.TWO_PI);var c=(u-n.west)/s|0;r<=c&&(c=r-1);var l=(n.north-e.latitude)/a|0;return o<=l&&(l=o-1),d(i)?(i.x=c,i.y=l,i):new h(c,l)}},r}),(0,t.amdDefine)("5a",["5b","20","1e","15","5","6","55"],function(o,h,f,d,p,e,s){"use strict";function t(e,t){f.typeOf.object("ellipsoid",e),this._ellipsoid=e,this._cameraPosition=new h,this._cameraPositionInScaledSpace=new h,this._distanceToLimbInScaledSpaceSquared=0,p(t)&&(this.cameraPosition=t)}e(t.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},cameraPosition:{get:function(){return this._cameraPosition},set:function(e){var t=this._ellipsoid.transformPositionToScaledSpace(e,this._cameraPositionInScaledSpace),i=h.magnitudeSquared(t)-1;h.clone(e,this._cameraPosition),this._cameraPositionInScaledSpace=t,this._distanceToLimbInScaledSpaceSquared=i}}});var a=new h;t.prototype.isPointVisible=function(e){var t=this._ellipsoid.transformPositionToScaledSpace(e,a);return this.isScaledSpacePointVisible(t)},t.prototype.isScaledSpacePointVisible=function(e){var t=this._cameraPositionInScaledSpace,i=this._distanceToLimbInScaledSpaceSquared,n=h.subtract(e,t,a),r=-h.dot(n,t);return!(i<0?0<r:i<r&&r*r/h.magnitudeSquared(n)>i)},t.prototype.computeHorizonCullingPoint=function(e,t,i){f.typeOf.object("directionToPoint",e),f.defined("positions",t),p(i)||(i=new h);for(var n=this._ellipsoid,r=A(n,e),o=0,s=0,a=t.length;s<a;++s){var u=M(n,t[s],r);o=Math.max(o,u)}return y(r,o,i)};var g=new h;t.prototype.computeHorizonCullingPointFromVertices=function(e,t,i,n,r){f.typeOf.object("directionToPoint",e),f.defined("vertices",t),f.typeOf.number("stride",i),p(r)||(r=new h),n=d(n,h.ZERO);for(var o=this._ellipsoid,s=A(o,e),a=0,u=0,c=t.length;u<c;u+=i){g.x=t[u]+n.x,g.y=t[u+1]+n.y,g.z=t[u+2]+n.z;var l=M(o,g,s);a=Math.max(a,l)}return y(s,a,r)};var u=[];t.prototype.computeHorizonCullingPointFromRectangle=function(e,t,i){f.typeOf.object("rectangle",e);var n=s.subsample(e,t,0,u),r=o.fromPoints(n);if(!(h.magnitude(r.center)<.1*t.minimumRadius))return this.computeHorizonCullingPoint(r.center,n,i)};var c=new h,l=new h;function M(e,t,i){var n=e.transformPositionToScaledSpace(t,c),r=h.magnitudeSquared(n),o=Math.sqrt(r),s=h.divideByScalar(n,o,l);r=Math.max(1,r);var a=1/(o=Math.max(1,o));return 1/(h.dot(s,i)*a-h.magnitude(h.cross(s,i,s))*(Math.sqrt(r-1)*a))}function y(e,t,i){if(!(t<=0||t===1/0||t!=t))return h.multiplyByScalar(e,t,i)}var i=new h;function A(e,t){return h.equals(t,h.ZERO)?t:(e.transformPositionToScaledSpace(t,i),h.normalize(i,i))}return t}),(0,t.amdDefine)("59",["20","46","15","5","6","7","47"],function(s,a,t,u,e,c,i){"use strict";function n(e){this._ellipsoid=t(e,i.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return e(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),n.prototype.project=function(e,t){var i=this._semimajorAxis,n=e.longitude*i,r=e.latitude*i,o=e.height;return u(t)?(t.x=n,t.y=r,t.z=o,t):new s(n,r,o)},n.prototype.unproject=function(e,t){if(!u(e))throw new c("cartesian is required");var i=this._oneOverSemimajorAxis,n=e.x*i,r=e.y*i,o=e.z;return u(t)?(t.longitude=n,t.latitude=r,t.height=o,t):new a(n,r,o)},n}),(0,t.amdDefine)("5b",["20","46","1e","15","5","47","59","37","5c","28","29","55"],function(b,e,C,R,z,o,t,s,a,u,n,h){"use strict";function P(e,t){this.center=b.clone(R(e,b.ZERO)),this.radius=R(t,0)}var U=new b,B=new b,k=new b,F=new b,Q=new b,Y=new b,q=new b,G=new b,V=new b,H=new b,W=new b,X=new b;P.fromPoints=function(e,t){if(z(t)||(t=new P),!z(e)||0===e.length)return t.center=b.clone(b.ZERO,t.center),t.radius=0,t;var i,n=b.clone(e[0],q),r=b.clone(n,U),o=b.clone(n,B),s=b.clone(n,k),a=b.clone(n,F),u=b.clone(n,Q),c=b.clone(n,Y),l=e.length;for(i=1;i<l;i++){b.clone(e[i],n);var h=n.x,f=n.y,d=n.z;h<r.x&&b.clone(n,r),h>a.x&&b.clone(n,a),f<o.y&&b.clone(n,o),f>u.y&&b.clone(n,u),d<s.z&&b.clone(n,s),d>c.z&&b.clone(n,c)}var p=b.magnitudeSquared(b.subtract(a,r,G)),g=b.magnitudeSquared(b.subtract(u,o,G)),M=b.magnitudeSquared(b.subtract(c,s,G)),y=r,A=a,E=p;E<g&&(E=g,y=o,A=u),E<M&&(E=M,y=s,A=c);var w=V;w.x=.5*(y.x+A.x),w.y=.5*(y.y+A.y),w.z=.5*(y.z+A.z);var m=b.magnitudeSquared(b.subtract(A,w,G)),v=Math.sqrt(m),N=H;N.x=r.x,N.y=o.y,N.z=s.z;var D=W;D.x=a.x,D.y=u.y,D.z=c.z;var T=b.multiplyByScalar(b.add(N,D,G),.5,X),I=0;for(i=0;i<l;i++){b.clone(e[i],n);var O=b.magnitude(b.subtract(n,T,G));I<O&&(I=O);var S=b.magnitudeSquared(b.subtract(n,w,G));if(m<S){var L=Math.sqrt(S);m=(v=.5*(v+L))*v;var _=L-v;w.x=(v*w.x+_*n.x)/L,w.y=(v*w.y+_*n.y)/L,w.z=(v*w.z+_*n.z)/L}}return v<I?(b.clone(w,t.center),t.radius=v):(b.clone(T,t.center),t.radius=I),t};var f=new t,d=new b,p=new b,g=new e,M=new e;P.fromRectangle2D=function(e,t,i){return P.fromRectangleWithHeights2D(e,t,0,0,i)},P.fromRectangleWithHeights2D=function(e,t,i,n,r){if(z(r)||(r=new P),!z(e))return r.center=b.clone(b.ZERO,r.center),r.radius=0,r;t=R(t,f),h.southwest(e,g),g.height=i,h.northeast(e,M),M.height=n;var o=t.project(g,d),s=t.project(M,p),a=s.x-o.x,u=s.y-o.y,c=s.z-o.z;r.radius=.5*Math.sqrt(a*a+u*u+c*c);var l=r.center;return l.x=o.x+.5*a,l.y=o.y+.5*u,l.z=o.z+.5*c,r};var c=[];P.fromRectangle3D=function(e,t,i,n){var r;return t=R(t,o.WGS84),i=R(i,0),z(e)&&(r=h.subsample(e,t,i,c)),P.fromPoints(r,n)},P.fromVertices=function(e,t,i,n){if(z(n)||(n=new P),!z(e)||0===e.length)return n.center=b.clone(b.ZERO,n.center),n.radius=0,n;t=R(t,b.ZERO),i=R(i,3),C.typeOf.number.greaterThanOrEquals("stride",i,3);var r=q;r.x=e[0]+t.x,r.y=e[1]+t.y,r.z=e[2]+t.z;var o,s=b.clone(r,U),a=b.clone(r,B),u=b.clone(r,k),c=b.clone(r,F),l=b.clone(r,Q),h=b.clone(r,Y),f=e.length;for(o=0;o<f;o+=i){var d=e[o]+t.x,p=e[o+1]+t.y,g=e[o+2]+t.z;r.x=d,r.y=p,r.z=g,d<s.x&&b.clone(r,s),d>c.x&&b.clone(r,c),p<a.y&&b.clone(r,a),p>l.y&&b.clone(r,l),g<u.z&&b.clone(r,u),g>h.z&&b.clone(r,h)}var M=b.magnitudeSquared(b.subtract(c,s,G)),y=b.magnitudeSquared(b.subtract(l,a,G)),A=b.magnitudeSquared(b.subtract(h,u,G)),E=s,w=c,m=M;m<y&&(m=y,E=a,w=l),m<A&&(m=A,E=u,w=h);var v=V;v.x=.5*(E.x+w.x),v.y=.5*(E.y+w.y),v.z=.5*(E.z+w.z);var N=b.magnitudeSquared(b.subtract(w,v,G)),D=Math.sqrt(N),T=H;T.x=s.x,T.y=a.y,T.z=u.z;var I=W;I.x=c.x,I.y=l.y,I.z=h.z;var O=b.multiplyByScalar(b.add(T,I,G),.5,X),S=0;for(o=0;o<f;o+=i){r.x=e[o]+t.x,r.y=e[o+1]+t.y,r.z=e[o+2]+t.z;var L=b.magnitude(b.subtract(r,O,G));S<L&&(S=L);var _=b.magnitudeSquared(b.subtract(r,v,G));if(N<_){var j=Math.sqrt(_);N=(D=.5*(D+j))*D;var x=j-D;v.x=(D*v.x+x*r.x)/j,v.y=(D*v.y+x*r.y)/j,v.z=(D*v.z+x*r.z)/j}}return D<S?(b.clone(v,n.center),n.radius=D):(b.clone(O,n.center),n.radius=S),n},P.fromEncodedCartesianVertices=function(e,t,i){if(z(i)||(i=new P),!z(e)||!z(t)||e.length!==t.length||0===e.length)return i.center=b.clone(b.ZERO,i.center),i.radius=0,i;var n=q;n.x=e[0]+t[0],n.y=e[1]+t[1],n.z=e[2]+t[2];var r,o=b.clone(n,U),s=b.clone(n,B),a=b.clone(n,k),u=b.clone(n,F),c=b.clone(n,Q),l=b.clone(n,Y),h=e.length;for(r=0;r<h;r+=3){var f=e[r]+t[r],d=e[r+1]+t[r+1],p=e[r+2]+t[r+2];n.x=f,n.y=d,n.z=p,f<o.x&&b.clone(n,o),f>u.x&&b.clone(n,u),d<s.y&&b.clone(n,s),d>c.y&&b.clone(n,c),p<a.z&&b.clone(n,a),p>l.z&&b.clone(n,l)}var g=b.magnitudeSquared(b.subtract(u,o,G)),M=b.magnitudeSquared(b.subtract(c,s,G)),y=b.magnitudeSquared(b.subtract(l,a,G)),A=o,E=u,w=g;w<M&&(w=M,A=s,E=c),w<y&&(w=y,A=a,E=l);var m=V;m.x=.5*(A.x+E.x),m.y=.5*(A.y+E.y),m.z=.5*(A.z+E.z);var v=b.magnitudeSquared(b.subtract(E,m,G)),N=Math.sqrt(v),D=H;D.x=o.x,D.y=s.y,D.z=a.z;var T=W;T.x=u.x,T.y=c.y,T.z=l.z;var I=b.multiplyByScalar(b.add(D,T,G),.5,X),O=0;for(r=0;r<h;r+=3){n.x=e[r]+t[r],n.y=e[r+1]+t[r+1],n.z=e[r+2]+t[r+2];var S=b.magnitude(b.subtract(n,I,G));O<S&&(O=S);var L=b.magnitudeSquared(b.subtract(n,m,G));if(v<L){var _=Math.sqrt(L);v=(N=.5*(N+_))*N;var j=_-N;m.x=(N*m.x+j*n.x)/_,m.y=(N*m.y+j*n.y)/_,m.z=(N*m.z+j*n.z)/_}}return N<O?(b.clone(m,i.center),i.radius=N):(b.clone(I,i.center),i.radius=O),i},P.fromCornerPoints=function(e,t,i){C.typeOf.object("corner",e),C.typeOf.object("oppositeCorner",t),z(i)||(i=new P);var n=i.center;return b.add(e,t,n),b.multiplyByScalar(n,.5,n),i.radius=b.distance(n,t),i},P.fromEllipsoid=function(e,t){return C.typeOf.object("ellipsoid",e),z(t)||(t=new P),b.clone(b.ZERO,t.center),t.radius=e.maximumRadius,t};var l=new b;P.fromBoundingSpheres=function(e,t){if(z(t)||(t=new P),!z(e)||0===e.length)return t.center=b.clone(b.ZERO,t.center),t.radius=0,t;var i=e.length;if(1===i)return P.clone(e[0],t);if(2===i)return P.union(e[0],e[1],t);var n,r=[];for(n=0;n<i;n++)r.push(e[n].center);var o=(t=P.fromPoints(r,t)).center,s=t.radius;for(n=0;n<i;n++){var a=e[n];s=Math.max(s,b.distance(o,a.center,l)+a.radius)}return t.radius=s,t};var y=new b,A=new b,E=new b;P.fromOrientedBoundingBox=function(e,t){C.defined("orientedBoundingBox",e),z(t)||(t=new P);var i=e.halfAxes,n=u.getColumn(i,0,y),r=u.getColumn(i,1,A),o=u.getColumn(i,2,E);return b.add(n,r,n),b.add(n,o,n),t.center=b.clone(e.center,t.center),t.radius=b.magnitude(n),t},P.clone=function(e,t){if(z(e))return z(t)?(t.center=b.clone(e.center,t.center),t.radius=e.radius,t):new P(e.center,e.radius)},P.packedLength=4,P.pack=function(e,t,i){C.typeOf.object("value",e),C.defined("array",t),i=R(i,0);var n=e.center;return t[i++]=n.x,t[i++]=n.y,t[i++]=n.z,t[i]=e.radius,t},P.unpack=function(e,t,i){C.defined("array",e),t=R(t,0),z(i)||(i=new P);var n=i.center;return n.x=e[t++],n.y=e[t++],n.z=e[t++],i.radius=e[t],i};var w=new b,m=new b;P.union=function(e,t,i){C.typeOf.object("left",e),C.typeOf.object("right",t),z(i)||(i=new P);var n=e.center,r=e.radius,o=t.center,s=t.radius,a=b.subtract(o,n,w),u=b.magnitude(a);if(u+s<=r)return e.clone(i),i;if(u+r<=s)return t.clone(i),i;var c=.5*(r+u+s),l=b.multiplyByScalar(a,(-r+c)/u,m);return b.add(l,n,l),b.clone(l,i.center),i.radius=c,i};var r=new b;P.expand=function(e,t,i){C.typeOf.object("sphere",e),C.typeOf.object("point",t),i=P.clone(e,i);var n=b.magnitude(b.subtract(t,i.center,r));return n>i.radius&&(i.radius=n),i},P.intersectPlane=function(e,t){C.typeOf.object("sphere",e),C.typeOf.object("plane",t);var i=e.center,n=e.radius,r=t.normal,o=b.dot(r,i)+t.distance;return o<-n?s.OUTSIDE:o<n?s.INTERSECTING:s.INSIDE},P.transform=function(e,t,i){return C.typeOf.object("sphere",e),C.typeOf.object("transform",t),z(i)||(i=new P),i.center=n.multiplyByPoint(t,e.center,i.center),i.radius=n.getMaximumScale(t)*e.radius,i};var v=new b;P.distanceSquaredTo=function(e,t){C.typeOf.object("sphere",e),C.typeOf.object("cartesian",t);var i=b.subtract(e.center,t,v);return b.magnitudeSquared(i)-e.radius*e.radius},P.transformWithoutScale=function(e,t,i){return C.typeOf.object("sphere",e),C.typeOf.object("transform",t),z(i)||(i=new P),i.center=n.multiplyByPoint(t,e.center,i.center),i.radius=e.radius,i};var N=new b;P.computePlaneDistances=function(e,t,i,n){C.typeOf.object("sphere",e),C.typeOf.object("position",t),C.typeOf.object("direction",i),z(n)||(n=new a);var r=b.subtract(e.center,t,N),o=b.dot(i,r);return n.start=o-e.radius,n.stop=o+e.radius,n};for(var D=new b,T=new b,I=new b,O=new b,S=new b,L=new e,_=new Array(8),i=0;i<8;++i)_[i]=new b;var j=new t;return P.projectTo2D=function(e,t,i){C.typeOf.object("sphere",e);var n=(t=R(t,j)).ellipsoid,r=e.center,o=e.radius,s=n.geodeticSurfaceNormal(r,D),a=b.cross(b.UNIT_Z,s,T);b.normalize(a,a);var u=b.cross(s,a,I);b.normalize(u,u),b.multiplyByScalar(s,o,s),b.multiplyByScalar(u,o,u),b.multiplyByScalar(a,o,a);var c=b.negate(u,S),l=b.negate(a,O),h=_,f=h[0];b.add(s,u,f),b.add(f,a,f),f=h[1],b.add(s,u,f),b.add(f,l,f),f=h[2],b.add(s,c,f),b.add(f,l,f),f=h[3],b.add(s,c,f),b.add(f,a,f),b.negate(s,s),f=h[4],b.add(s,u,f),b.add(f,a,f),f=h[5],b.add(s,u,f),b.add(f,l,f),f=h[6],b.add(s,c,f),b.add(f,l,f),f=h[7],b.add(s,c,f),b.add(f,a,f);for(var d=h.length,p=0;p<d;++p){var g=h[p];b.add(r,g,g);var M=n.cartesianToCartographic(g,L);t.project(M,g)}var y=(r=(i=P.fromPoints(h,i)).center).x,A=r.y,E=r.z;return r.x=E,r.y=y,r.z=A,i},P.isOccluded=function(e,t){return C.typeOf.object("sphere",e),C.typeOf.object("occluder",t),!t.isBoundingSphereVisible(e)},P.equals=function(e,t){return e===t||z(e)&&z(t)&&b.equals(e.center,t.center)&&e.radius===t.radius},P.prototype.intersectPlane=function(e){return P.intersectPlane(this,e)},P.prototype.distanceSquaredTo=function(e){return P.distanceSquaredTo(this,e)},P.prototype.computePlaneDistances=function(e,t,i){return P.computePlaneDistances(this,e,t,i)},P.prototype.isOccluded=function(e){return P.isOccluded(this,e)},P.prototype.equals=function(e){return P.equals(this,e)},P.prototype.clone=function(e){return P.clone(this,e)},P}),(0,t.amdDefine)("5d",["20","1e","15","5","37"],function(y,s,n,A,a){"use strict";function E(e,t,i){this.minimum=y.clone(n(e,y.ZERO)),this.maximum=y.clone(n(t,y.ZERO)),A(i)?i=y.clone(i):(i=y.add(this.minimum,this.maximum,new y),y.multiplyByScalar(i,.5,i)),this.center=i}E.fromPoints=function(e,t){if(A(t)||(t=new E),!A(e)||0===e.length)return t.minimum=y.clone(y.ZERO,t.minimum),t.maximum=y.clone(y.ZERO,t.maximum),t.center=y.clone(y.ZERO,t.center),t;for(var i=e[0].x,n=e[0].y,r=e[0].z,o=e[0].x,s=e[0].y,a=e[0].z,u=e.length,c=1;c<u;c++){var l=e[c],h=l.x,f=l.y,d=l.z;i=Math.min(h,i),o=Math.max(h,o),n=Math.min(f,n),s=Math.max(f,s),r=Math.min(d,r),a=Math.max(d,a)}var p=t.minimum;p.x=i,p.y=n,p.z=r;var g=t.maximum;g.x=o,g.y=s,g.z=a;var M=y.add(p,g,t.center);return y.multiplyByScalar(M,.5,M),t},E.clone=function(e,t){if(A(e))return A(t)?(t.minimum=y.clone(e.minimum,t.minimum),t.maximum=y.clone(e.maximum,t.maximum),t.center=y.clone(e.center,t.center),t):new E(e.minimum,e.maximum)},E.equals=function(e,t){return e===t||A(e)&&A(t)&&y.equals(e.center,t.center)&&y.equals(e.minimum,t.minimum)&&y.equals(e.maximum,t.maximum)};var u=new y;return E.intersectPlane=function(e,t){s.defined("box",e),s.defined("plane",t),u=y.subtract(e.maximum,e.minimum,u);var i=y.multiplyByScalar(u,.5,u),n=t.normal,r=i.x*Math.abs(n.x)+i.y*Math.abs(n.y)+i.z*Math.abs(n.z),o=y.dot(e.center,n)+t.distance;return 0<o-r?a.INSIDE:o+r<0?a.OUTSIDE:a.INTERSECTING},E.prototype.clone=function(e){return E.clone(this,e)},E.prototype.intersectPlane=function(e){return E.intersectPlane(this,e)},E.prototype.equals=function(e){return E.equals(this,e)},E}),(0,t.amdDefine)("5e",["7","5f"],function(a,u){"use strict";var e={};function c(e,t,i,n){var r,o,s=e,a=t/3,u=i/3,c=n,l=s*u,h=a*c,f=a*a,d=u*u,p=s*u-f,g=s*c-a*u,M=a*c-d,y=4*p*M-g*g;if(y<0){var A,E,w,m=-((w=l*d<=f*h?-2*a*(E=p)+(A=s)*g:-(A=c)*g+2*u*(E=M))<0?-1:1)*Math.abs(A)*Math.sqrt(-y),v=(o=-w+m)/2,N=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),D=o===m?-N:-E/N;return r=E<=0?N+D:-w/(N*N+D*D+E),l*d<=f*h?[(r-a)/s]:[-c/(r+u)]}var T=p,I=-2*a*p+s*g,O=M,S=-c*g+2*u*M,L=Math.sqrt(y),_=Math.sqrt(3)/2,j=Math.abs(Math.atan2(s*L,-I)/3);r=2*Math.sqrt(-T);var x=Math.cos(j);o=r*x;var b=r*(-x/2-_*Math.sin(j)),C=2*a<o+b?o-a:b-a,R=s,z=C/R;j=Math.abs(Math.atan2(c*L,-S)/3);var P=-c,U=(o=(r=2*Math.sqrt(-O))*(x=Math.cos(j)))+(b=r*(-x/2-_*Math.sin(j)))<2*u?o+u:b+u,B=P/U,k=-C*U-R*P,F=(u*k-a*(C*P))/(-a*k+u*(R*U));return z<=F?z<=B?F<=B?[z,F,B]:[z,B,F]:[B,z,F]:z<=B?[F,z,B]:F<=B?[F,B,z]:[B,F,z]}return e.computeDiscriminant=function(e,t,i,n){if("number"!=typeof e)throw new a("a is a required number.");if("number"!=typeof t)throw new a("b is a required number.");if("number"!=typeof i)throw new a("c is a required number.");if("number"!=typeof n)throw new a("d is a required number.");var r=t*t,o=i*i;return 18*e*t*i*n+r*o-e*e*27*(n*n)-4*(e*o*i+r*t*n)},e.computeRealRoots=function(e,t,i,n){if("number"!=typeof e)throw new a("a is a required number.");if("number"!=typeof t)throw new a("b is a required number.");if("number"!=typeof i)throw new a("c is a required number.");if("number"!=typeof n)throw new a("d is a required number.");var r,o;if(0===e)return u.computeRealRoots(t,i,n);if(0===t){if(0===i){if(0===n)return[0,0,0];var s=(o=-n/e)<0?-Math.pow(-o,1/3):Math.pow(o,1/3);return[s,s,s]}return 0===n?0===(r=u.computeRealRoots(e,0,i)).Length?[0]:[r[0],0,r[1]]:c(e,0,i,n)}return 0===i?0===n?(o=-t/e)<0?[o,0,0]:[0,0,o]:c(e,t,0,n):0===n?0===(r=u.computeRealRoots(e,t,i)).length?[0]:r[1]<=0?[r[0],r[1],0]:0<=r[0]?[0,r[0],r[1]]:[r[0],0,r[1]]:c(e,t,i,n)},e}),(0,t.amdDefine)("5f",["7","d"],function(c,l){"use strict";var e={};function h(e,t,i){var n=e+t;return l.sign(e)!==l.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<i?0:n}return e.computeDiscriminant=function(e,t,i){if("number"!=typeof e)throw new c("a is a required number.");if("number"!=typeof t)throw new c("b is a required number.");if("number"!=typeof i)throw new c("c is a required number.");return t*t-4*e*i},e.computeRealRoots=function(e,t,i){if("number"!=typeof e)throw new c("a is a required number.");if("number"!=typeof t)throw new c("b is a required number.");if("number"!=typeof i)throw new c("c is a required number.");var n;if(0===e)return 0===t?[]:[-i/t];if(0===t){if(0===i)return[0,0];var r=Math.abs(i),o=Math.abs(e);if(r<o&&r/o<l.EPSILON14)return[0,0];if(o<r&&o/r<l.EPSILON14)return[];if((n=-i/e)<0)return[];var s=Math.sqrt(n);return[-s,s]}if(0===i)return(n=-t/e)<0?[n,0]:[0,n];var a=h(t*t,-4*e*i,l.EPSILON14);if(a<0)return[];var u=-.5*h(t,l.sign(t)*Math.sqrt(a),l.EPSILON14);return 0<t?[u/e,i/u]:[i/u,u/e]},e}),(0,t.amdDefine)("60",["5e","7","d","5f"],function(S,d,L,_){"use strict";var e={};function l(e,t,i,n){var r=e*e,o=t-3*r/8,s=i-t*e/2+r*e/8,a=n-i*e/4+t*r/16-3*r*r/256,u=S.computeRealRoots(1,2*o,o*o-4*a,-s*s);if(0<u.length){var c=-e/4,l=u[u.length-1];if(Math.abs(l)<L.EPSILON14){var h=_.computeRealRoots(1,o,a);if(2===h.length){var f,d=h[0],p=h[1];if(0<=d&&0<=p){var g=Math.sqrt(d),M=Math.sqrt(p);return[c-M,c-g,c+g,c+M]}if(0<=d&&p<0)return[c-(f=Math.sqrt(d)),c+f];if(d<0&&0<=p)return[c-(f=Math.sqrt(p)),c+f]}return[]}if(0<l){var y=Math.sqrt(l),A=(o+l-s/y)/2,E=(o+l+s/y)/2,w=_.computeRealRoots(1,y,A),m=_.computeRealRoots(1,-y,E);return 0!==w.length?(w[0]+=c,w[1]+=c,0!==m.length?(m[0]+=c,m[1]+=c,w[1]<=m[0]?[w[0],w[1],m[0],m[1]]:m[1]<=w[0]?[m[0],m[1],w[0],w[1]]:w[0]>=m[0]&&w[1]<=m[1]?[m[0],w[0],w[1],m[1]]:m[0]>=w[0]&&m[1]<=w[1]?[w[0],m[0],m[1],w[1]]:w[0]>m[0]&&w[0]<m[1]?[m[0],w[0],m[1],w[1]]:[w[0],m[0],w[1],m[1]]):w):0!==m.length?(m[0]+=c,m[1]+=c,m):[]}}return[]}function h(e,t,i,n){var r=e*e,o=-2*t,s=i*e+t*t-4*n,a=r*n-i*t*e+i*i,u=S.computeRealRoots(1,o,s,a);if(0<u.length){var c,l,h,f,d,p,g=u[0],M=t-g,y=M*M,A=e/2,E=M/2,w=y-4*n,m=y+4*Math.abs(n),v=r-4*g,N=r+4*Math.abs(g);if(g<0||w*N<v*m){var D=Math.sqrt(v);c=D/2,l=0===D?0:(e*E-i)/D}else{var T=Math.sqrt(w);c=0===T?0:(e*E-i)/T,l=T/2}0===A&&0===c?f=h=0:L.sign(A)===L.sign(c)?f=g/(h=A+c):h=g/(f=A-c),0===E&&0===l?p=d=0:L.sign(E)===L.sign(l)?p=n/(d=E+l):d=n/(p=E-l);var I=_.computeRealRoots(1,h,d),O=_.computeRealRoots(1,f,p);if(0!==I.length)return 0!==O.length?I[1]<=O[0]?[I[0],I[1],O[0],O[1]]:O[1]<=I[0]?[O[0],O[1],I[0],I[1]]:I[0]>=O[0]&&I[1]<=O[1]?[O[0],I[0],I[1],O[1]]:O[0]>=I[0]&&O[1]<=I[1]?[I[0],O[0],O[1],I[1]]:I[0]>O[0]&&I[0]<O[1]?[O[0],I[0],O[1],I[1]]:[I[0],O[0],I[1],O[1]]:I;if(0!==O.length)return O}return[]}return e.computeDiscriminant=function(e,t,i,n,r){if("number"!=typeof e)throw new d("a is a required number.");if("number"!=typeof t)throw new d("b is a required number.");if("number"!=typeof i)throw new d("c is a required number.");if("number"!=typeof n)throw new d("d is a required number.");if("number"!=typeof r)throw new d("e is a required number.");var o=e*e,s=t*t,a=s*t,u=i*i,c=u*i,l=n*n,h=l*n,f=r*r;return s*u*l-4*a*h-4*e*c*l+18*e*t*i*h-27*o*l*l+o*e*256*(f*r)+r*(18*a*i*n-4*s*c+16*e*u*u-80*e*t*u*n-6*e*s*l+144*o*i*l)+f*(144*e*s*i-27*s*s-128*o*u-192*o*t*n)},e.computeRealRoots=function(e,t,i,n,r){if("number"!=typeof e)throw new d("a is a required number.");if("number"!=typeof t)throw new d("b is a required number.");if("number"!=typeof i)throw new d("c is a required number.");if("number"!=typeof n)throw new d("d is a required number.");if("number"!=typeof r)throw new d("e is a required number.");if(Math.abs(e)<L.EPSILON15)return S.computeRealRoots(t,i,n,r);var o=t/e,s=i/e,a=n/e,u=r/e,c=o<0?1:0;switch(c+=s<0?c+1:c,c+=a<0?c+1:c,c+=u<0?c+1:c){case 0:return l(o,s,a,u);case 1:case 2:return h(o,s,a,u);case 3:case 4:return l(o,s,a,u);case 5:return h(o,s,a,u);case 6:case 7:return l(o,s,a,u);case 8:return h(o,s,a,u);case 9:case 10:return l(o,s,a,u);case 11:return h(o,s,a,u);case 12:case 13:case 14:case 15:return l(o,s,a,u);default:return}},e}),(0,t.amdDefine)("4a",["20","46","15","5","7","5c","d","28","5f","60","61"],function(b,e,y,L,_,M,C,R,z,P,t){"use strict";var f={rayPlane:function(e,t,i){if(!L(e))throw new _("ray is required.");if(!L(t))throw new _("plane is required.");L(i)||(i=new b);var n=e.origin,r=e.direction,o=t.normal,s=b.dot(o,r);if(!(Math.abs(s)<C.EPSILON15)){var a=(-t.distance-b.dot(o,n))/s;if(!(a<0))return i=b.multiplyByScalar(r,a,i),b.add(n,i,i)}}},A=new b,E=new b,w=new b,m=new b,v=new b;f.rayTriangleParametric=function(e,t,i,n,r){if(!L(e))throw new _("ray is required.");if(!L(t))throw new _("p0 is required.");if(!L(i))throw new _("p1 is required.");if(!L(n))throw new _("p2 is required.");r=y(r,!1);var o,s,a,u,c,l=e.origin,h=e.direction,f=b.subtract(i,t,A),d=b.subtract(n,t,E),p=b.cross(h,d,w),g=b.dot(f,p);if(r){if(g<C.EPSILON6)return;if(o=b.subtract(l,t,m),(a=b.dot(o,p))<0||g<a)return;if(s=b.cross(o,f,v),(u=b.dot(h,s))<0||g<a+u)return;c=b.dot(d,s)/g}else{if(Math.abs(g)<C.EPSILON6)return;var M=1/g;if(o=b.subtract(l,t,m),(a=b.dot(o,p)*M)<0||1<a)return;if(s=b.cross(o,f,v),(u=b.dot(h,s)*M)<0||1<a+u)return;c=b.dot(d,s)*M}return c},f.rayTriangle=function(e,t,i,n,r,o){var s=f.rayTriangleParametric(e,t,i,n,r);if(L(s)&&!(s<0))return L(o)||(o=new b),b.multiplyByScalar(e.direction,s,o),b.add(e.origin,o,o)};var c=new t;f.lineSegmentTriangle=function(e,t,i,n,r,o,s){if(!L(e))throw new _("v0 is required.");if(!L(t))throw new _("v1 is required.");if(!L(i))throw new _("p0 is required.");if(!L(n))throw new _("p1 is required.");if(!L(r))throw new _("p2 is required.");var a=c;b.clone(e,a.origin),b.subtract(t,e,a.direction),b.normalize(a.direction,a.direction);var u=f.rayTriangleParametric(a,i,n,r,o);if(!(!L(u)||u<0||u>b.distance(e,t)))return L(s)||(s=new b),b.multiplyByScalar(a.direction,u,s),b.add(a.origin,s,s)};var l={root0:0,root1:0};function a(e,t,i){L(i)||(i=new M);var n=e.origin,r=e.direction,o=t.center,s=t.radius*t.radius,a=b.subtract(n,o,w),u=function(e,t,i,n){var r=t*t-4*e*i;if(!(r<0)){if(0<r){var o=1/(2*e),s=Math.sqrt(r),a=(-t+s)*o,u=(-t-s)*o;return a<u?(n.root0=a,n.root1=u):(n.root0=u,n.root1=a),n}var c=-t/(2*e);if(0!==c)return n.root0=n.root1=c,n}}(b.dot(r,r),2*b.dot(r,a),b.magnitudeSquared(a)-s,l);if(L(u))return i.start=u.root0,i.stop=u.root1,i}f.raySphere=function(e,t,i){if(!L(e))throw new _("ray is required.");if(!L(t))throw new _("sphere is required.");if(i=a(e,t,i),L(i)&&!(i.stop<0))return i.start=Math.max(i.start,0),i};var u=new t;f.lineSegmentSphere=function(e,t,i,n){if(!L(e))throw new _("p0 is required.");if(!L(t))throw new _("p1 is required.");if(!L(i))throw new _("sphere is required.");var r=u;b.clone(e,r.origin);var o=b.subtract(t,e,r.direction),s=b.magnitude(o);if(b.normalize(o,o),n=a(r,i,n),!(!L(n)||n.stop<0||n.start>s))return n.start=Math.max(n.start,0),n.stop=Math.min(n.stop,s),n};var N=new b,D=new b;function U(e,t,i){var n=e+t;return C.sign(e)!==C.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<i?0:n}f.rayEllipsoid=function(e,t){if(!L(e))throw new _("ray is required.");if(!L(t))throw new _("ellipsoid is required.");var i,n,r,o,s,a=t.oneOverRadii,u=b.multiplyComponents(a,e.origin,N),c=b.multiplyComponents(a,e.direction,D),l=b.magnitudeSquared(u),h=b.dot(u,c);if(1<l){if(0<=h)return;var f=h*h;if(i=l-1,f<(r=(n=b.magnitudeSquared(c))*i))return;if(r<f){o=h*h-r;var d=(s=-h+Math.sqrt(o))/n,p=i/s;return d<p?new M(d,p):{start:p,stop:d}}var g=Math.sqrt(i/n);return new M(g,g)}return l<1?(i=l-1,o=h*h-(r=(n=b.magnitudeSquared(c))*i),s=-h+Math.sqrt(o),new M(0,s/n)):h<0?(n=b.magnitudeSquared(c),new M(0,-h/n)):void 0};var j=new b,x=new b,B=new b,k=new b,F=new b,Q=new R,Y=new R,q=new R,G=new R,V=new R,H=new R,W=new R,X=new b,Z=new b,K=new e;f.grazingAltitudeLocation=function(e,t){if(!L(e))throw new _("ray is required.");if(!L(t))throw new _("ellipsoid is required.");var i=e.origin,n=e.direction;if(!b.equals(i,b.ZERO)){var r=t.geodeticSurfaceNormal(i,j);if(0<=b.dot(n,r))return i}var o=L(this.rayEllipsoid(e,t)),s=t.transformPositionToScaledSpace(n,j),a=b.normalize(s,s),u=b.mostOrthogonalAxis(s,k),c=b.normalize(b.cross(u,a,x),x),l=b.normalize(b.cross(a,c,B),B),h=Q;h[0]=a.x,h[1]=a.y,h[2]=a.z,h[3]=c.x,h[4]=c.y,h[5]=c.z,h[6]=l.x,h[7]=l.y,h[8]=l.z;var f=R.transpose(h,Y),d=R.fromScale(t.radii,q),p=R.fromScale(t.oneOverRadii,G),g=V;g[0]=0,g[1]=-n.z,g[2]=n.y,g[3]=n.z,g[4]=0,g[5]=-n.x,g[6]=-n.y,g[7]=n.x,g[8]=0;var M,y,A=R.multiply(R.multiply(f,p,H),g,H),E=R.multiply(R.multiply(A,d,W),h,W),w=R.multiplyByVector(A,i,F),m=function(e,t,i,n,r){var o,s=n*n,a=r*r,u=(e[R.COLUMN1ROW1]-e[R.COLUMN2ROW2])*a,c=r*(n*U(e[R.COLUMN1ROW0],e[R.COLUMN0ROW1],C.EPSILON15)+t.y),l=e[R.COLUMN0ROW0]*s+e[R.COLUMN2ROW2]*a+n*t.x+i,h=a*U(e[R.COLUMN2ROW1],e[R.COLUMN1ROW2],C.EPSILON15),f=r*(n*U(e[R.COLUMN2ROW0],e[R.COLUMN0ROW2])+t.z),d=[];if(0===f&&0===h){if(0===(o=z.computeRealRoots(u,c,l)).length)return d;var p=o[0],g=Math.sqrt(Math.max(1-p*p,0));if(d.push(new b(n,r*p,r*-g)),d.push(new b(n,r*p,r*g)),2===o.length){var M=o[1],y=Math.sqrt(Math.max(1-M*M,0));d.push(new b(n,r*M,r*-y)),d.push(new b(n,r*M,r*y))}return d}var A=f*f,E=h*h,w=f*h,m=u*u+E,v=2*(c*u+w),N=2*l*u+c*c-E+A,D=2*(l*c-w),T=l*l-A;if(0===m&&0===v&&0===N&&0===D)return d;var I=(o=P.computeRealRoots(m,v,N,D,T)).length;if(0===I)return d;for(var O=0;O<I;++O){var S=o[O],L=S*S,_=Math.max(1-L,0),j=Math.sqrt(_),x=(C.sign(u)===C.sign(l)?U(u*L+l,c*S,C.EPSILON12):C.sign(l)===C.sign(c*S)?U(u*L,c*S+l,C.EPSILON12):U(u*L+c*S,l,C.EPSILON12))*U(h*S,f,C.EPSILON15);x<0?d.push(new b(n,r*S,r*j)):0<x?d.push(new b(n,r*S,r*-j)):0!==j?(d.push(new b(n,r*S,r*-j)),d.push(new b(n,r*S,r*j)),++O):d.push(new b(n,r*S,r*j))}return d}(E,b.negate(w,j),0,0,1),v=m.length;if(0<v){for(var N=b.clone(b.ZERO,Z),D=Number.NEGATIVE_INFINITY,T=0;T<v;++T){M=R.multiplyByVector(d,R.multiplyByVector(h,m[T],X),X);var I=b.normalize(b.subtract(M,i,k),k),O=b.dot(I,n);D<O&&(D=O,N=b.clone(M,N))}var S=t.cartesianToCartographic(N,K);return D=C.clamp(D,0,1),y=b.magnitude(b.subtract(N,i,k))*Math.sqrt(1-D*D),y=o?-y:y,S.height=y,t.cartographicToCartesian(S,new b)}};var h=new b;return f.lineSegmentPlane=function(e,t,i,n){if(!L(e))throw new _("endPoint0 is required.");if(!L(t))throw new _("endPoint1 is required.");if(!L(i))throw new _("plane is required.");L(n)||(n=new b);var r=b.subtract(t,e,h),o=i.normal,s=b.dot(o,r);if(!(Math.abs(s)<C.EPSILON6)){var a=b.dot(o,e),u=-(i.distance+a)/s;if(!(u<0||1<u))return b.multiplyByScalar(r,u,n),b.add(e,n,n),n}},f.trianglePlaneIntersection=function(e,t,i,n){if(!(L(e)&&L(t)&&L(i)&&L(n)))throw new _("p0, p1, p2, and plane are required.");var r,o,s=n.normal,a=n.distance,u=b.dot(s,e)+a<0,c=b.dot(s,t)+a<0,l=b.dot(s,i)+a<0,h=0;if(h+=u?1:0,h+=c?1:0,1!==(h+=l?1:0)&&2!==h||(r=new b,o=new b),1===h){if(u)return f.lineSegmentPlane(e,t,n,r),f.lineSegmentPlane(e,i,n,o),{positions:[e,t,i,r,o],indices:[0,3,4,1,2,4,1,4,3]};if(c)return f.lineSegmentPlane(t,i,n,r),f.lineSegmentPlane(t,e,n,o),{positions:[e,t,i,r,o],indices:[1,3,4,2,0,4,2,4,3]};if(l)return f.lineSegmentPlane(i,e,n,r),f.lineSegmentPlane(i,t,n,o),{positions:[e,t,i,r,o],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===h){if(!u)return f.lineSegmentPlane(t,e,n,r),f.lineSegmentPlane(i,e,n,o),{positions:[e,t,i,r,o],indices:[1,2,4,1,4,3,0,3,4]};if(!c)return f.lineSegmentPlane(i,t,n,r),f.lineSegmentPlane(e,t,n,o),{positions:[e,t,i,r,o],indices:[2,0,4,2,4,3,1,3,4]};if(!l)return f.lineSegmentPlane(e,i,n,r),f.lineSegmentPlane(t,i,n,o),{positions:[e,t,i,r,o],indices:[0,1,4,0,4,3,2,3,4]}}},f}),(0,t.amdDefine)("61",["20","15","5","7"],function(n,i,r,o){"use strict";function e(e,t){t=n.clone(i(t,n.ZERO)),n.equals(t,n.ZERO)||n.normalize(t,t),this.origin=n.clone(i(e,n.ZERO)),this.direction=t}return e.getPoint=function(e,t,i){if(!r(e))throw new o("ray is requred");if("number"!=typeof t)throw new o("t is a required number");return r(i)||(i=new n),i=n.multiplyByScalar(e.direction,t,i),n.add(e.origin,i,i)},e}),(0,t.amdDefine)("62",["5d","a","20","36","15","5","6","7","47","4a","29","38","61","2b"],function(i,a,h,e,r,f,t,d,o,u,s,c,n,l){"use strict";var p=new e;function g(e,t){if(!f(e))throw new d("origin is required.");if(e=(t=r(t,o.WGS84)).scaleToGeodeticSurface(e),!f(e))throw new d("origin must not be at the center of the ellipsoid.");var i=l.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=h.fromCartesian4(s.getColumn(i,0,p)),this._yAxis=h.fromCartesian4(s.getColumn(i,1,p));var n=h.fromCartesian4(s.getColumn(i,2,p));this._plane=c.fromPointNormal(e,n)}t(g.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});var M=new i;g.fromPoints=function(e,t){if(!f(e))throw new d("cartesians is required.");return new g(i.fromPoints(e,M).center,t)};var y=new n,A=new h;g.prototype.projectPointOntoPlane=function(e,t){if(!f(e))throw new d("cartesian is required.");var i=y;i.origin=e,h.normalize(e,i.direction);var n=u.rayPlane(i,this._plane,A);if(f(n)||(h.negate(i.direction,i.direction),n=u.rayPlane(i,this._plane,A)),f(n)){var r=h.subtract(n,this._origin,n),o=h.dot(this._xAxis,r),s=h.dot(this._yAxis,r);return f(t)?(t.x=o,t.y=s,t):new a(o,s)}},g.prototype.projectPointsOntoPlane=function(e,t){if(!f(e))throw new d("cartesians is required.");f(t)||(t=[]);for(var i=0,n=e.length,r=0;r<n;r++){var o=this.projectPointOntoPlane(e[r],t[i]);f(o)&&(t[i]=o,i++)}return t.length=i,t},g.prototype.projectPointToNearestOnPlane=function(e,t){if(!f(e))throw new d("cartesian is required.");f(t)||(t=new a);var i=y;i.origin=e,h.clone(this._plane.normal,i.direction);var n=u.rayPlane(i,this._plane,A);f(n)||(h.negate(i.direction,i.direction),n=u.rayPlane(i,this._plane,A));var r=h.subtract(n,this._origin,n),o=h.dot(this._xAxis,r),s=h.dot(this._yAxis,r);return t.x=o,t.y=s,t},g.prototype.projectPointsToNearestOnPlane=function(e,t){if(!f(e))throw new d("cartesians is required.");f(t)||(t=[]);var i=e.length;t.length=i;for(var n=0;n<i;n++)t[n]=this.projectPointToNearestOnPlane(e[n],t[n]);return t};var E=new h;return g.prototype.projectPointsOntoEllipsoid=function(e,t){if(!f(e))throw new d("cartesians is required.");var i=e.length;f(t)?t.length=i:t=new Array(i);for(var n=this._ellipsoid,r=this._origin,o=this._xAxis,s=this._yAxis,a=E,u=0;u<i;++u){var c=e[u];h.multiplyByScalar(o,c.x,a),f(t[u])||(t[u]=new h);var l=h.add(r,a,t[u]);h.multiplyByScalar(s,c.y,a),h.add(l,a,l),n.scaleToGeocentricSurface(l,l)}return t},g}),(0,t.amdDefine)("37",["11"],function(e){"use strict";return e({OUTSIDE:-1,INTERSECTING:0,INSIDE:1})}),(0,t.amdDefine)("5c",["15"],function(i){"use strict";return function(e,t){this.start=i(e,0),this.stop=i(t,0)}}),(0,t.amdDefine)("38",["20","5","7","11","d"],function(r,o,s,e,a){"use strict";function u(e,t){if(!o(e))throw new s("normal is required.");if(!a.equalsEpsilon(r.magnitude(e),1,a.EPSILON6))throw new s("normal must be normalized.");if(!o(t))throw new s("distance is required.");this.normal=r.clone(e),this.distance=t}u.fromPointNormal=function(e,t,i){if(!o(e))throw new s("point is required.");if(!o(t))throw new s("normal is required.");if(!a.equalsEpsilon(r.magnitude(t),1,a.EPSILON6))throw new s("normal must be normalized.");var n=-r.dot(t,e);return o(i)?(r.clone(t,i.normal),i.distance=n,i):new u(t,n)};var c=new r;return u.fromCartesian4=function(e,t){if(!o(e))throw new s("coefficients is required.");var i=r.fromCartesian4(e,c),n=e.w;if(!a.equalsEpsilon(r.magnitude(i),1,a.EPSILON6))throw new s("normal must be normalized.");return o(t)?(r.clone(i,t.normal),t.distance=n,t):new u(i,n)},u.getPointDistance=function(e,t){if(!o(e))throw new s("plane is required.");if(!o(t))throw new s("point is required.");return r.dot(e.normal,t)+e.distance},u.ORIGIN_XY_PLANE=e(new u(r.UNIT_Z,0)),u.ORIGIN_YZ_PLANE=e(new u(r.UNIT_X,0)),u.ORIGIN_ZX_PLANE=e(new u(r.UNIT_Y,0)),u}),(0,t.amdDefine)("63",["5b","a","20","46","15","5","7","47","62","37","5c","d","28","38","55"],function(n,e,O,t,N,S,D,T,I,l,p,L,_,j,x){"use strict";function b(e,t){this.center=O.clone(N(e,O.ZERO)),this.halfAxes=_.clone(N(t,_.ZERO))}var C=new O,R=new O,z=new O,P=new O,U=new O,B=new O,k=new _,F={unitary:new _,diagonal:new _};b.fromPoints=function(e,t){if(S(t)||(t=new b),!S(e)||0===e.length)return t.halfAxes=_.ZERO,t.center=O.ZERO,t;var i,n=e.length,r=O.clone(e[0],C);for(i=1;i<n;i++)O.add(r,e[i],r);var o=1/n;O.multiplyByScalar(r,o,r);var s,a=0,u=0,c=0,l=0,h=0,f=0;for(i=0;i<n;i++)a+=(s=O.subtract(e[i],r,R)).x*s.x,u+=s.x*s.y,c+=s.x*s.z,l+=s.y*s.y,h+=s.y*s.z,f+=s.z*s.z;a*=o,u*=o,c*=o,l*=o,h*=o,f*=o;var d=k;d[0]=a,d[1]=u,d[2]=c,d[3]=u,d[4]=l,d[5]=h,d[6]=c,d[7]=h,d[8]=f;var p=_.computeEigenDecomposition(d,F),g=_.clone(p.unitary,t.halfAxes),M=_.getColumn(g,0,P),y=_.getColumn(g,1,U),A=_.getColumn(g,2,B),E=-Number.MAX_VALUE,w=-Number.MAX_VALUE,m=-Number.MAX_VALUE,v=Number.MAX_VALUE,N=Number.MAX_VALUE,D=Number.MAX_VALUE;for(i=0;i<n;i++)s=e[i],E=Math.max(O.dot(M,s),E),w=Math.max(O.dot(y,s),w),m=Math.max(O.dot(A,s),m),v=Math.min(O.dot(M,s),v),N=Math.min(O.dot(y,s),N),D=Math.min(O.dot(A,s),D);M=O.multiplyByScalar(M,.5*(v+E),M),y=O.multiplyByScalar(y,.5*(N+w),y),A=O.multiplyByScalar(A,.5*(D+m),A);var T=O.add(M,y,t.center);O.add(T,A,T);var I=z;return I.x=E-v,I.y=w-N,I.z=m-D,O.multiplyByScalar(I,.5,I),_.multiplyByScale(t.halfAxes,I,t.halfAxes),t};var Q=new O,Y=new O,q=new t,G=new O,V=[new t,new t,new t,new t,new t,new t,new t,new t],H=[new O,new O,new O,new O,new O,new O,new O,new O],W=[new e,new e,new e,new e,new e,new e,new e,new e];b.fromRectangle=function(e,t,i,n,r){if(!S(e))throw new D("rectangle is required");if(e.width<0||e.width>L.PI)throw new D("Rectangle width must be between 0 and pi");if(e.height<0||e.height>L.PI)throw new D("Rectangle height must be between 0 and pi");if(S(n)&&!L.equalsEpsilon(n.radii.x,n.radii.y,L.EPSILON15))throw new D("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");t=N(t,0),i=N(i,0),n=N(n,T.WGS84);var o=x.center(e,q),s=n.cartographicToCartesian(o,G),a=new I(s,n),u=a.plane,c=V[0],l=V[1],h=V[2],f=V[3],d=V[4],p=V[5],g=V[6],M=V[7],y=o.longitude,A=e.south<0&&0<e.north?0:o.latitude;g.latitude=p.latitude=d.latitude=e.south,M.latitude=f.latitude=A,c.latitude=l.latitude=h.latitude=e.north,g.longitude=M.longitude=c.longitude=e.west,p.longitude=l.longitude=y,d.longitude=f.longitude=h.longitude=e.east,h.height=l.height=c.height=M.height=g.height=p.height=d.height=f.height=i,n.cartographicArrayToCartesianArray(V,H),a.projectPointsToNearestOnPlane(H,W);var E=Math.min(W[6].x,W[7].x,W[0].x),w=Math.max(W[2].x,W[3].x,W[4].x),m=Math.min(W[4].y,W[5].y,W[6].y),v=Math.max(W[0].y,W[1].y,W[2].y);return h.height=c.height=d.height=g.height=t,n.cartographicArrayToCartesianArray(V,H),function(e,t,i,n,r,o,s,a){if(!(S(t)&&S(i)&&S(n)&&S(r)&&S(o)&&S(s)))throw new D("all extents (minimum/maximum X/Y/Z) are required.");S(a)||(a=new b);var u=a.halfAxes;_.setColumn(u,0,e.xAxis,u),_.setColumn(u,1,e.yAxis,u),_.setColumn(u,2,e.zAxis,u);var c=Q;c.x=(t+i)/2,c.y=(n+r)/2,c.z=(o+s)/2;var l=Y;l.x=(i-t)/2,l.y=(r-n)/2,l.z=(s-o)/2;var h=a.center;return c=_.multiplyByVector(u,c,c),O.add(e.origin,c,h),_.multiplyByScale(u,l,u),a}(a,E,w,m,v,Math.min(j.getPointDistance(u,H[0]),j.getPointDistance(u,H[2]),j.getPointDistance(u,H[4]),j.getPointDistance(u,H[6])),i,r)},b.clone=function(e,t){if(S(e))return S(t)?(O.clone(e.center,t.center),_.clone(e.halfAxes,t.halfAxes),t):new b(e.center,e.halfAxes)},b.intersectPlane=function(e,t){if(!S(e))throw new D("box is required.");if(!S(t))throw new D("plane is required.");var i=e.center,n=t.normal,r=e.halfAxes,o=n.x,s=n.y,a=n.z,u=Math.abs(o*r[_.COLUMN0ROW0]+s*r[_.COLUMN0ROW1]+a*r[_.COLUMN0ROW2])+Math.abs(o*r[_.COLUMN1ROW0]+s*r[_.COLUMN1ROW1]+a*r[_.COLUMN1ROW2])+Math.abs(o*r[_.COLUMN2ROW0]+s*r[_.COLUMN2ROW1]+a*r[_.COLUMN2ROW2]),c=O.dot(n,i)+t.distance;return c<=-u?l.OUTSIDE:u<=c?l.INSIDE:l.INTERSECTING};var g=new O,M=new O,y=new O,d=new O;b.distanceSquaredTo=function(e,t){if(!S(e))throw new D("box is required.");if(!S(t))throw new D("cartesian is required.");var i=O.subtract(t,e.center,Q),n=e.halfAxes,r=_.getColumn(n,0,g),o=_.getColumn(n,1,M),s=_.getColumn(n,2,y),a=O.magnitude(r),u=O.magnitude(o),c=O.magnitude(s);O.normalize(r,r),O.normalize(o,o),O.normalize(s,s);var l=d;l.x=O.dot(i,r),l.y=O.dot(i,o),l.z=O.dot(i,s);var h,f=0;return l.x<-a?f+=(h=l.x+a)*h:l.x>a&&(f+=(h=l.x-a)*h),l.y<-u?f+=(h=l.y+u)*h:l.y>u&&(f+=(h=l.y-u)*h),l.z<-c?f+=(h=l.z+c)*h:l.z>c&&(f+=(h=l.z-c)*h),f};var A=new O,E=new O;b.computePlaneDistances=function(e,t,i,n){if(!S(e))throw new D("box is required.");if(!S(t))throw new D("position is required.");if(!S(i))throw new D("direction is required.");S(n)||(n=new p);var r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=e.center,a=e.halfAxes,u=_.getColumn(a,0,g),c=_.getColumn(a,1,M),l=_.getColumn(a,2,y),h=O.add(u,c,A);O.add(h,l,h),O.add(h,s,h);var f=O.subtract(h,t,E),d=O.dot(i,f);return r=Math.min(d,r),o=Math.max(d,o),O.add(s,u,h),O.add(h,c,h),O.subtract(h,l,h),O.subtract(h,t,f),d=O.dot(i,f),r=Math.min(d,r),o=Math.max(d,o),O.add(s,u,h),O.subtract(h,c,h),O.add(h,l,h),O.subtract(h,t,f),d=O.dot(i,f),r=Math.min(d,r),o=Math.max(d,o),O.add(s,u,h),O.subtract(h,c,h),O.subtract(h,l,h),O.subtract(h,t,f),d=O.dot(i,f),r=Math.min(d,r),o=Math.max(d,o),O.subtract(s,u,h),O.add(h,c,h),O.add(h,l,h),O.subtract(h,t,f),d=O.dot(i,f),r=Math.min(d,r),o=Math.max(d,o),O.subtract(s,u,h),O.add(h,c,h),O.subtract(h,l,h),O.subtract(h,t,f),d=O.dot(i,f),r=Math.min(d,r),o=Math.max(d,o),O.subtract(s,u,h),O.subtract(h,c,h),O.add(h,l,h),O.subtract(h,t,f),d=O.dot(i,f),r=Math.min(d,r),o=Math.max(d,o),O.subtract(s,u,h),O.subtract(h,c,h),O.subtract(h,l,h),O.subtract(h,t,f),d=O.dot(i,f),r=Math.min(d,r),o=Math.max(d,o),n.start=r,n.stop=o,n};var r=new n;return b.isOccluded=function(e,t){if(!S(e))throw new D("box is required.");if(!S(t))throw new D("occluder is required.");var i=n.fromOrientedBoundingBox(e,r);return!t.isBoundingSphereVisible(i)},b.prototype.intersectPlane=function(e){return b.intersectPlane(this,e)},b.prototype.distanceSquaredTo=function(e){return b.distanceSquaredTo(this,e)},b.prototype.computePlaneDistances=function(e,t,i){return b.computePlaneDistances(this,e,t,i)},b.prototype.isOccluded=function(e){return b.isOccluded(this,e)},b.equals=function(e,t){return e===t||S(e)&&S(t)&&O.equals(e.center,t.center)&&_.equals(e.halfAxes,t.halfAxes)},b.prototype.clone=function(e){return b.clone(this,e)},b.prototype.equals=function(e){return b.equals(this,e)},b}),(0,t.amdDefine)("64",["4d","40","15","5","65","11","17","66","67","2d","43","44"],function(i,v,n,N,f,e,D,T,r,d,I,O){"use strict";function t(e){if(e=n(e,n.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=n(e.addNewLeapSeconds,!0),N(e.data))o(this,e.data);else if(N(e.url)){var t=this;this._downloadPromise=i(r(e.url),function(e){o(t,e)},function(){t._dataError="An error occurred while retrieving the EOP data from the URL "+e.url+"."})}else o(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function S(e,t){return D.compare(e.julianDate,t)}function o(e,t){if(N(t.columnNames))if(N(t.samples)){var i=t.columnNames.indexOf("modifiedJulianDateUtc"),n=t.columnNames.indexOf("xPoleWanderRadians"),r=t.columnNames.indexOf("yPoleWanderRadians"),o=t.columnNames.indexOf("ut1MinusUtcSeconds"),s=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),a=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),u=t.columnNames.indexOf("taiMinusUtcSeconds");if(i<0||n<0||r<0||o<0||s<0||a<0||u<0)e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns";else{var c,l=e._samples=t.samples,h=e._dates=[];e._dateColumn=i,e._xPoleWanderRadiansColumn=n,e._yPoleWanderRadiansColumn=r,e._ut1MinusUtcSecondsColumn=o,e._xCelestialPoleOffsetRadiansColumn=s,e._yCelestialPoleOffsetRadiansColumn=a,e._taiMinusUtcSecondsColumn=u,e._columnCount=t.columnNames.length,e._lastIndex=void 0;for(var f=e._addNewLeapSeconds,d=0,p=l.length;d<p;d+=e._columnCount){var g=l[d+i],M=l[d+u],y=g+I.MODIFIED_JULIAN_DATE_DIFFERENCE,A=new D(y,M,O.TAI);if(h.push(A),f){if(M!==c&&N(c)){var E=D.leapSeconds,w=v(E,A,S);if(w<0){var m=new T(A,M);E.splice(~w,0,m)}}c=M}}}}else e._dataError="Error in loaded EOP data: The samples property is required.";else e._dataError="Error in loaded EOP data: The columnNames property is required."}function A(e,t,i,n,r){var o=i*n;r.xPoleWander=t[o+e._xPoleWanderRadiansColumn],r.yPoleWander=t[o+e._yPoleWanderRadiansColumn],r.xPoleOffset=t[o+e._xCelestialPoleOffsetRadiansColumn],r.yPoleOffset=t[o+e._yCelestialPoleOffsetRadiansColumn],r.ut1MinusUtc=t[o+e._ut1MinusUtcSecondsColumn]}function E(e,t,i){return t+e*(i-t)}function p(e,t,i,n,r,o,s){var a=e._columnCount;if(o>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var u=t[r],c=t[o];if(u.equals(c)||n.equals(u))return A(e,i,r,a,s),s;if(n.equals(c))return A(e,i,o,a,s),s;var l=D.secondsDifference(n,u)/D.secondsDifference(c,u),h=r*a,f=o*a,d=i[h+e._ut1MinusUtcSecondsColumn],p=i[f+e._ut1MinusUtcSecondsColumn],g=p-d;if(.5<g||g<-.5){var M=i[h+e._taiMinusUtcSecondsColumn],y=i[f+e._taiMinusUtcSecondsColumn];M!==y&&(c.equals(n)?d=p:p-=y-M)}return s.xPoleWander=E(l,i[h+e._xPoleWanderRadiansColumn],i[f+e._xPoleWanderRadiansColumn]),s.yPoleWander=E(l,i[h+e._yPoleWanderRadiansColumn],i[f+e._yPoleWanderRadiansColumn]),s.xPoleOffset=E(l,i[h+e._xCelestialPoleOffsetRadiansColumn],i[f+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=E(l,i[h+e._yCelestialPoleOffsetRadiansColumn],i[f+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=E(l,d,p),s}return t.NONE=e({getPromiseToLoad:function(){return i()},compute:function(e,t){return N(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new f(0,0,0,0,0),t}}),t.prototype.getPromiseToLoad=function(){return i(this._downloadPromise)},t.prototype.compute=function(e,t){if(N(this._samples)){if(N(t)||(t=new f(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;var i=this._dates,n=this._lastIndex,r=0,o=0;if(N(n)){var s=i[n],a=i[n+1],u=D.lessThanOrEquals(s,e),c=!N(a),l=c||D.greaterThanOrEquals(a,e);if(u&&l)return r=n,!c&&a.equals(e)&&++r,o=r+1,p(this,i,this._samples,e,r,o,t),t}var h=v(i,e,D.compare,this._dateColumn);return 0<=h?(h<i.length-1&&i[h+1].equals(e)&&++h,o=r=h):(r=(o=~h)-1)<0&&(r=0),this._lastIndex=r,p(this,i,this._samples,e,r,o,t),t}if(N(this._dataError))throw new d(this._dataError)},t}),(0,t.amdDefine)("65",[],function(){"use strict";return function(e,t,i,n,r){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=i,this.yPoleOffset=n,this.ut1MinusUtc=r}}),(0,t.amdDefine)("68",["11"],function(e){"use strict";return e({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3})}),(0,t.amdDefine)("51",["15","5","6","69","68"],function(n,e,t,r,o){"use strict";function i(e){e=n(e,n.EMPTY_OBJECT);var t=n(e.throttleByServer,!1),i=t||n(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=n(e.priority,0),this.throttle=i,this.throttleByServer=t,this.type=n(e.type,o.OTHER),this.serverKey=void 0,this.state=r.UNISSUED,this.deferred=void 0,this.cancelled=!1}return i.prototype.cancel=function(){this.cancelled=!0},i}),(0,t.amdDefine)("6a",[],function(){"use strict";return function(e){var t={};if(!e)return t;for(var i=e.split("\r\n"),n=0;n<i.length;++n){var r=i[n],o=r.indexOf(": ");if(0<o){var s=r.substring(0,o),a=r.substring(o+2);t[s]=a}}return t}}),(0,t.amdDefine)("6b",["5","6a"],function(t,n){"use strict";function e(e,t,i){this.statusCode=e,this.response=t,this.responseHeaders=i,"string"==typeof this.responseHeaders&&(this.responseHeaders=n(this.responseHeaders))}return e.prototype.toString=function(){var e="Request has failed.";return t(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},e}),(0,t.amdDefine)("6c",["15"],function(s){"use strict";return function e(t,i){if(null===t||"object"!=typeof t)return t;i=s(i,!1);var n=new t.constructor;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];i&&(o=e(o,i)),n[r]=o}return n}}),(0,t.amdDefine)("6d",["1e","15","5","6"],function(a,u,c,e){"use strict";function t(e){a.typeOf.object("options",e),a.defined("options.comparator",e.comparator),this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function l(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}return e(t.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){this._maximumLength=e,this._length>e&&0<e&&(this._length=e,this._array.length=e)}},comparator:{get:function(){return this._comparator}}}),t.prototype.reserve=function(e){e=u(e,this._length),this._array.length=e},t.prototype.heapify=function(e){e=u(e,0);for(var t=this._length,i=this._comparator,n=this._array,r=-1,o=!0;o;){var s=2*(e+1),a=s-1;r=a<t&&i(n[a],n[e])<0?a:e,s<t&&i(n[s],n[r])<0&&(r=s),r!==e?(l(n,r,e),e=r):o=!1}},t.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);0<=t;--t)this.heapify(t)},t.prototype.insert=function(e){a.defined("element",e);var t,i=this._array,n=this._comparator,r=this._maximumLength,o=this._length++;for(o<i.length?i[o]=e:i.push(e);0!==o;){var s=Math.floor((o-1)/2);if(!(n(i[o],i[s])<0))break;l(i,o,s),o=s}return c(r)&&this._length>r&&(t=i[r],this._length=r),t},t.prototype.pop=function(e){if(e=u(e,0),0!==this._length){a.typeOf.number.lessThan("index",e,this._length);var t=this._array,i=t[e];return l(t,e,--this._length),this.heapify(e),i}},t}),(0,t.amdDefine)("6e",["1e"],function(t){"use strict";var i=/^blob:/i;return function(e){return t.typeOf.string("uri",e),i.test(e)}}),(0,t.amdDefine)("50",["1e"],function(t){"use strict";var i=/^data:/i;return function(e){return t.typeOf.string("uri",e),i.test(e)}}),(0,t.amdDefine)("69",["11"],function(e){"use strict";return e({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5})}),(0,t.amdDefine)("52",["4c","4d","1e","6c","5","6","6d","6e","50","69"],function(r,t,o,e,s,i,n,a,u,c){"use strict";var l={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0},h=20,f=new n({comparator:function(e,t){return e.priority-t.priority}});f.maximumLength=h,f.reserve(h);var d=[],p={},g="undefined"!=typeof document?new r(document.location.href):new r;function M(){}function y(e){s(e.priorityFunction)&&(e.priority=e.priorityFunction())}function A(e){return p[e]<M.maximumRequestsPerServer}function E(e){return e.state===c.UNISSUED&&(e.state=c.ISSUED,e.deferred=t.defer()),e.deferred.promise}function w(e){var t,i,n=E(e);return e.state=c.ACTIVE,d.push(e),++l.numberOfActiveRequests,++l.numberOfActiveRequestsEver,++p[e.serverKey],e.requestFunction().then((i=e,function(e){i.state!==c.CANCELLED&&(--l.numberOfActiveRequests,--p[i.serverKey],i.state=c.RECEIVED,i.deferred.resolve(e))})).otherwise((t=e,function(e){t.state!==c.CANCELLED&&(++l.numberOfFailedRequests,--l.numberOfActiveRequests,--p[t.serverKey],t.state=c.FAILED,t.deferred.reject(e))})),n}function m(e){var t=e.state===c.ACTIVE;e.state=c.CANCELLED,++l.numberOfCancelledRequests,e.deferred.reject(),t&&(--l.numberOfActiveRequests,--p[e.serverKey],++l.numberOfCancelledActiveRequests),s(e.cancelFunction)&&e.cancelFunction()}return M.maximumRequests=50,M.maximumRequestsPerServer=6,M.throttleRequests=!0,M.debugShowStatistics=!1,i(M,{statistics:{get:function(){return l}},priorityHeapLength:{get:function(){return h},set:function(e){if(e<h)for(;f.length>e;)m(f.pop());h=e,f.maximumLength=e,f.reserve(e)}}}),M.update=function(){var e,t,i=0,n=d.length;for(e=0;e<n;++e)(t=d[e]).cancelled&&m(t),t.state===c.ACTIVE?0<i&&(d[e-i]=t):++i;d.length-=i;var r=f.internalArray,o=f.length;for(e=0;e<o;++e)y(r[e]);f.resort();for(var s=Math.max(M.maximumRequests-d.length,0),a=0;a<s&&0<f.length;)(t=f.pop()).cancelled?m(t):!t.throttleByServer||A(t.serverKey)?(w(t),++a):m(t);M.debugShowStatistics&&(0<l.numberOfAttemptedRequests&&console.log("Number of attempted requests: "+l.numberOfAttemptedRequests),0<l.numberOfActiveRequests&&console.log("Number of active requests: "+l.numberOfActiveRequests),0<l.numberOfCancelledRequests&&console.log("Number of cancelled requests: "+l.numberOfCancelledRequests),0<l.numberOfCancelledActiveRequests&&console.log("Number of cancelled active requests: "+l.numberOfCancelledActiveRequests),0<l.numberOfFailedRequests&&console.log("Number of failed requests: "+l.numberOfFailedRequests),l.numberOfAttemptedRequests=0,l.numberOfCancelledRequests=0,l.numberOfCancelledActiveRequests=0)},M.getServerKey=function(e){o.typeOf.string("url",e);var t=new r(e).resolve(g);t.normalize();var i=t.authority;/:/.test(i)||(i=i+":"+("https"===t.scheme?"443":"80"));var n=p[i];return s(n)||(p[i]=0),i},M.request=function(e){if(o.typeOf.object("request",e),o.typeOf.string("request.url",e.url),o.typeOf.func("request.requestFunction",e.requestFunction),u(e.url)||a(e.url))return e.state=c.RECEIVED,e.requestFunction();if(++l.numberOfAttemptedRequests,s(e.serverKey)||(e.serverKey=M.getServerKey(e.url)),!M.throttleRequests||!e.throttle)return w(e);if(!(d.length>=M.maximumRequests)&&(!e.throttleByServer||A(e.serverKey))){y(e);var t=f.insert(e);if(s(t)){if(t===e)return;m(t)}return E(e)}},M.clearForSpecs=function(){for(;0<f.length;)m(f.pop());for(var e=d.length,t=0;t<e;++t)m(d[t]);d.length=0,p={},l.numberOfAttemptedRequests=0,l.numberOfActiveRequests=0,l.numberOfCancelledRequests=0,l.numberOfCancelledActiveRequests=0,l.numberOfFailedRequests=0,l.numberOfActiveRequestsEver=0},M.numberOfActiveRequestsByServer=function(e){return p[e]},M.requestHeap=f,M}),(0,t.amdDefine)("53",["4c","5","7"],function(r,o,n){"use strict";var e={},s={};return e.add=function(e,t){if(!o(e))throw new n("host is required.");if(!o(t)||t<=0)throw new n("port is required to be greater than 0.");var i=e.toLowerCase()+":"+t;o(s[i])||(s[i]=!0)},e.remove=function(e,t){if(!o(e))throw new n("host is required.");if(!o(t)||t<=0)throw new n("port is required to be greater than 0.");var i=e.toLowerCase()+":"+t;o(s[i])&&delete s[i]},e.contains=function(e){if(!o(e))throw new n("url is required.");var t=function(e){var t=new r(e);t.normalize();var i=t.getAuthority();if(o(i)){if(-1!==i.indexOf("@")&&(i=i.split("@")[1]),-1===i.indexOf(":")){var n=t.getScheme();if(o(n)||(n=(n=window.location.protocol).substring(0,n.length-1)),"http"===n)i+=":80";else{if("https"!==n)return;i+=":443"}}return i}}(e);return!(!o(t)||!o(s[t]))},e.clear=function(){s={}},e}),(0,t.amdDefine)("6f",["4d","1e","15","5","7","51","6b","52","2d","53"],function(c,t,l,h,f,d,p,g,M,y){"use strict";function A(e){e=l(e,l.EMPTY_OBJECT),t.defined("options.url",e.url);var i=e.url,n=e.responseType,r=l(e.method,"GET"),o=e.data,s=e.headers,a=e.overrideMimeType;i=l(i,e.url);var u=h(e.request)?e.request:new d;return u.url=i,u.requestFunction=function(){var e=c.defer(),t=A.load(i,n,r,o,s,e,a);return h(t)&&h(t.abort)&&(u.cancelFunction=function(){t.abort()}),e.promise},g.request(u)}var E=/^data:(.*?)(;base64)?,(.*)$/;function w(e,t){var i=decodeURIComponent(t);return e?atob(i):i}function m(e,t){for(var i=w(e,t),n=new ArrayBuffer(i.length),r=new Uint8Array(n),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return n}return A.defaultLoad=A.load=function(e,i,t,n,r,o,s){var a=E.exec(e);if(null===a){var u=new XMLHttpRequest;if(y.contains(e)&&(u.withCredentials=!0),h(s)&&h(u.overrideMimeType)&&u.overrideMimeType(s),u.open(t,e,!0),h(r))for(var c in r)r.hasOwnProperty(c)&&u.setRequestHeader(c,r[c]);return h(i)&&(u.responseType=i),u.onload=function(){if(u.status<200||300<=u.status)o.reject(new p(u.status,u.response,u.getAllResponseHeaders()));else{var e=u.response,t=u.responseType;if(!h(e)||h(i)&&t!==i)if("json"===i&&"string"==typeof e)try{o.resolve(JSON.parse(e))}catch(e){o.reject(e)}else(""===t||"document"===t)&&h(u.responseXML)&&u.responseXML.hasChildNodes()?o.resolve(u.responseXML):""!==t&&"text"!==t||!h(u.responseText)?o.reject(new M("Invalid XMLHttpRequest response type.")):o.resolve(u.responseText);else o.resolve(e)}},u.onerror=function(e){o.reject(new p)},u.send(n),u}o.resolve(function(e,t){t=l(t,"");var i=e[1],n=!!e[2],r=e[3];switch(t){case"":case"text":return w(n,r);case"arraybuffer":return m(n,r);case"blob":var o=m(n,r);return new Blob([o],{type:i});case"document":return(new DOMParser).parseFromString(w(n,r),i);case"json":return JSON.parse(w(n,r));default:throw new f("Unhandled responseType: "+t)}}(a,i))},A}),(0,t.amdDefine)("70",["6f"],function(n){"use strict";return function(e,t,i){return n({url:e,headers:t,request:i})}}),(0,t.amdDefine)("67",["6c","5","7","70"],function(r,o,s,a){"use strict";var u={Accept:"application/json,*/*;q=0.01"};return function(e,t,i){if(!o(e))throw new s("url is required.");o(t)?o(t.Accept)||((t=r(t)).Accept=u.Accept):t=u;var n=a(e,t,i);if(o(n))return n.then(function(e){return JSON.parse(e)})}}),(0,t.amdDefine)("71",["4d","72","15","5","73","17","67","44"],function(f,i,a,A,E,u,n,c){"use strict";function e(e){e=a(e,a.EMPTY_OBJECT),this._xysFileUrlTemplate=e.xysFileUrlTemplate,this._interpolationOrder=a(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=a(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new u(this._sampleZeroJulianEphemerisDate,0,c.TAI),this._stepSizeDays=a(e.stepSizeDays,1),this._samplesPerXysFile=a(e.samplesPerXysFile,1e3),this._totalSamples=a(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,i=this._denominators=new Array(t+1),n=this._xTable=new Array(t+1),r=Math.pow(this._stepSizeDays,t),o=0;o<=t;++o){i[o]=r,n[o]=o*this._stepSizeDays;for(var s=0;s<=t;++s)s!==o&&(i[o]*=o-s);i[o]=1/i[o]}this._work=new Array(t+1),this._coef=new Array(t+1)}var r=new u(0,0,c.TAI);function w(e,t,i){var n=r;return n.dayNumber=t,n.secondsOfDay=i,u.daysDifference(n,e._sampleZeroDateTT)}function m(s,a){if(s._chunkDownloadsInProgress[a])return s._chunkDownloadsInProgress[a];var e,u=f.defer();s._chunkDownloadsInProgress[a]=u;var t=s._xysFileUrlTemplate;return e=A(t)?t.replace("{0}",a):i("Assets/IAU2006_XYS/IAU2006_XYS_"+a+".json"),f(n(e),function(e){s._chunkDownloadsInProgress[a]=!1;for(var t=s._samples,i=e.samples,n=a*s._samplesPerXysFile*3,r=0,o=i.length;r<o;++r)t[n+r]=i[r];u.resolve()}),u.promise}return e.prototype.preload=function(e,t,i,n){var r=w(this,e,t),o=w(this,i,n),s=r/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);var a=o/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;a>=this._totalSamples&&(a=this._totalSamples-1);for(var u=s/this._samplesPerXysFile|0,c=a/this._samplesPerXysFile|0,l=[],h=u;h<=c;++h)l.push(m(this,h));return f.all(l)},e.prototype.computeXysRadians=function(e,t,i){var n=w(this,e,t);if(!(n<0)){var r=n/this._stepSizeDays|0;if(!(r>=this._totalSamples)){var o=this._interpolationOrder,s=r-(o/2|0);s<0&&(s=0);var a=s+o;a>=this._totalSamples&&(s=(a=this._totalSamples-1)-o)<0&&(s=0);var u=!1,c=this._samples;if(A(c[3*s])||(m(this,s/this._samplesPerXysFile|0),u=!0),A(c[3*a])||(m(this,a/this._samplesPerXysFile|0),u=!0),!u){A(i)?(i.x=0,i.y=0,i.s=0):i=new E(0,0,0);var l,h,f=n-s*this._stepSizeDays,d=this._work,p=this._denominators,g=this._coef,M=this._xTable;for(l=0;l<=o;++l)d[l]=f-M[l];for(l=0;l<=o;++l){for(g[l]=1,h=0;h<=o;++h)h!==l&&(g[l]*=d[h]);g[l]*=p[l];var y=3*(s+l);i.x+=g[l]*c[y++],i.y+=g[l]*c[y++],i.s+=g[l]*c[y]}return i}}}},e}),(0,t.amdDefine)("73",[],function(){"use strict";return function(e,t,i){this.x=e,this.y=t,this.s=i}}),(0,t.amdDefine)("74",[],function(){return function(){var E=arguments,w=0,e=E[w++],m=function(e,t,i,n){i||(i=" ");var r=e.length>=t?"":Array(1+t-e.length>>>0).join(i);return n?e+r:r+e},v=function(e,t,i,n,r,o){var s=n-e.length;return 0<s&&(e=i||!r?m(e,n,o,i):e.slice(0,t.length)+m("",s,"0",!0)+e.slice(t.length)),e},N=function(e,t,i,n,r,o,s){var a=e>>>0;return e=(i=i&&a&&{2:"0b",8:"0",16:"0x"}[t]||"")+m(a.toString(t),o||0,"0",!1),v(e,i,n,r,s)},D=function(e,t,i,n,r,o){return null!=n&&(e=e.slice(0,n)),v(e,"",t,i,r,o)};return e.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(e,t,i,n,r,o,s){var a,u,c,l,h;if("%%"==e)return"%";for(var f=!1,d="",p=!1,g=!1,M=" ",y=i.length,A=0;i&&A<y;A++)switch(i.charAt(A)){case" ":d=" ";break;case"+":d="+";break;case"-":f=!0;break;case"'":M=i.charAt(A+1);break;case"0":p=!0;break;case"#":g=!0}if((n=n?"*"==n?+E[w++]:"*"==n.charAt(0)?+E[n.slice(1,-1)]:+n:0)<0&&(n=-n,f=!0),!isFinite(n))throw new Error("sprintf: (minimum-)width must be finite");switch(o=o?"*"==o?+E[w++]:"*"==o.charAt(0)?+E[o.slice(1,-1)]:+o:-1<"fFeE".indexOf(s)?6:"d"==s?0:void 0,h=t?E[t.slice(0,-1)]:E[w++],s){case"s":return D(String(h),f,n,o,p,M);case"c":return D(String.fromCharCode(+h),f,n,o,p);case"b":return N(h,2,g,f,n,o,p);case"o":return N(h,8,g,f,n,o,p);case"x":return N(h,16,g,f,n,o,p);case"X":return N(h,16,g,f,n,o,p).toUpperCase();case"u":return N(h,10,g,f,n,o,p);case"i":case"d":return a=+h||0,h=(u=(a=Math.round(a-a%1))<0?"-":d)+m(String(Math.abs(a)),o,"0",!1),v(h,u,f,n,p);case"e":case"E":case"f":case"F":case"g":case"G":return u=(a=+h)<0?"-":d,c=["toExponential","toFixed","toPrecision"]["efg".indexOf(s.toLowerCase())],l=["toString","toUpperCase"]["eEfFgG".indexOf(s)%2],h=u+Math.abs(a)[c](o),v(h,u,f,n,p)[l]();default:return e}})}}),(0,t.amdDefine)("40",["1e","5"],function(a,e){"use strict";return function(e,t,i){a.defined("array",e),a.defined("itemToFind",t),a.defined("comparator",i);for(var n,r,o=0,s=e.length-1;o<=s;)if((r=i(e[n=~~((o+s)/2)],t))<0)o=n+1;else{if(!(0<r))return n;s=n-1}return~(s+1)}}),(0,t.amdDefine)("75",[],function(){"use strict";return function(e,t,i,n,r,o,s,a){this.year=e,this.month=t,this.day=i,this.hour=n,this.minute=r,this.second=o,this.millisecond=s,this.isLeapSecond=a}}),(0,t.amdDefine)("76",["7"],function(t){"use strict";return function(e){if(null===e||isNaN(e))throw new t("year is required and must be a number.");return e%4==0&&e%100!=0||e%400==0}}),(0,t.amdDefine)("66",[],function(){"use strict";return function(e,t){this.julianDate=e,this.offset=t}}),(0,t.amdDefine)("44",["11"],function(e){"use strict";return e({UTC:0,TAI:1})}),(0,t.amdDefine)("17",["74","40","15","5","7","75","76","66","43","44"],function(r,o,s,D,T,A,I,e,E,O){"use strict";var a=new A,S=[31,28,31,30,31,30,31,31,30,31,30,31];function u(e,t){return F.compare(e.julianDate,t.julianDate)}var c=new e;function L(e){c.julianDate=e;var t=F.leapSeconds,i=o(t,c,u);i<0&&(i=~i),i>=t.length&&(i=t.length-1);var n=t[i].offset;0<i&&n<F.secondsDifference(t[i].julianDate,e)&&(n=t[--i].offset),F.addSeconds(e,n,e)}function w(e,t){c.julianDate=e;var i=F.leapSeconds,n=o(i,c,u);if(n<0&&(n=~n),0===n)return F.addSeconds(e,-i[0].offset,t);if(n>=i.length)return F.addSeconds(e,-i[n-1].offset,t);var r=F.secondsDifference(i[n].julianDate,e);return 0===r?F.addSeconds(e,-i[n].offset,t):r<=1?void 0:F.addSeconds(e,-i[--n].offset,t)}function _(e,t,i){var n=t/E.SECONDS_PER_DAY|0;return e+=n,(t-=E.SECONDS_PER_DAY*n)<0&&(e--,t+=E.SECONDS_PER_DAY),i.dayNumber=e,i.secondsOfDay=t,i}function j(e,t,i,n,r,o,s){var a=(t-14)/12|0,u=e+4800+a,c=(1461*u/4|0)+(367*(t-2-12*a)/12|0)-(3*((u+100)/100|0)/4|0)+i-32075;(n-=12)<0&&(n+=24);var l=o+(n*E.SECONDS_PER_HOUR+r*E.SECONDS_PER_MINUTE+s*E.SECONDS_PER_MILLISECOND);return 43200<=l&&(c-=1),[c,l]}var x=/^(\d{4})$/,b=/^(\d{4})-(\d{2})$/,C=/^(\d{4})-?(\d{3})$/,R=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,z=/^(\d{4})-?(\d{2})-?(\d{2})$/,t=/([Z+\-])?(\d{2})?:?(\d{2})?$/,P=/^(\d{2})(\.\d+)?/.source+t.source,U=/^(\d{2}):?(\d{2})(\.\d+)?/.source+t.source,B=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+t.source,k="Invalid ISO 8601 date.";function F(e,t,i){this.dayNumber=void 0,this.secondsOfDay=void 0,e=s(e,0),t=s(t,0),i=s(i,O.UTC);var n=0|e;_(n,t+=(e-n)*E.SECONDS_PER_DAY,this),i===O.UTC&&L(this)}F.fromGregorianDate=function(e,t){if(!(e instanceof A))throw new T("date must be a valid GregorianDate.");var i=j(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return D(t)?(_(i[0],i[1],t),L(t),t):new F(i[0],i[1],O.UTC)},F.fromDate=function(e,t){if(!(e instanceof Date)||isNaN(e.getTime()))throw new T("date must be a valid JavaScript Date.");var i=j(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return D(t)?(_(i[0],i[1],t),L(t),t):new F(i[0],i[1],O.UTC)},F.fromIso8601=function(e,t){if("string"!=typeof e)throw new T(k);var i,n,r,o,s,a=(e=e.replace(",",".")).split("T"),u=1,c=1,l=0,h=0,f=0,d=0,p=a[0],g=a[1];if(!D(p))throw new T(k);if(null!==(a=p.match(z))){if(0<(o=p.split("-").length-1)&&2!==o)throw new T(k);i=+a[1],u=+a[2],c=+a[3]}else if(null!==(a=p.match(b)))i=+a[1],u=+a[2];else if(null!==(a=p.match(x)))i=+a[1];else{var M;if(null!==(a=p.match(C))){if(i=+a[1],M=+a[2],r=I(i),M<1||r&&366<M||!r&&365<M)throw new T(k)}else{if(null===(a=p.match(R)))throw new T(k);i=+a[1];var y=+a[2],A=+a[3]||0;if(0<(o=p.split("-").length-1)&&(!D(a[3])&&1!==o||D(a[3])&&2!==o))throw new T(k);M=7*y+A-new Date(Date.UTC(i,0,4)).getUTCDay()-3}(n=new Date(Date.UTC(i,0,1))).setUTCDate(M),u=n.getUTCMonth()+1,c=n.getUTCDate()}if(r=I(i),u<1||12<u||c<1||(2!==u||!r)&&S[u-1]<c||r&&2===u&&29<c)throw new T(k);if(D(g)){if(null!==(a=g.match(B))){if(0<(o=g.split(":").length-1)&&2!==o&&3!==o)throw new T(k);l=+a[1],h=+a[2],f=+a[3],d=1e3*+(a[4]||0),s=5}else if(null!==(a=g.match(U))){if(2<(o=g.split(":").length-1))throw new T(k);l=+a[1],h=+a[2],f=60*+(a[3]||0),s=4}else{if(null===(a=g.match(P)))throw new T(k);l=+a[1],h=60*+(a[2]||0),s=3}if(60<=h||61<=f||24<l||24===l&&(0<h||0<f||0<d))throw new T(k);var E=a[s],w=+a[s+1],m=+(a[s+2]||0);switch(E){case"+":l-=w,h-=m;break;case"-":l+=w,h+=m;break;case"Z":break;default:h+=new Date(Date.UTC(i,u-1,c,l,h)).getTimezoneOffset()}}var v=60===f;for(v&&f--;60<=h;)h-=60,l++;for(;24<=l;)l-=24,c++;for(n=r&&2===u?29:S[u-1];n<c;)c-=n,12<++u&&(u-=12,i++),n=r&&2===u?29:S[u-1];for(;h<0;)h+=60,l--;for(;l<0;)l+=24,c--;for(;c<1;)--u<1&&(u+=12,i--),c+=n=r&&2===u?29:S[u-1];var N=j(i,u,c,l,h,f,d);return D(t)?(_(N[0],N[1],t),L(t)):t=new F(N[0],N[1],O.UTC),v&&F.addSeconds(t,1,t),t},F.now=function(e){return F.fromDate(new Date,e)};var m=new F(0,0,O.TAI);return F.toGregorianDate=function(e,t){if(!D(e))throw new T("julianDate is required.");var i=!1,n=w(e,m);D(n)||(F.addSeconds(e,-1,m),n=w(m,m),i=!0);var r=n.dayNumber,o=n.secondsOfDay;43200<=o&&(r+=1);var s=r+68569|0,a=4*s/146097|0,u=4e3*(1+(s=s-((146097*a+3)/4|0)|0))/1461001|0,c=80*(s=s-(1461*u/4|0)+31|0)/2447|0,l=s-(2447*c/80|0)|0,h=c+2-12*(s=c/11|0)|0,f=100*(a-49)+u+s|0,d=o/E.SECONDS_PER_HOUR|0,p=o-d*E.SECONDS_PER_HOUR,g=p/E.SECONDS_PER_MINUTE|0,M=0|(p-=g*E.SECONDS_PER_MINUTE),y=(p-M)/E.SECONDS_PER_MILLISECOND;return 23<(d+=12)&&(d-=24),i&&(M+=1),D(t)?(t.year=f,t.month=h,t.day=l,t.hour=d,t.minute=g,t.second=M,t.millisecond=y,t.isLeapSecond=i,t):new A(f,h,l,d,g,M,y,i)},F.toDate=function(e){if(!D(e))throw new T("julianDate is required.");var t=F.toGregorianDate(e,a),i=t.second;return t.isLeapSecond&&(i-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,i,t.millisecond))},F.toIso8601=function(e,t){if(!D(e))throw new T("julianDate is required.");var i,n=F.toGregorianDate(e,a);return D(t)||0===n.millisecond?D(t)&&0!==t?(i=(.01*n.millisecond).toFixed(t).replace(".","").slice(0,t),r("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n.year,n.month,n.day,n.hour,n.minute,n.second,i)):r("%04d-%02d-%02dT%02d:%02d:%02dZ",n.year,n.month,n.day,n.hour,n.minute,n.second):(i=(.01*n.millisecond).toString().replace(".",""),r("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n.year,n.month,n.day,n.hour,n.minute,n.second,i))},F.clone=function(e,t){if(D(e))return D(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new F(e.dayNumber,e.secondsOfDay,O.TAI)},F.compare=function(e,t){if(!D(e))throw new T("left is required.");if(!D(t))throw new T("right is required.");var i=e.dayNumber-t.dayNumber;return 0!==i?i:e.secondsOfDay-t.secondsOfDay},F.equals=function(e,t){return e===t||D(e)&&D(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},F.equalsEpsilon=function(e,t,i){if(!D(i))throw new T("epsilon is required.");return e===t||D(e)&&D(t)&&Math.abs(F.secondsDifference(e,t))<=i},F.totalDays=function(e){if(!D(e))throw new T("julianDate is required.");return e.dayNumber+e.secondsOfDay/E.SECONDS_PER_DAY},F.secondsDifference=function(e,t){if(!D(e))throw new T("left is required.");if(!D(t))throw new T("right is required.");return(e.dayNumber-t.dayNumber)*E.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},F.daysDifference=function(e,t){if(!D(e))throw new T("left is required.");if(!D(t))throw new T("right is required.");return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/E.SECONDS_PER_DAY},F.computeTaiMinusUtc=function(e){c.julianDate=e;var t=F.leapSeconds,i=o(t,c,u);return i<0&&(i=~i,--i<0&&(i=0)),t[i].offset},F.addSeconds=function(e,t,i){if(!D(e))throw new T("julianDate is required.");if(!D(t))throw new T("seconds is required.");if(!D(i))throw new T("result is required.");return _(e.dayNumber,e.secondsOfDay+t,i)},F.addMinutes=function(e,t,i){if(!D(e))throw new T("julianDate is required.");if(!D(t))throw new T("minutes is required.");if(!D(i))throw new T("result is required.");var n=e.secondsOfDay+t*E.SECONDS_PER_MINUTE;return _(e.dayNumber,n,i)},F.addHours=function(e,t,i){if(!D(e))throw new T("julianDate is required.");if(!D(t))throw new T("hours is required.");if(!D(i))throw new T("result is required.");var n=e.secondsOfDay+t*E.SECONDS_PER_HOUR;return _(e.dayNumber,n,i)},F.addDays=function(e,t,i){if(!D(e))throw new T("julianDate is required.");if(!D(t))throw new T("days is required.");if(!D(i))throw new T("result is required.");return _(e.dayNumber+t,e.secondsOfDay,i)},F.lessThan=function(e,t){return F.compare(e,t)<0},F.lessThanOrEquals=function(e,t){return F.compare(e,t)<=0},F.greaterThan=function(e,t){return 0<F.compare(e,t)},F.greaterThanOrEquals=function(e,t){return 0<=F.compare(e,t)},F.prototype.clone=function(e){return F.clone(this,e)},F.prototype.equals=function(e){return F.equals(this,e)},F.prototype.equalsEpsilon=function(e,t){return F.equalsEpsilon(this,e,t)},F.prototype.toString=function(){return F.toIso8601(this)},F.leapSeconds=[new e(new F(2441317,43210,O.TAI),10),new e(new F(2441499,43211,O.TAI),11),new e(new F(2441683,43212,O.TAI),12),new e(new F(2442048,43213,O.TAI),13),new e(new F(2442413,43214,O.TAI),14),new e(new F(2442778,43215,O.TAI),15),new e(new F(2443144,43216,O.TAI),16),new e(new F(2443509,43217,O.TAI),17),new e(new F(2443874,43218,O.TAI),18),new e(new F(2444239,43219,O.TAI),19),new e(new F(2444786,43220,O.TAI),20),new e(new F(2445151,43221,O.TAI),21),new e(new F(2445516,43222,O.TAI),22),new e(new F(2446247,43223,O.TAI),23),new e(new F(2447161,43224,O.TAI),24),new e(new F(2447892,43225,O.TAI),25),new e(new F(2448257,43226,O.TAI),26),new e(new F(2448804,43227,O.TAI),27),new e(new F(2449169,43228,O.TAI),28),new e(new F(2449534,43229,O.TAI),29),new e(new F(2450083,43230,O.TAI),30),new e(new F(2450630,43231,O.TAI),31),new e(new F(2451179,43232,O.TAI),32),new e(new F(2453736,43233,O.TAI),33),new e(new F(2454832,43234,O.TAI),34),new e(new F(2456109,43235,O.TAI),35),new e(new F(2457204,43236,O.TAI),36),new e(new F(2457754,43237,O.TAI),37)],F}),(0,t.amdDefine)("77",["15","5","7","d"],function(n,a,u,r){"use strict";function c(e,t,i){this.heading=n(e,0),this.pitch=n(t,0),this.roll=n(i,0)}return c.fromQuaternion=function(e,t){if(!a(e))throw new u("quaternion is required");a(t)||(t=new c);var i=2*(e.w*e.y-e.z*e.x),n=1-2*(e.x*e.x+e.y*e.y),r=2*(e.w*e.x+e.y*e.z),o=1-2*(e.y*e.y+e.z*e.z),s=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(s,o),t.roll=Math.atan2(r,n),t.pitch=-Math.asin(i),t},c.fromDegrees=function(e,t,i,n){if(!a(e))throw new u("heading is required");if(!a(t))throw new u("pitch is required");if(!a(i))throw new u("roll is required");return a(n)||(n=new c),n.heading=e*r.RADIANS_PER_DEGREE,n.pitch=t*r.RADIANS_PER_DEGREE,n.roll=i*r.RADIANS_PER_DEGREE,n},c.clone=function(e,t){if(a(e))return a(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new c(e.heading,e.pitch,e.roll)},c.equals=function(e,t){return e===t||a(e)&&a(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},c.equalsEpsilon=function(e,t,i,n){return e===t||a(e)&&a(t)&&r.equalsEpsilon(e.heading,t.heading,i,n)&&r.equalsEpsilon(e.pitch,t.pitch,i,n)&&r.equalsEpsilon(e.roll,t.roll,i,n)},c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.prototype.equalsEpsilon=function(e,t,i){return c.equalsEpsilon(this,e,t,i)},c.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"},c}),(0,t.amdDefine)("2a",["20","1e","15","5","41","11","77","d","28"],function(c,g,r,M,e,t,i,a,y){"use strict";function A(e,t,i,n){this.x=r(e,0),this.y=r(t,0),this.z=r(i,0),this.w=r(n,0)}var l=new c;A.fromAxisAngle=function(e,t,i){g.typeOf.object("axis",e),g.typeOf.number("angle",t);var n=t/2,r=Math.sin(n),o=(l=c.normalize(e,l)).x*r,s=l.y*r,a=l.z*r,u=Math.cos(n);return M(i)?(i.x=o,i.y=s,i.z=a,i.w=u,i):new A(o,s,a,u)};var E=[1,2,0],w=new Array(3);A.fromRotationMatrix=function(e,t){var i,n,r,o,s;g.typeOf.object("matrix",e);var a=e[y.COLUMN0ROW0],u=e[y.COLUMN1ROW1],c=e[y.COLUMN2ROW2],l=a+u+c;if(0<l)s=.5*(i=Math.sqrt(l+1)),i=.5/i,n=(e[y.COLUMN1ROW2]-e[y.COLUMN2ROW1])*i,r=(e[y.COLUMN2ROW0]-e[y.COLUMN0ROW2])*i,o=(e[y.COLUMN0ROW1]-e[y.COLUMN1ROW0])*i;else{var h=0;a<u&&(h=1),a<c&&u<c&&(h=2);var f=E[h],d=E[f];i=Math.sqrt(e[y.getElementIndex(h,h)]-e[y.getElementIndex(f,f)]-e[y.getElementIndex(d,d)]+1);var p=w;p[h]=.5*i,i=.5/i,s=(e[y.getElementIndex(d,f)]-e[y.getElementIndex(f,d)])*i,p[f]=(e[y.getElementIndex(f,h)]+e[y.getElementIndex(h,f)])*i,p[d]=(e[y.getElementIndex(d,h)]+e[y.getElementIndex(h,d)])*i,n=-p[0],r=-p[1],o=-p[2]}return M(t)?(t.x=n,t.y=r,t.z=o,t.w=s,t):new A(n,r,o,s)};var n=new A,o=new A,s=new A,u=new A;A.fromHeadingPitchRoll=function(e,t){return g.typeOf.object("headingPitchRoll",e),u=A.fromAxisAngle(c.UNIT_X,e.roll,n),s=A.fromAxisAngle(c.UNIT_Y,-e.pitch,t),t=A.multiply(s,u,s),o=A.fromAxisAngle(c.UNIT_Z,-e.heading,n),A.multiply(o,t,t)};var h=new c,f=new c,d=new A,p=new A,m=new A;A.packedLength=4,A.pack=function(e,t,i){return g.typeOf.object("value",e),g.defined("array",t),i=r(i,0),t[i++]=e.x,t[i++]=e.y,t[i++]=e.z,t[i]=e.w,t},A.unpack=function(e,t,i){return g.defined("array",e),t=r(t,0),M(i)||(i=new A),i.x=e[t],i.y=e[t+1],i.z=e[t+2],i.w=e[t+3],i},A.packedInterpolationLength=3,A.convertPackedArrayForInterpolation=function(e,t,i,n){A.unpack(e,4*i,m),A.conjugate(m,m);for(var r=0,o=i-t+1;r<o;r++){var s=3*r;A.unpack(e,4*(t+r),d),A.multiply(d,m,d),d.w<0&&A.negate(d,d),A.computeAxis(d,h);var a=A.computeAngle(d);n[s]=h.x*a,n[s+1]=h.y*a,n[s+2]=h.z*a}},A.unpackInterpolationResult=function(e,t,i,n,r){M(r)||(r=new A),c.fromArray(e,0,f);var o=c.magnitude(f);return A.unpack(t,4*n,p),0===o?A.clone(A.IDENTITY,d):A.fromAxisAngle(f,o,d),A.multiply(d,p,r)},A.clone=function(e,t){if(M(e))return M(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new A(e.x,e.y,e.z,e.w)},A.conjugate=function(e,t){return g.typeOf.object("quaternion",e),g.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},A.magnitudeSquared=function(e){return g.typeOf.object("quaternion",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},A.magnitude=function(e){return Math.sqrt(A.magnitudeSquared(e))},A.normalize=function(e,t){g.typeOf.object("result",t);var i=1/A.magnitude(e),n=e.x*i,r=e.y*i,o=e.z*i,s=e.w*i;return t.x=n,t.y=r,t.z=o,t.w=s,t},A.inverse=function(e,t){g.typeOf.object("result",t);var i=A.magnitudeSquared(e);return t=A.conjugate(e,t),A.multiplyByScalar(t,1/i,t)},A.add=function(e,t,i){return g.typeOf.object("left",e),g.typeOf.object("right",t),g.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i.w=e.w+t.w,i},A.subtract=function(e,t,i){return g.typeOf.object("left",e),g.typeOf.object("right",t),g.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i.w=e.w-t.w,i},A.negate=function(e,t){return g.typeOf.object("quaternion",e),g.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},A.dot=function(e,t){return g.typeOf.object("left",e),g.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},A.multiply=function(e,t,i){g.typeOf.object("left",e),g.typeOf.object("right",t),g.typeOf.object("result",i);var n=e.x,r=e.y,o=e.z,s=e.w,a=t.x,u=t.y,c=t.z,l=t.w,h=s*a+n*l+r*c-o*u,f=s*u-n*c+r*l+o*a,d=s*c+n*u-r*a+o*l,p=s*l-n*a-r*u-o*c;return i.x=h,i.y=f,i.z=d,i.w=p,i},A.multiplyByScalar=function(e,t,i){return g.typeOf.object("quaternion",e),g.typeOf.number("scalar",t),g.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i.z=e.z*t,i.w=e.w*t,i},A.divideByScalar=function(e,t,i){return g.typeOf.object("quaternion",e),g.typeOf.number("scalar",t),g.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i.z=e.z/t,i.w=e.w/t,i},A.computeAxis=function(e,t){g.typeOf.object("quaternion",e),g.typeOf.object("result",t);var i=e.w;if(Math.abs(i-1)<a.EPSILON6)return t.x=t.y=t.z=0,t;var n=1/Math.sqrt(1-i*i);return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},A.computeAngle=function(e){return g.typeOf.object("quaternion",e),Math.abs(e.w-1)<a.EPSILON6?0:2*Math.acos(e.w)};var v=new A;A.lerp=function(e,t,i,n){return g.typeOf.object("start",e),g.typeOf.object("end",t),g.typeOf.number("t",i),g.typeOf.object("result",n),v=A.multiplyByScalar(t,i,v),n=A.multiplyByScalar(e,1-i,n),A.add(v,n,n)};var N=new A,D=new A,T=new A;A.slerp=function(e,t,i,n){g.typeOf.object("start",e),g.typeOf.object("end",t),g.typeOf.number("t",i),g.typeOf.object("result",n);var r=A.dot(e,t),o=t;if(r<0&&(r=-r,o=N=A.negate(t,N)),1-r<a.EPSILON6)return A.lerp(e,o,i,n);var s=Math.acos(r);return D=A.multiplyByScalar(e,Math.sin((1-i)*s),D),T=A.multiplyByScalar(o,Math.sin(i*s),T),n=A.add(D,T,n),A.multiplyByScalar(n,1/Math.sin(s),n)},A.log=function(e,t){g.typeOf.object("quaternion",e),g.typeOf.object("result",t);var i=a.acosClamped(e.w),n=0;return 0!==i&&(n=i/Math.sin(i)),c.multiplyByScalar(e,n,t)},A.exp=function(e,t){g.typeOf.object("cartesian",e),g.typeOf.object("result",t);var i=c.magnitude(e),n=0;return 0!==i&&(n=Math.sin(i)/i),t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=Math.cos(i),t};var I=new c,O=new c,S=new A,L=new A;A.computeInnerQuadrangle=function(e,t,i,n){g.typeOf.object("q0",e),g.typeOf.object("q1",t),g.typeOf.object("q2",i),g.typeOf.object("result",n);var r=A.conjugate(t,S);A.multiply(r,i,L);var o=A.log(L,I);A.multiply(r,e,L);var s=A.log(L,O);return c.add(o,s,o),c.multiplyByScalar(o,.25,o),c.negate(o,o),A.exp(o,S),A.multiply(t,S,n)},A.squad=function(e,t,i,n,r,o){g.typeOf.object("q0",e),g.typeOf.object("q1",t),g.typeOf.object("s0",i),g.typeOf.object("s1",n),g.typeOf.number("t",r),g.typeOf.object("result",o);var s=A.slerp(e,t,r,S),a=A.slerp(i,n,r,L);return A.slerp(s,a,2*r*(1-r),o)};for(var _=new A,j=1.9011074535173003,x=e.supportsTypedArrays()?new Float32Array(8):[],b=e.supportsTypedArrays()?new Float32Array(8):[],C=e.supportsTypedArrays()?new Float32Array(8):[],R=e.supportsTypedArrays()?new Float32Array(8):[],z=0;z<7;++z){var P=z+1,U=2*P+1;x[z]=1/(P*U),b[z]=P/U}return x[7]=j/136,b[7]=8*j/17,A.fastSlerp=function(e,t,i,n){g.typeOf.object("start",e),g.typeOf.object("end",t),g.typeOf.number("t",i),g.typeOf.object("result",n);var r,o=A.dot(e,t);0<=o?r=1:(r=-1,o=-o);for(var s=o-1,a=1-i,u=i*i,c=a*a,l=7;0<=l;--l)C[l]=(x[l]*u-b[l])*s,R[l]=(x[l]*c-b[l])*s;var h=r*i*(1+C[0]*(1+C[1]*(1+C[2]*(1+C[3]*(1+C[4]*(1+C[5]*(1+C[6]*(1+C[7])))))))),f=a*(1+R[0]*(1+R[1]*(1+R[2]*(1+R[3]*(1+R[4]*(1+R[5]*(1+R[6]*(1+R[7])))))))),d=A.multiplyByScalar(e,f,_);return A.multiplyByScalar(t,h,n),A.add(d,n,n)},A.fastSquad=function(e,t,i,n,r,o){g.typeOf.object("q0",e),g.typeOf.object("q1",t),g.typeOf.object("s0",i),g.typeOf.object("s1",n),g.typeOf.number("t",r),g.typeOf.object("result",o);var s=A.fastSlerp(e,t,r,S),a=A.fastSlerp(i,n,r,L);return A.fastSlerp(s,a,2*r*(1-r),o)},A.equals=function(e,t){return e===t||M(e)&&M(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},A.equalsEpsilon=function(e,t,i){return g.typeOf.number("epsilon",i),e===t||M(e)&&M(t)&&Math.abs(e.x-t.x)<=i&&Math.abs(e.y-t.y)<=i&&Math.abs(e.z-t.z)<=i&&Math.abs(e.w-t.w)<=i},A.ZERO=t(new A(0,0,0,0)),A.IDENTITY=t(new A(0,0,0,1)),A.prototype.clone=function(e){return A.clone(this,e)},A.prototype.equals=function(e){return A.equals(this,e)},A.prototype.equalsEpsilon=function(e,t){return A.equalsEpsilon(this,e,t)},A.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},A}),(0,t.amdDefine)("43",["11"],function(e){"use strict";return e({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5})}),(0,t.amdDefine)("2b",["4d","a","20","36","46","1e","15","5","7","64","65","47","71","73","17","d","28","29","2a","43"],function(a,o,h,s,e,u,c,I,O,t,i,l,n,r,S,L,_,f,d,j){"use strict";var x={},p={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},g={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},M={},y={east:new h,north:new h,up:new h,west:new h,south:new h,down:new h},A=new h,E=new h,w=new h;x.localFrameToFixedFrameGenerator=function(s,a){if(!p.hasOwnProperty(s)||!p[s].hasOwnProperty(a))throw new O("firstAxis and secondAxis must be east, north, up, west, south or down.");var e,u=p[s][a],t=s+a;return I(M[t])?e=M[t]:(e=function(e,t,i){if(!I(e))throw new O("origin is required.");if(I(i)||(i=new f),L.equalsEpsilon(e.x,0,L.EPSILON14)&&L.equalsEpsilon(e.y,0,L.EPSILON14)){var n=L.sign(e.z);h.unpack(g[s],0,A),"east"!==s&&"west"!==s&&h.multiplyByScalar(A,n,A),h.unpack(g[a],0,E),"east"!==a&&"west"!==a&&h.multiplyByScalar(E,n,E),h.unpack(g[u],0,w),"east"!==u&&"west"!==u&&h.multiplyByScalar(w,n,w)}else{(t=c(t,l.WGS84)).geodeticSurfaceNormal(e,y.up);var r=y.up,o=y.east;o.x=-e.y,o.y=e.x,o.z=0,h.normalize(o,y.east),h.cross(r,o,y.north),h.multiplyByScalar(y.up,-1,y.down),h.multiplyByScalar(y.east,-1,y.west),h.multiplyByScalar(y.north,-1,y.south),A=y[s],E=y[a],w=y[u]}return i[0]=A.x,i[1]=A.y,i[2]=A.z,i[3]=0,i[4]=E.x,i[5]=E.y,i[6]=E.z,i[7]=0,i[8]=w.x,i[9]=w.y,i[10]=w.z,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,i},M[t]=e),e},x.eastNorthUpToFixedFrame=x.localFrameToFixedFrameGenerator("east","north"),x.northEastDownToFixedFrame=x.localFrameToFixedFrameGenerator("north","east"),x.northUpEastToFixedFrame=x.localFrameToFixedFrameGenerator("north","up"),x.northWestUpToFixedFrame=x.localFrameToFixedFrameGenerator("north","west");var m=new d,v=new h(1,1,1),N=new f;x.headingPitchRollToFixedFrame=function(e,t,i,n,r){u.typeOf.object("HeadingPitchRoll",t),n=c(n,x.eastNorthUpToFixedFrame);var o=d.fromHeadingPitchRoll(t,m),s=f.fromTranslationQuaternionRotationScale(h.ZERO,o,v,N);return r=n(e,i,r),f.multiply(r,s,r)};var D=new f,T=new _;x.headingPitchRollQuaternion=function(e,t,i,n,r){u.typeOf.object("HeadingPitchRoll",t);var o=x.headingPitchRollToFixedFrame(e,t,i,n,D),s=f.getRotation(o,T);return d.fromRotationMatrix(s,r)};var b=L.TWO_PI/86400,C=new S;x.computeTemeToPseudoFixedMatrix=function(e,t){if(!I(e))throw new O("date is required.");var i,n=(C=S.addSeconds(e,-S.computeTaiMinusUtc(e),C)).dayNumber,r=C.secondsOfDay,o=n-2451545,s=(24110.54841+(i=43200<=r?(o+.5)/j.DAYS_PER_JULIAN_CENTURY:(o-.5)/j.DAYS_PER_JULIAN_CENTURY)*(8640184.812866+i*(.093104+-62e-7*i)))*b%L.TWO_PI+(72921158553e-15+11772758384668e-32*(n-2451545.5))*((r+.5*j.SECONDS_PER_DAY)%j.SECONDS_PER_DAY),a=Math.cos(s),u=Math.sin(s);return I(t)?(t[0]=a,t[1]=-u,t[2]=0,t[3]=u,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new _(a,u,0,-u,a,0,0,0,1)},x.iau2006XysData=new n,x.earthOrientationParameters=t.NONE,x.preloadIcrfFixed=function(e){var t=e.start.dayNumber,i=e.start.secondsOfDay+32.184,n=e.stop.dayNumber,r=e.stop.secondsOfDay+32.184,o=x.iau2006XysData.preload(t,i,n,r),s=x.earthOrientationParameters.getPromiseToLoad();return a.all([o,s])},x.computeIcrfToFixedMatrix=function(e,t){if(!I(e))throw new O("date is required.");I(t)||(t=new _);var i=x.computeFixedToIcrfMatrix(e,t);if(I(i))return _.transpose(i,t)};var R=new r(0,0,0),z=new i(0,0,0,0,0,0),P=new _,U=new _;x.computeFixedToIcrfMatrix=function(e,t){if(!I(e))throw new O("date is required.");I(t)||(t=new _);var i=x.earthOrientationParameters.compute(e,z);if(I(i)){var n=e.dayNumber,r=e.secondsOfDay+32.184,o=x.iau2006XysData.computeXysRadians(n,r,R);if(I(o)){var s=o.x+i.xPoleOffset,a=o.y+i.yPoleOffset,u=1/(1+Math.sqrt(1-s*s-a*a)),c=P;c[0]=1-u*s*s,c[3]=-u*s*a,c[6]=s,c[1]=-u*s*a,c[4]=1-u*a*a,c[7]=a,c[2]=-s,c[5]=-a,c[8]=1-u*(s*s+a*a);var l=_.fromRotationZ(-o.s,U),h=_.multiply(c,l,P),f=e.dayNumber-2451545,d=(e.secondsOfDay-S.computeTaiMinusUtc(e)+i.ut1MinusUtc)/j.SECONDS_PER_DAY,p=.779057273264+d+.00273781191135448*(f+d);p=p%1*L.TWO_PI;var g=_.fromRotationZ(p,U),M=_.multiply(h,g,P),y=Math.cos(i.xPoleWander),A=Math.cos(i.yPoleWander),E=Math.sin(i.xPoleWander),w=Math.sin(i.yPoleWander),m=n-2451545+r/j.SECONDS_PER_DAY,v=-47e-6*(m/=36525)*L.RADIANS_PER_DEGREE/3600,N=Math.cos(v),D=Math.sin(v),T=U;return T[0]=y*N,T[1]=y*D,T[2]=E,T[3]=-A*D+w*E*N,T[4]=A*N+w*E*D,T[5]=-w*y,T[6]=-w*D-A*E*N,T[7]=w*N-A*E*D,T[8]=A*y,_.multiply(M,T,t)}}};var B=new s;x.pointToWindowCoordinates=function(e,t,i,n){return(n=x.pointToGLWindowCoordinates(e,t,i,n)).y=2*t[5]-n.y,n},x.pointToGLWindowCoordinates=function(e,t,i,n){if(!I(e))throw new O("modelViewProjectionMatrix is required.");if(!I(t))throw new O("viewportTransformation is required.");if(!I(i))throw new O("point is required.");I(n)||(n=new o);var r=B;return f.multiplyByVector(e,s.fromElements(i.x,i.y,i.z,1,r),r),s.multiplyByScalar(r,1/r.w,r),f.multiplyByVector(t,r,r),o.fromCartesian4(r,n)};var k=new h,F=new h,Q=new h;x.rotationMatrixFromPositionVelocity=function(e,t,i,n){if(!I(e))throw new O("position is required.");if(!I(t))throw new O("velocity is required.");var r=c(i,l.WGS84).geodeticSurfaceNormal(e,k),o=h.cross(t,r,F);h.equalsEpsilon(o,h.ZERO,L.EPSILON6)&&(o=h.clone(h.UNIT_X,o));var s=h.cross(o,t,Q);return h.cross(t,s,o),h.negate(o,o),I(n)||(n=new _),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=o.x,n[4]=o.y,n[5]=o.z,n[6]=s.x,n[7]=s.y,n[8]=s.z,n};var Y=new f(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),q=new e,G=new h,V=new h,H=new _,W=new f,X=new f;return x.basisTo2D=function(e,t,i){if(!I(e))throw new O("projection is required.");if(!I(t))throw new O("matrix is required.");if(!I(i))throw new O("result is required.");var n=f.getTranslation(t,V),r=e.ellipsoid,o=r.cartesianToCartographic(n,q),s=e.project(o,G);h.fromElements(s.z,s.x,s.y,s);var a=x.eastNorthUpToFixedFrame(n,r,W),u=f.inverseTransformation(a,X),c=f.getRotation(t,H),l=f.multiplyByMatrix3(u,c,i);return f.multiply(Y,l,i),f.setTranslation(i,s,i),i},x.wgs84To2DModelMatrix=function(e,t,i){if(!I(e))throw new O("projection is required.");if(!I(t))throw new O("center is required.");if(!I(i))throw new O("result is required.");var n=e.ellipsoid,r=x.eastNorthUpToFixedFrame(t,n,W),o=f.inverseTransformation(r,X),s=n.cartesianToCartographic(t,q),a=e.project(s,G);h.fromElements(a.z,a.x,a.y,a);var u=f.fromTranslation(a,W);return f.multiply(Y,o,i),f.multiply(u,i,i),i},x}),(0,t.amdDefine)("56",["20","46","15","5","6","7","47","d"],function(s,a,t,u,e,c,i,n){"use strict";function l(e){this._ellipsoid=t(e,i.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return e(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),l.mercatorAngleToGeodeticLatitude=function(e){return n.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},l.geodeticLatitudeToMercatorAngle=function(e){l.MaximumLatitude<e?e=l.MaximumLatitude:e<-l.MaximumLatitude&&(e=-l.MaximumLatitude);var t=Math.sin(e);return.5*Math.log((1+t)/(1-t))},l.MaximumLatitude=l.mercatorAngleToGeodeticLatitude(Math.PI),l.prototype.project=function(e,t){var i=this._semimajorAxis,n=e.longitude*i,r=l.geodeticLatitudeToMercatorAngle(e.latitude)*i,o=e.height;return u(t)?(t.x=n,t.y=r,t.z=o,t):new s(n,r,o)},l.prototype.unproject=function(e,t){if(!u(e))throw new c("cartesian is required");var i=this._oneOverSemimajorAxis,n=e.x*i,r=l.mercatorAngleToGeodeticLatitude(e.y*i),o=e.z;return u(t)?(t.longitude=n,t.latitude=r,t.height=o,t):new a(n,r,o)},l}),(0,t.amdDefine)("78",["5d","5b","a","20","15","5","7","47","5a","11","d","29","63","55","79","2b","56"],function(Pe,Ue,Be,ke,Fe,Qe,Ye,qe,Ge,e,Ve,He,We,Xe,Ze,Ke,Je){"use strict";var $e={};$e.DEFAULT_STRUCTURE=e({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});var et=new ke,tt=new He,it=new ke,nt=new ke;return $e.computeVertices=function(e){if(!Qe(e)||!Qe(e.heightmap))throw new Ye("options.heightmap is required.");if(!Qe(e.width)||!Qe(e.height))throw new Ye("options.width and options.height are required.");if(!Qe(e.nativeRectangle))throw new Ye("options.nativeRectangle is required.");if(!Qe(e.skirtHeight))throw new Ye("options.skirtHeight is required.");var t,i,n,r,o=Math.cos,s=Math.sin,a=Math.sqrt,u=Math.atan,c=Math.exp,l=Ve.PI_OVER_TWO,h=Ve.toRadians,f=e.heightmap,d=e.width,p=e.height,g=e.skirtHeight,M=Fe(e.isGeographic,!0),y=Fe(e.ellipsoid,qe.WGS84),A=1/y.maximumRadius,E=e.nativeRectangle,w=e.rectangle;Qe(w)?(t=w.west,i=w.south,n=w.east,r=w.north):M?(t=h(E.west),i=h(E.south),n=h(E.east),r=h(E.north)):(t=E.west*A,i=l-2*u(c(-E.south*A)),n=E.east*A,r=l-2*u(c(-E.north*A)));var m=e.relativeToCenter,v=Qe(m);m=v?m:ke.ZERO;var N,D,T=Fe(e.exaggeration,1),I=Fe(e.includeWebMercatorT,!1),O=Fe(e.structure,$e.DEFAULT_STRUCTURE),S=Fe(O.heightScale,$e.DEFAULT_STRUCTURE.heightScale),L=Fe(O.heightOffset,$e.DEFAULT_STRUCTURE.heightOffset),_=Fe(O.elementsPerHeight,$e.DEFAULT_STRUCTURE.elementsPerHeight),j=Fe(O.stride,$e.DEFAULT_STRUCTURE.stride),x=Fe(O.elementMultiplier,$e.DEFAULT_STRUCTURE.elementMultiplier),b=Fe(O.isBigEndian,$e.DEFAULT_STRUCTURE.isBigEndian),C=Xe.computeWidth(E),R=Xe.computeHeight(E),z=C/(d-1),P=R/(p-1),U=y.radiiSquared,B=U.x,k=U.y,F=U.z,Q=65536,Y=-65536,q=Ke.eastNorthUpToFixedFrame(m,y),G=He.inverseTransformation(q,tt);I&&(N=Je.geodeticLatitudeToMercatorAngle(i),D=1/(Je.geodeticLatitudeToMercatorAngle(r)-N));var V=it;V.x=Number.POSITIVE_INFINITY,V.y=Number.POSITIVE_INFINITY,V.z=Number.POSITIVE_INFINITY;var H=nt;H.x=Number.NEGATIVE_INFINITY,H.y=Number.NEGATIVE_INFINITY,H.z=Number.NEGATIVE_INFINITY;var W=Number.POSITIVE_INFINITY,X=(d+(0<g?2:0))*(p+(0<g?2:0)),Z=new Array(X),K=new Array(X),J=new Array(X),$=I?new Array(X):[],ee=0,te=p,ie=0,ne=d;0<g&&(--ee,++te,--ie,++ne);for(var re=0,oe=ee;oe<te;++oe){var se=oe;se<0&&(se=0),p<=se&&(se=p-1);var ae,ue=E.north-P*se,ce=o(ue=M?h(ue):l-2*u(c(-ue*A))),le=s(ue),he=F*le,fe=(ue-i)/(r-i);fe=Ve.clamp(fe,0,1),I&&(ae=(Je.geodeticLatitudeToMercatorAngle(ue)-N)*D);for(var de=ie;de<ne;++de){var pe=de;pe<0&&(pe=0),d<=pe&&(pe=d-1);var ge=E.west+z*pe;M?ge=h(ge):ge*=A;var Me,ye,Ae=se*(d*j)+pe*j;if(1===_)Me=f[Ae];else if(Me=0,b)for(ye=0;ye<_;++ye)Me=Me*x+f[Ae+ye];else for(ye=_-1;0<=ye;--ye)Me=Me*x+f[Ae+ye];Me=(Me*S+L)*T;var Ee=(ge-t)/(n-t);Ee=Ve.clamp(Ee,0,1),J[re]=new Be(Ee,fe),Y=Math.max(Y,Me),Q=Math.min(Q,Me),(de!==pe||oe!==se)&&(de<0?ge-=1e-5*C:ge+=1e-5*C,oe<0?ue+=1e-5*R:ue-=1e-5*R,ce=o(ue),he=F*(le=s(ue)),Me-=g);var we=ce*o(ge),me=ce*s(ge),ve=B*we,Ne=k*me,De=1/a(ve*we+Ne*me+he*le),Te=ve*De,Ie=Ne*De,Oe=he*De,Se=new ke;Se.x=Te+we*Me,Se.y=Ie+me*Me,Se.z=Oe+le*Me,Z[re]=Se,K[re]=Me,I&&($[re]=ae),re++,He.multiplyByPoint(G,Se,et),ke.minimumByComponent(et,V,V),ke.maximumByComponent(et,H,H),W=Math.min(W,Me)}}var Le,_e,je=Ue.fromPoints(Z);Qe(w)&&w.width<Ve.PI_OVER_TWO+Ve.EPSILON5&&(Le=We.fromRectangle(w,Q,Y,y)),v&&(_e=new Ge(y).computeHorizonCullingPoint(m,Z));for(var xe=new Pe(V,H,m),be=new Ze(xe,W,Y,q,!1,I),Ce=new Float32Array(X*be.getStride()),Re=0,ze=0;ze<X;++ze)Re=be.encode(Ce,Re,Z[ze],J[ze],K[ze],void 0,$[ze]);return{vertices:Ce,maximumHeight:Y,minimumHeight:Q,encoding:be,boundingSphere3D:je,orientedBoundingBox:Le,occludeePointInScaledSpace:_e}},$e}),(0,t.amdDefine)("46",["20","1e","15","5","11","d","7a"],function(f,r,o,d,e,p,g){"use strict";function M(e,t,i){this.longitude=o(e,0),this.latitude=o(t,0),this.height=o(i,0)}M.fromRadians=function(e,t,i,n){return r.typeOf.number("longitude",e),r.typeOf.number("latitude",t),i=o(i,0),d(n)?(n.longitude=e,n.latitude=t,n.height=i,n):new M(e,t,i)},M.fromDegrees=function(e,t,i,n){return r.typeOf.number("longitude",e),r.typeOf.number("latitude",t),e=p.toRadians(e),t=p.toRadians(t),M.fromRadians(e,t,i,n)};var y=new f,A=new f,E=new f,w=new f(1/6378137,1/6378137,1/6356752.314245179),m=new f(1/40680631590769,1/40680631590769,1/40408299984661.445),v=p.EPSILON1;return M.fromCartesian=function(e,t,i){var n=d(t)?t.oneOverRadii:w,r=d(t)?t.oneOverRadiiSquared:m,o=d(t)?t._centerToleranceSquared:v,s=g(e,n,r,o,A);if(d(s)){var a=f.multiplyComponents(s,r,y);a=f.normalize(a,a);var u=f.subtract(e,s,E),c=Math.atan2(a.y,a.x),l=Math.asin(a.z),h=p.sign(f.dot(u,e))*f.magnitude(u);return d(i)?(i.longitude=c,i.latitude=l,i.height=h,i):new M(c,l,h)}},M.clone=function(e,t){if(d(e))return d(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new M(e.longitude,e.latitude,e.height)},M.equals=function(e,t){return e===t||d(e)&&d(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},M.equalsEpsilon=function(e,t,i){return r.typeOf.number("epsilon",i),e===t||d(e)&&d(t)&&Math.abs(e.longitude-t.longitude)<=i&&Math.abs(e.latitude-t.latitude)<=i&&Math.abs(e.height-t.height)<=i},M.ZERO=e(new M(0,0,0)),M.prototype.clone=function(e){return M.clone(this,e)},M.prototype.equals=function(e){return M.equals(this,e)},M.prototype.equalsEpsilon=function(e,t){return M.equalsEpsilon(this,e,t)},M.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},M}),(0,t.amdDefine)("7a",["20","5","7","d"],function(_,j,x,b){"use strict";var C=new _,R=new _;return function(e,t,i,n,r){if(!j(e))throw new x("cartesian is required.");if(!j(t))throw new x("oneOverRadii is required.");if(!j(i))throw new x("oneOverRadiiSquared is required.");if(!j(n))throw new x("centerToleranceSquared is required.");var o=e.x,s=e.y,a=e.z,u=t.x,c=t.y,l=t.z,h=o*o*u*u,f=s*s*c*c,d=a*a*l*l,p=h+f+d,g=Math.sqrt(1/p),M=_.multiplyByScalar(e,g,C);if(p<n)return isFinite(g)?_.clone(M,r):void 0;var y=i.x,A=i.y,E=i.z,w=R;w.x=M.x*y*2,w.y=M.y*A*2,w.z=M.z*E*2;for(var m,v,N,D,T,I,O,S=(1-g)*_.magnitude(e)/(.5*_.magnitude(w)),L=0;L=(m=h*(T=(v=1/(1+(S-=L)*y))*v)+f*(I=(N=1/(1+S*A))*N)+d*(O=(D=1/(1+S*E))*D)-1)/(-2*(h*(T*v)*y+f*(I*N)*A+d*(O*D)*E)),Math.abs(m)>b.EPSILON12;);return j(r)?(r.x=o*v,r.y=s*N,r.z=a*D,r):new _(o*v,s*N,a*D)}}),(0,t.amdDefine)("47",["20","46","1e","15","5","6","7","11","d","7a"],function(u,c,l,r,h,e,o,t,f,i){"use strict";function n(e,t,i,n){t=r(t,0),i=r(i,0),n=r(n,0),l.typeOf.number.greaterThanOrEquals("x",t,0),l.typeOf.number.greaterThanOrEquals("y",i,0),l.typeOf.number.greaterThanOrEquals("z",n,0),e._radii=new u(t,i,n),e._radiiSquared=new u(t*t,i*i,n*n),e._radiiToTheFourth=new u(t*t*t*t,i*i*i*i,n*n*n*n),e._oneOverRadii=new u(0===t?0:1/t,0===i?0:1/i,0===n?0:1/n),e._oneOverRadiiSquared=new u(0===t?0:1/(t*t),0===i?0:1/(i*i),0===n?0:1/(n*n)),e._minimumRadius=Math.min(t,i,n),e._maximumRadius=Math.max(t,i,n),e._centerToleranceSquared=f.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function s(e,t,i){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,n(this,e,t,i)}e(s.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),s.clone=function(e,t){if(h(e)){var i=e._radii;return h(t)?(u.clone(i,t._radii),u.clone(e._radiiSquared,t._radiiSquared),u.clone(e._radiiToTheFourth,t._radiiToTheFourth),u.clone(e._oneOverRadii,t._oneOverRadii),u.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new s(i.x,i.y,i.z)}},s.fromCartesian3=function(e,t){return h(t)||(t=new s),h(e)&&n(t,e.x,e.y,e.z),t},s.WGS84=t(new s(6378137,6378137,6356752.314245179)),s.UNIT_SPHERE=t(new s(1,1,1)),s.MOON=t(new s(f.LUNAR_RADIUS,f.LUNAR_RADIUS,f.LUNAR_RADIUS)),s.prototype.clone=function(e){return s.clone(this,e)},s.packedLength=u.packedLength,s.pack=function(e,t,i){return l.typeOf.object("value",e),l.defined("array",t),i=r(i,0),u.pack(e._radii,t,i),t},s.unpack=function(e,t,i){l.defined("array",e),t=r(t,0);var n=u.unpack(e,t);return s.fromCartesian3(n,i)},s.prototype.geocentricSurfaceNormal=u.normalize,s.prototype.geodeticSurfaceNormalCartographic=function(e,t){l.typeOf.object("cartographic",e);var i=e.longitude,n=e.latitude,r=Math.cos(n),o=r*Math.cos(i),s=r*Math.sin(i),a=Math.sin(n);return h(t)||(t=new u),t.x=o,t.y=s,t.z=a,u.normalize(t,t)},s.prototype.geodeticSurfaceNormal=function(e,t){return h(t)||(t=new u),t=u.multiplyComponents(e,this._oneOverRadiiSquared,t),u.normalize(t,t)};var a=new u,d=new u;s.prototype.cartographicToCartesian=function(e,t){var i=a,n=d;this.geodeticSurfaceNormalCartographic(e,i),u.multiplyComponents(this._radiiSquared,i,n);var r=Math.sqrt(u.dot(i,n));return u.divideByScalar(n,r,n),u.multiplyByScalar(i,e.height,i),h(t)||(t=new u),u.add(n,i,t)},s.prototype.cartographicArrayToCartesianArray=function(e,t){l.defined("cartographics",e);var i=e.length;h(t)?t.length=i:t=new Array(i);for(var n=0;n<i;n++)t[n]=this.cartographicToCartesian(e[n],t[n]);return t};var p=new u,g=new u,M=new u;return s.prototype.cartesianToCartographic=function(e,t){var i=this.scaleToGeodeticSurface(e,g);if(h(i)){var n=this.geodeticSurfaceNormal(i,p),r=u.subtract(e,i,M),o=Math.atan2(n.y,n.x),s=Math.asin(n.z),a=f.sign(u.dot(r,e))*u.magnitude(r);return h(t)?(t.longitude=o,t.latitude=s,t.height=a,t):new c(o,s,a)}},s.prototype.cartesianArrayToCartographicArray=function(e,t){l.defined("cartesians",e);var i=e.length;h(t)?t.length=i:t=new Array(i);for(var n=0;n<i;++n)t[n]=this.cartesianToCartographic(e[n],t[n]);return t},s.prototype.scaleToGeodeticSurface=function(e,t){return i(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},s.prototype.scaleToGeocentricSurface=function(e,t){l.typeOf.object("cartesian",e),h(t)||(t=new u);var i=e.x,n=e.y,r=e.z,o=this._oneOverRadiiSquared,s=1/Math.sqrt(i*i*o.x+n*n*o.y+r*r*o.z);return u.multiplyByScalar(e,s,t)},s.prototype.transformPositionToScaledSpace=function(e,t){return h(t)||(t=new u),u.multiplyComponents(e,this._oneOverRadii,t)},s.prototype.transformPositionFromScaledSpace=function(e,t){return h(t)||(t=new u),u.multiplyComponents(e,this._radii,t)},s.prototype.equals=function(e){return this===e||h(e)&&u.equals(this._radii,e._radii)},s.prototype.toString=function(){return this._radii.toString()},s.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,t,i){if(l.typeOf.object("position",e),!f.equalsEpsilon(this._radii.x,this._radii.y,f.EPSILON15))throw new o("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");l.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),t=r(t,0);var n=this._squaredXOverSquaredZ;if(h(i)||(i=new u),i.x=0,i.y=0,i.z=e.z*(1-n),!(Math.abs(i.z)>=this._radii.z-t))return i},s}),(0,t.amdDefine)("55",["46","1e","15","5","6","47","11","d"],function(s,d,p,g,e,M,t,y){"use strict";function A(e,t,i,n){this.west=p(e,0),this.south=p(t,0),this.east=p(i,0),this.north=p(n,0)}e(A.prototype,{width:{get:function(){return A.computeWidth(this)}},height:{get:function(){return A.computeHeight(this)}}}),A.packedLength=4,A.pack=function(e,t,i){return d.typeOf.object("value",e),d.defined("array",t),i=p(i,0),t[i++]=e.west,t[i++]=e.south,t[i++]=e.east,t[i]=e.north,t},A.unpack=function(e,t,i){return d.defined("array",e),t=p(t,0),g(i)||(i=new A),i.west=e[t++],i.south=e[t++],i.east=e[t++],i.north=e[t],i},A.computeWidth=function(e){d.typeOf.object("rectangle",e);var t=e.east,i=e.west;return t<i&&(t+=y.TWO_PI),t-i},A.computeHeight=function(e){return d.typeOf.object("rectangle",e),e.north-e.south},A.fromDegrees=function(e,t,i,n,r){return e=y.toRadians(p(e,0)),t=y.toRadians(p(t,0)),i=y.toRadians(p(i,0)),n=y.toRadians(p(n,0)),g(r)?(r.west=e,r.south=t,r.east=i,r.north=n,r):new A(e,t,i,n)},A.fromRadians=function(e,t,i,n,r){return g(r)?(r.west=p(e,0),r.south=p(t,0),r.east=p(i,0),r.north=p(n,0),r):new A(e,t,i,n)},A.fromCartographicArray=function(e,t){d.defined("cartographics",e);for(var i=Number.MAX_VALUE,n=-Number.MAX_VALUE,r=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=Number.MAX_VALUE,a=-Number.MAX_VALUE,u=0,c=e.length;u<c;u++){var l=e[u];i=Math.min(i,l.longitude),n=Math.max(n,l.longitude),s=Math.min(s,l.latitude),a=Math.max(a,l.latitude);var h=0<=l.longitude?l.longitude:l.longitude+y.TWO_PI;r=Math.min(r,h),o=Math.max(o,h)}return o-r<n-i&&(i=r,(n=o)>y.PI&&(n-=y.TWO_PI),i>y.PI&&(i-=y.TWO_PI)),g(t)?(t.west=i,t.south=s,t.east=n,t.north=a,t):new A(i,s,n,a)},A.fromCartesianArray=function(e,t,i){d.defined("cartesians",e),t=p(t,M.WGS84);for(var n=Number.MAX_VALUE,r=-Number.MAX_VALUE,o=Number.MAX_VALUE,s=-Number.MAX_VALUE,a=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=0,l=e.length;c<l;c++){var h=t.cartesianToCartographic(e[c]);n=Math.min(n,h.longitude),r=Math.max(r,h.longitude),a=Math.min(a,h.latitude),u=Math.max(u,h.latitude);var f=0<=h.longitude?h.longitude:h.longitude+y.TWO_PI;o=Math.min(o,f),s=Math.max(s,f)}return s-o<r-n&&(n=o,(r=s)>y.PI&&(r-=y.TWO_PI),n>y.PI&&(n-=y.TWO_PI)),g(i)?(i.west=n,i.south=a,i.east=r,i.north=u,i):new A(n,a,r,u)},A.clone=function(e,t){if(g(e))return g(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new A(e.west,e.south,e.east,e.north)},A.prototype.clone=function(e){return A.clone(this,e)},A.prototype.equals=function(e){return A.equals(this,e)},A.equals=function(e,t){return e===t||g(e)&&g(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},A.prototype.equalsEpsilon=function(e,t){return d.typeOf.number("epsilon",t),g(e)&&Math.abs(this.west-e.west)<=t&&Math.abs(this.south-e.south)<=t&&Math.abs(this.east-e.east)<=t&&Math.abs(this.north-e.north)<=t},A.validate=function(e){d.typeOf.object("rectangle",e);var t=e.north;d.typeOf.number.greaterThanOrEquals("north",t,-y.PI_OVER_TWO),d.typeOf.number.lessThanOrEquals("north",t,y.PI_OVER_TWO);var i=e.south;d.typeOf.number.greaterThanOrEquals("south",i,-y.PI_OVER_TWO),d.typeOf.number.lessThanOrEquals("south",i,y.PI_OVER_TWO);var n=e.west;d.typeOf.number.greaterThanOrEquals("west",n,-Math.PI),d.typeOf.number.lessThanOrEquals("west",n,Math.PI);var r=e.east;d.typeOf.number.greaterThanOrEquals("east",r,-Math.PI),d.typeOf.number.lessThanOrEquals("east",r,Math.PI)},A.southwest=function(e,t){return d.typeOf.object("rectangle",e),g(t)?(t.longitude=e.west,t.latitude=e.south,t.height=0,t):new s(e.west,e.south)},A.northwest=function(e,t){return d.typeOf.object("rectangle",e),g(t)?(t.longitude=e.west,t.latitude=e.north,t.height=0,t):new s(e.west,e.north)},A.northeast=function(e,t){return d.typeOf.object("rectangle",e),g(t)?(t.longitude=e.east,t.latitude=e.north,t.height=0,t):new s(e.east,e.north)},A.southeast=function(e,t){return d.typeOf.object("rectangle",e),g(t)?(t.longitude=e.east,t.latitude=e.south,t.height=0,t):new s(e.east,e.south)},A.center=function(e,t){d.typeOf.object("rectangle",e);var i=e.east,n=e.west;i<n&&(i+=y.TWO_PI);var r=y.negativePiToPi(.5*(n+i)),o=.5*(e.south+e.north);return g(t)?(t.longitude=r,t.latitude=o,t.height=0,t):new s(r,o)},A.intersection=function(e,t,i){d.typeOf.object("rectangle",e),d.typeOf.object("otherRectangle",t);var n=e.east,r=e.west,o=t.east,s=t.west;n<r&&0<o?n+=y.TWO_PI:o<s&&0<n&&(o+=y.TWO_PI),n<r&&s<0?s+=y.TWO_PI:o<s&&r<0&&(r+=y.TWO_PI);var a=y.negativePiToPi(Math.max(r,s)),u=y.negativePiToPi(Math.min(n,o));if(!((e.west<e.east||t.west<t.east)&&u<=a)){var c=Math.max(e.south,t.south),l=Math.min(e.north,t.north);if(!(l<=c))return g(i)?(i.west=a,i.south=c,i.east=u,i.north=l,i):new A(a,c,u,l)}},A.simpleIntersection=function(e,t,i){d.typeOf.object("rectangle",e),d.typeOf.object("otherRectangle",t);var n=Math.max(e.west,t.west),r=Math.max(e.south,t.south),o=Math.min(e.east,t.east),s=Math.min(e.north,t.north);if(!(s<=r||o<=n))return g(i)?(i.west=n,i.south=r,i.east=o,i.north=s,i):new A(n,r,o,s)},A.union=function(e,t,i){d.typeOf.object("rectangle",e),d.typeOf.object("otherRectangle",t),g(i)||(i=new A);var n=e.east,r=e.west,o=t.east,s=t.west;n<r&&0<o?n+=y.TWO_PI:o<s&&0<n&&(o+=y.TWO_PI),n<r&&s<0?s+=y.TWO_PI:o<s&&r<0&&(r+=y.TWO_PI);var a=y.convertLongitudeRange(Math.min(r,s)),u=y.convertLongitudeRange(Math.max(n,o));return i.west=a,i.south=Math.min(e.south,t.south),i.east=u,i.north=Math.max(e.north,t.north),i},A.expand=function(e,t,i){return d.typeOf.object("rectangle",e),d.typeOf.object("cartographic",t),g(i)||(i=new A),i.west=Math.min(e.west,t.longitude),i.south=Math.min(e.south,t.latitude),i.east=Math.max(e.east,t.longitude),i.north=Math.max(e.north,t.latitude),i},A.contains=function(e,t){d.typeOf.object("rectangle",e),d.typeOf.object("cartographic",t);var i=t.longitude,n=t.latitude,r=e.west,o=e.east;return o<r&&(o+=y.TWO_PI,i<0&&(i+=y.TWO_PI)),(r<i||y.equalsEpsilon(i,r,y.EPSILON14))&&(i<o||y.equalsEpsilon(i,o,y.EPSILON14))&&n>=e.south&&n<=e.north};var h=new s;return A.subsample=function(e,t,i,n){d.typeOf.object("rectangle",e),t=p(t,M.WGS84),i=p(i,0),g(n)||(n=[]);var r=0,o=e.north,s=e.south,a=e.east,u=e.west,c=h;c.height=i,c.longitude=u,c.latitude=o,n[r]=t.cartographicToCartesian(c,n[r]),r++,c.longitude=a,n[r]=t.cartographicToCartesian(c,n[r]),r++,c.latitude=s,n[r]=t.cartographicToCartesian(c,n[r]),r++,c.longitude=u,n[r]=t.cartographicToCartesian(c,n[r]),r++,c.latitude=o<0?o:0<s?s:0;for(var l=1;l<8;++l)c.longitude=-Math.PI+l*y.PI_OVER_TWO,A.contains(e,c)&&(n[r]=t.cartographicToCartesian(c,n[r]),r++);return 0===c.latitude&&(c.longitude=u,n[r]=t.cartographicToCartesian(c,n[r]),r++,c.longitude=a,n[r]=t.cartographicToCartesian(c,n[r]),r++),n.length=r,n},A.MAX_VALUE=t(new A(-Math.PI,-y.PI_OVER_TWO,Math.PI,y.PI_OVER_TWO)),A}),(0,t.amdDefine)("7b",["4c","15","5","7"],function(u,c,l,h){"use strict";return function(e,t,i){if(!l(e))throw new h("first is required");if(!l(t))throw new h("second is required");if(i=c(i,!0),e instanceof u||(e=new u(e)),t instanceof u||(t=new u(t)),"data"===e.scheme)return e.toString();if("data"===t.scheme)return t.toString();l(t.authority)&&!l(t.scheme)&&("undefined"!=typeof document&&l(document.location)&&l(document.location.href)?t.scheme=new u(document.location.href).scheme:t.scheme=e.scheme);var n=e;t.isAbsolute()&&(n=t);var r="";l(n.scheme)&&(r+=n.scheme+":"),l(n.authority)&&(r+="//"+n.authority,""!==n.path&&"/"!==n.path&&(r=r.replace(/\/?$/,"/"),n.path=n.path.replace(/^\/?/g,""))),r+=n===e?i?e.path.replace(/\/?$/,"/")+t.path.replace(/^\/?/g,""):e.path+t.path:t.path;var o=l(e.query),s=l(t.query);o&&s?r+="?"+e.query+"&"+t.query:o&&!s?r+="?"+e.query:!o&&s&&(r+="?"+t.query);var a=l(t.fragment);return l(e.fragment)&&!a?r+="#"+e.fragment:a&&(r+="#"+t.fragment),r}}),(0,t.amdDefine)("72",["4c","5","7","7c","7b","require"],function(t,i,n,r,o,s){"use strict";var a,u,c,l=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;function h(){if(i(a))return a;var e;if(e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:function(){for(var e=document.getElementsByTagName("script"),t=0,i=e.length;t<i;++t){var n=e[t].getAttribute("src"),r=l.exec(n);if(null!==r)return r[1]}}(),!i(e))throw new n("Unable to determine Cesium base URL automatically, try defining a global variable called CESIUM_BASE_URL.");return a=new t(r(e))}function f(e){return s.toUrl("../"+e)}function d(e){return o(h(),e)}function e(e){i(u)||(u=i(s.toUrl)?f:d),i(c)||(c=document.createElement("a"));var t=u(e);return c.href=t,c.href=c.href,c.href}return e._cesiumScriptRegex=l,e.setBaseUrl=function(e){a=new t(e).resolve(new t(document.location.href))},e}),(0,t.amdDefine)("b",["15","7"],function(r,o){"use strict";function s(){return!0}return function(e,t){function i(){throw new o(t)}for(var n in t=r(t,"This object was destroyed, i.e., destroy() was called."),e)"function"==typeof e[n]&&(e[n]=i);e.isDestroyed=s}}),(0,t.amdDefine)("4c",[],function(){function i(e){if(e instanceof i)this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment;else if(e){var t=n.exec(e);this.scheme=t[1],this.authority=t[2],this.path=t[3],this.query=t[4],this.fragment=t[5]}}i.prototype.scheme=null,i.prototype.authority=null,i.prototype.path="",i.prototype.query=null,i.prototype.fragment=null;var n=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");i.prototype.getScheme=function(){return this.scheme},i.prototype.getAuthority=function(){return this.authority},i.prototype.getPath=function(){return this.path},i.prototype.getQuery=function(){return this.query},i.prototype.getFragment=function(){return this.fragment},i.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},i.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},i.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},i.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(t,s).replace(e,o)),this.path&&(this.path=this.path.replace(e,o)),this.query&&(this.query=this.query.replace(e,o)),this.fragment&&(this.fragment=this.fragment.replace(e,o))};var e=/%[0-9a-z]{2}/gi,r=/[a-zA-Z0-9\-\._~]/,t=/(.*@)?([^@:]*)(:.*)?/;function o(e){var t=unescape(e);return r.test(t)?t:e.toUpperCase()}function s(e,t,i,n){return(t||"")+i.toLowerCase()+(n||"")}return i.prototype.resolve=function(e){var t=new i;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?t.path=this.path:e.authority&&""==e.path?t.path="/"+this.path:t.path=e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments(),t.query=this.query))),t.fragment=this.fragment,t},i.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),i=[],n=""==t[0];for(n&&t.shift(),""==t[0]&&t.shift();t.length;)".."==(e=t.shift())?i.pop():"."!=e&&i.push(e);"."!=e&&".."!=e||i.push(""),n&&i.unshift(""),this.path=i.join("/")},i.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},i}),(0,t.amdDefine)("7c",["4c","15","5","7"],function(n,r,o,s){"use strict";return function(e,t){if(!o(e))throw new s("relative uri is required.");t=r(t,document.location.href);var i=new n(t);return new n(e).resolve(i).toString()}}),(0,t.amdDefine)("4f",["5"],function(n){"use strict";var r;return function(e){n(r)||(r=document.createElement("a")),r.href=window.location.href;var t=r.host,i=r.protocol;return r.href=e,r.href=r.href,i!==r.protocol||t!==r.host}}),(0,t.amdDefine)("7d",["4d","72","15","5","b","7","7c","4f","2d","require"],function(s,o,a,u,e,c,n,l,h,r){"use strict";function f(e){var t=o(e);if(l(t)){var i,n='importScripts("'+t+'");';try{i=new Blob([n],{type:"application/javascript"})}catch(e){var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);r.append(n),i=r.getBlob("application/javascript")}t=(window.URL||window.webkitURL).createObjectURL(i)}return t}var d;function t(t){var e=new Worker((u(d)||(d=f("Workers/cesiumWorkerBootstrapper.js")),d));e.postMessage=a(e.webkitPostMessage,e.postMessage);var i={loaderConfig:{},workerModule:p._workerModulePrefix+t._workerName};return u(p._loaderConfig)?i.loaderConfig=p._loaderConfig:u(r.toUrl)?i.loaderConfig.baseUrl=n("..",o("Workers/cesiumWorkerBootstrapper.js")):i.loaderConfig.paths={Workers:o("Workers")},e.postMessage(i),e.onmessage=function(e){!function(e,t){--e._activeTasks;var i=t.id;if(u(i)){var n=e._deferreds,r=n[i];if(u(t.error)){var o=t.error;"RuntimeError"===o.name?(o=new h(t.error.message)).stack=t.error.stack:"DeveloperError"===o.name&&((o=new c(t.error.message)).stack=t.error.stack),r.reject(o)}else r.resolve(t.result);delete n[i]}}(t,e.data)},e}function p(e,t){this._workerName=e,this._maximumActiveTasks=a(t,5),this._activeTasks=0,this._deferreds={},this._nextID=0}var g=[];return p.prototype.scheduleTask=function(n,r){if(u(this._worker)||(this._worker=t(this)),!(this._activeTasks>=this._maximumActiveTasks)){++this._activeTasks;var o=this;return s(function(){if(!u(p._canTransferArrayBuffer)){var n=new Worker(f("Workers/transferTypedArrayTest.js"));n.postMessage=a(n.webkitPostMessage,n.postMessage);var e=new Int8Array([99]);try{n.postMessage({array:e},[e.buffer])}catch(e){return p._canTransferArrayBuffer=!1}var r=s.defer();n.onmessage=function(e){var t=e.data.array,i=u(t)&&99===t[0];r.resolve(i),n.terminate(),p._canTransferArrayBuffer=i},p._canTransferArrayBuffer=r.promise}return p._canTransferArrayBuffer}(),function(e){u(r)?e||(r.length=0):r=g;var t=o._nextID++,i=s.defer();return o._deferreds[t]=i,o._worker.postMessage({id:t,parameters:n,canTransferArrayBuffer:e},r),i.promise})}},p.prototype.isDestroyed=function(){return!1},p.prototype.destroy=function(){return u(this._worker)&&this._worker.terminate(),e(this)},p._workerModulePrefix=p._defaultWorkerModulePrefix="Workers/",p._loaderConfig=void 0,p._canTransferArrayBuffer=void 0,p}),(0,t.amdDefine)("7e",["a","20","1e","5","7","d"],function(e,s,c,t,a,u){"use strict";var l={octEncodeInRange:function(e,t,i){c.defined("vector",e),c.defined("result",i);var n=s.magnitudeSquared(e);if(Math.abs(n-1)>u.EPSILON6)throw new a("vector must be normalized.");if(i.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),i.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var r=i.x,o=i.y;i.x=(1-Math.abs(o))*u.signNotZero(r),i.y=(1-Math.abs(r))*u.signNotZero(o)}return i.x=u.toSNorm(i.x,t),i.y=u.toSNorm(i.y,t),i},octEncode:function(e,t){return l.octEncodeInRange(e,255,t)},octDecodeInRange:function(e,t,i,n){if(c.defined("result",n),e<0||i<e||t<0||i<t)throw new a("x and y must be a signed normalized integer between 0 and "+i);if(n.x=u.fromSNorm(e,i),n.y=u.fromSNorm(t,i),n.z=1-(Math.abs(n.x)+Math.abs(n.y)),n.z<0){var r=n.x;n.x=(1-Math.abs(n.y))*u.signNotZero(r),n.y=(1-Math.abs(r))*u.signNotZero(n.y)}return s.normalize(n,n)},octDecode:function(e,t,i){return l.octDecodeInRange(e,t,255,i)},octPackFloat:function(e){return c.defined("encoded",e),256*e.x+e.y}},h=new e;return l.octEncodeFloat=function(e){return l.octEncode(e,h),l.octPackFloat(h)},l.octDecodeFloat=function(e,t){c.defined("value",e);var i=e/256,n=Math.floor(i),r=256*(i-n);return l.octDecode(n,r,t)},l.octPack=function(e,t,i,n){c.defined("v1",e),c.defined("v2",t),c.defined("v3",i),c.defined("result",n);var r=l.octEncodeFloat(e),o=l.octEncodeFloat(t),s=l.octEncode(i,h);return n.x=65536*s.x+r,n.y=65536*s.y+o,n},l.octUnpack=function(e,t,i,n){c.defined("packed",e),c.defined("v1",t),c.defined("v2",i),c.defined("v3",n);var r=e.x/65536,o=Math.floor(r),s=65536*(r-o);r=e.y/65536;var a=Math.floor(r),u=65536*(r-a);l.octDecodeFloat(s,t),l.octDecodeFloat(u,i),l.octDecode(o,a,n)},l.compressTextureCoordinates=function(e){return c.defined("textureCoordinates",e),4096*(4095*e.x|0)+(4095*e.y|0)},l.decompressTextureCoordinates=function(e,t){c.defined("compressed",e),c.defined("result",t);var i=e/4096,n=Math.floor(i);return t.x=n/4095,t.y=(e-4096*n)/4095,t},l}),(0,t.amdDefine)("a",["1e","15","5","7","11","d"],function(o,n,s,r,e,a){"use strict";function u(e,t){this.x=n(e,0),this.y=n(t,0)}u.fromElements=function(e,t,i){return s(i)?(i.x=e,i.y=t,i):new u(e,t)},u.fromCartesian3=u.clone=function(e,t){if(s(e))return s(t)?(t.x=e.x,t.y=e.y,t):new u(e.x,e.y)},u.fromCartesian4=u.clone,u.packedLength=2,u.pack=function(e,t,i){return o.typeOf.object("value",e),o.defined("array",t),i=n(i,0),t[i++]=e.x,t[i]=e.y,t},u.unpack=function(e,t,i){return o.defined("array",e),t=n(t,0),s(i)||(i=new u),i.x=e[t++],i.y=e[t],i},u.packArray=function(e,t){o.defined("array",e);var i=e.length;s(t)?t.length=2*i:t=new Array(2*i);for(var n=0;n<i;++n)u.pack(e[n],t,2*n);return t},u.unpackArray=function(e,t){o.defined("array",e);var i=e.length;s(t)?t.length=i/2:t=new Array(i/2);for(var n=0;n<i;n+=2){var r=n/2;t[r]=u.unpack(e,n,t[r])}return t},u.fromArray=u.unpack,u.maximumComponent=function(e){return o.typeOf.object("cartesian",e),Math.max(e.x,e.y)},u.minimumComponent=function(e){return o.typeOf.object("cartesian",e),Math.min(e.x,e.y)},u.minimumByComponent=function(e,t,i){return o.typeOf.object("first",e),o.typeOf.object("second",t),o.typeOf.object("result",i),i.x=Math.min(e.x,t.x),i.y=Math.min(e.y,t.y),i},u.maximumByComponent=function(e,t,i){return o.typeOf.object("first",e),o.typeOf.object("second",t),o.typeOf.object("result",i),i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i},u.magnitudeSquared=function(e){return o.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},u.magnitude=function(e){return Math.sqrt(u.magnitudeSquared(e))};var i=new u;u.distance=function(e,t){return o.typeOf.object("left",e),o.typeOf.object("right",t),u.subtract(e,t,i),u.magnitude(i)},u.distanceSquared=function(e,t){return o.typeOf.object("left",e),o.typeOf.object("right",t),u.subtract(e,t,i),u.magnitudeSquared(i)},u.normalize=function(e,t){o.typeOf.object("cartesian",e),o.typeOf.object("result",t);var i=u.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,isNaN(t.x)||isNaN(t.y))throw new r("normalized result is not a number");return t},u.dot=function(e,t){return o.typeOf.object("left",e),o.typeOf.object("right",t),e.x*t.x+e.y*t.y},u.multiplyComponents=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x*t.x,i.y=e.y*t.y,i},u.divideComponents=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x/t.x,i.y=e.y/t.y,i},u.add=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i},u.subtract=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i},u.multiplyByScalar=function(e,t,i){return o.typeOf.object("cartesian",e),o.typeOf.number("scalar",t),o.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i},u.divideByScalar=function(e,t,i){return o.typeOf.object("cartesian",e),o.typeOf.number("scalar",t),o.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i},u.negate=function(e,t){return o.typeOf.object("cartesian",e),o.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t},u.abs=function(e,t){return o.typeOf.object("cartesian",e),o.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var c=new u;u.lerp=function(e,t,i,n){return o.typeOf.object("start",e),o.typeOf.object("end",t),o.typeOf.number("t",i),o.typeOf.object("result",n),u.multiplyByScalar(t,i,c),n=u.multiplyByScalar(e,1-i,n),u.add(c,n,n)};var l=new u,h=new u;u.angleBetween=function(e,t){return o.typeOf.object("left",e),o.typeOf.object("right",t),u.normalize(e,l),u.normalize(t,h),a.acosClamped(u.dot(l,h))};var f=new u;return u.mostOrthogonalAxis=function(e,t){o.typeOf.object("cartesian",e),o.typeOf.object("result",t);var i=u.normalize(e,f);return u.abs(i,i),t=i.x<=i.y?u.clone(u.UNIT_X,t):u.clone(u.UNIT_Y,t)},u.equals=function(e,t){return e===t||s(e)&&s(t)&&e.x===t.x&&e.y===t.y},u.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]},u.equalsEpsilon=function(e,t,i,n){return e===t||s(e)&&s(t)&&a.equalsEpsilon(e.x,t.x,i,n)&&a.equalsEpsilon(e.y,t.y,i,n)},u.ZERO=e(new u(0,0)),u.UNIT_X=e(new u(1,0)),u.UNIT_Y=e(new u(0,1)),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t,i){return u.equalsEpsilon(this,e,t,i)},u.prototype.toString=function(){return"("+this.x+", "+this.y+")"},u}),(0,t.amdDefine)("7f",["5","6"],function(s,e){"use strict";var a,u={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},i={};return e(i,{element:{get:function(){if(i.supportsFullscreen())return document[u.fullscreenElement]}},changeEventName:{get:function(){if(i.supportsFullscreen())return u.fullscreenchange}},errorEventName:{get:function(){if(i.supportsFullscreen())return u.fullscreenerror}},enabled:{get:function(){if(i.supportsFullscreen())return document[u.fullscreenEnabled]}},fullscreen:{get:function(){if(i.supportsFullscreen())return null!==i.element}}}),i.supportsFullscreen=function(){if(s(a))return a;a=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return u.requestFullscreen="requestFullscreen",u.exitFullscreen="exitFullscreen",u.fullscreenEnabled="fullscreenEnabled",u.fullscreenElement="fullscreenElement",u.fullscreenchange="fullscreenchange",u.fullscreenerror="fullscreenerror",a=!0;for(var t,i=["webkit","moz","o","ms","khtml"],n=0,r=i.length;n<r;++n){var o=i[n];"function"==typeof e[t=o+"RequestFullscreen"]?(u.requestFullscreen=t,a=!0):"function"==typeof e[t=o+"RequestFullScreen"]&&(u.requestFullscreen=t,a=!0),t=o+"ExitFullscreen","function"==typeof document[t]?u.exitFullscreen=t:(t=o+"CancelFullScreen","function"==typeof document[t]&&(u.exitFullscreen=t)),t=o+"FullscreenEnabled",void 0!==document[t]?u.fullscreenEnabled=t:(t=o+"FullScreenEnabled",void 0!==document[t]&&(u.fullscreenEnabled=t)),t=o+"FullscreenElement",void 0!==document[t]?u.fullscreenElement=t:(t=o+"FullScreenElement",void 0!==document[t]&&(u.fullscreenElement=t)),t=o+"fullscreenchange",void 0!==document["on"+t]&&("ms"===o&&(t="MSFullscreenChange"),u.fullscreenchange=t),t=o+"fullscreenerror",void 0!==document["on"+t]&&("ms"===o&&(t="MSFullscreenError"),u.fullscreenerror=t)}return a},i.requestFullscreen=function(e,t){i.supportsFullscreen()&&e[u.requestFullscreen]({vrDisplay:t})},i.exitFullscreen=function(){i.supportsFullscreen()&&document[u.exitFullscreen]()},i}),(0,t.amdDefine)("41",["15","5","7f"],function(e,i,t){"use strict";var n,r,o,s,a,u,c,l,h,f,d,p,g,M,y,A,E;function w(e){for(var t=e.split("."),i=0,n=t.length;i<n;++i)t[i]=parseInt(t[i],10);return t}function m(){if(!i(r)&&(r=!1,!T())){var e=/ Chrome\/([\.0-9]+)/.exec(n.userAgent);null!==e&&(r=!0,o=w(e[1]))}return r}function v(){if(!i(s)&&(s=!1,!m()&&!T()&&/ Safari\/[\.0-9]+/.test(n.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(n.userAgent);null!==e&&(s=!0,a=w(e[1]))}return s}function N(){if(!i(u)){u=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(n.userAgent);null!==e&&(u=!0,(c=w(e[1])).isNightly=!!e[2])}return u}function D(){var e;return i(l)||(l=!1,"Microsoft Internet Explorer"===n.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(n.userAgent))&&(l=!0,h=w(e[1])):"Netscape"===n.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(n.userAgent))&&(l=!0,h=w(e[1]))),l}function T(){if(!i(f)){f=!1;var e=/ Edge\/([\.0-9]+)/.exec(n.userAgent);null!==e&&(f=!0,d=w(e[1]))}return f}function I(){if(!i(p)){p=!1;var e=/Firefox\/([\.0-9]+)/.exec(n.userAgent);null!==e&&(p=!0,g=w(e[1]))}return p}function O(){if(!i(E)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var t=e.style.imageRendering;(E=i(t)&&""!==t)&&(A=t)}return E}var S={isChrome:m,chromeVersion:function(){return m()&&o},isSafari:v,safariVersion:function(){return v()&&a},isWebkit:N,webkitVersion:function(){return N()&&c},isInternetExplorer:D,internetExplorerVersion:function(){return D()&&h},isEdge:T,edgeVersion:function(){return T()&&d},isFirefox:I,firefoxVersion:function(){return I()&&g},isWindows:function(){return i(M)||(M=/Windows/i.test(n.appVersion)),M},hardwareConcurrency:e((n="undefined"!=typeof navigator?navigator:{}).hardwareConcurrency,3),supportsPointerEvents:function(){return i(y)||(y="undefined"!=typeof PointerEvent&&(!i(n.pointerEnabled)||n.pointerEnabled)),y},supportsImageRenderingPixelated:O,imageRenderingValue:function(){return O()?A:void 0},supportsFullscreen:function(){return t.supportsFullscreen()},supportsTypedArrays:function(){return"undefined"!=typeof ArrayBuffer},supportsWebWorkers:function(){return"undefined"!=typeof Worker}};return S}),(0,t.amdDefine)("80",["11"],function(e){"use strict";return e({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047})}),(0,t.amdDefine)("81",["15","5","7","41","11","80"],function(r,o,s,e,t,i){"use strict";if(!e.supportsTypedArrays())return{};var a={BYTE:i.BYTE,UNSIGNED_BYTE:i.UNSIGNED_BYTE,SHORT:i.SHORT,UNSIGNED_SHORT:i.UNSIGNED_SHORT,INT:i.INT,UNSIGNED_INT:i.UNSIGNED_INT,FLOAT:i.FLOAT,DOUBLE:i.DOUBLE,getSizeInBytes:function(e){if(!o(e))throw new s("value is required.");switch(e){case a.BYTE:return Int8Array.BYTES_PER_ELEMENT;case a.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case a.SHORT:return Int16Array.BYTES_PER_ELEMENT;case a.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case a.INT:return Int32Array.BYTES_PER_ELEMENT;case a.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case a.FLOAT:return Float32Array.BYTES_PER_ELEMENT;case a.DOUBLE:return Float64Array.BYTES_PER_ELEMENT;default:throw new s("componentDatatype is not a valid value.")}},fromTypedArray:function(e){return e instanceof Int8Array?a.BYTE:e instanceof Uint8Array?a.UNSIGNED_BYTE:e instanceof Int16Array?a.SHORT:e instanceof Uint16Array?a.UNSIGNED_SHORT:e instanceof Int32Array?a.INT:e instanceof Uint32Array?a.UNSIGNED_INT:e instanceof Float32Array?a.FLOAT:e instanceof Float64Array?a.DOUBLE:void 0},validate:function(e){return o(e)&&(e===a.BYTE||e===a.UNSIGNED_BYTE||e===a.SHORT||e===a.UNSIGNED_SHORT||e===a.INT||e===a.UNSIGNED_INT||e===a.FLOAT||e===a.DOUBLE)},createTypedArray:function(e,t){if(!o(e))throw new s("componentDatatype is required.");if(!o(t))throw new s("valuesOrLength is required.");switch(e){case a.BYTE:return new Int8Array(t);case a.UNSIGNED_BYTE:return new Uint8Array(t);case a.SHORT:return new Int16Array(t);case a.UNSIGNED_SHORT:return new Uint16Array(t);case a.INT:return new Int32Array(t);case a.UNSIGNED_INT:return new Uint32Array(t);case a.FLOAT:return new Float32Array(t);case a.DOUBLE:return new Float64Array(t);default:throw new s("componentDatatype is not a valid value.")}},createArrayBufferView:function(e,t,i,n){if(!o(e))throw new s("componentDatatype is required.");if(!o(t))throw new s("buffer is required.");switch(i=r(i,0),n=r(n,(t.byteLength-i)/a.getSizeInBytes(e)),e){case a.BYTE:return new Int8Array(t,i,n);case a.UNSIGNED_BYTE:return new Uint8Array(t,i,n);case a.SHORT:return new Int16Array(t,i,n);case a.UNSIGNED_SHORT:return new Uint16Array(t,i,n);case a.INT:return new Int32Array(t,i,n);case a.UNSIGNED_INT:return new Uint32Array(t,i,n);case a.FLOAT:return new Float32Array(t,i,n);case a.DOUBLE:return new Float64Array(t,i,n);default:throw new s("componentDatatype is not a valid value.")}},fromName:function(e){switch(e){case"BYTE":return a.BYTE;case"UNSIGNED_BYTE":return a.UNSIGNED_BYTE;case"SHORT":return a.SHORT;case"UNSIGNED_SHORT":return a.UNSIGNED_SHORT;case"INT":return a.INT;case"UNSIGNED_INT":return a.UNSIGNED_INT;case"FLOAT":return a.FLOAT;case"DOUBLE":return a.DOUBLE;default:throw new s("name is not a valid value.")}}};return t(a)}),(0,t.amdDefine)("36",["1e","15","5","7","11","d"],function(o,r,s,n,e,a){"use strict";function u(e,t,i,n){this.x=r(e,0),this.y=r(t,0),this.z=r(i,0),this.w=r(n,0)}u.fromElements=function(e,t,i,n,r){return s(r)?(r.x=e,r.y=t,r.z=i,r.w=n,r):new u(e,t,i,n)},u.fromColor=function(e,t){return o.typeOf.object("color",e),s(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new u(e.red,e.green,e.blue,e.alpha)},u.clone=function(e,t){if(s(e))return s(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new u(e.x,e.y,e.z,e.w)},u.packedLength=4,u.pack=function(e,t,i){return o.typeOf.object("value",e),o.defined("array",t),i=r(i,0),t[i++]=e.x,t[i++]=e.y,t[i++]=e.z,t[i]=e.w,t},u.unpack=function(e,t,i){return o.defined("array",e),t=r(t,0),s(i)||(i=new u),i.x=e[t++],i.y=e[t++],i.z=e[t++],i.w=e[t],i},u.packArray=function(e,t){o.defined("array",e);var i=e.length;s(t)?t.length=4*i:t=new Array(4*i);for(var n=0;n<i;++n)u.pack(e[n],t,4*n);return t},u.unpackArray=function(e,t){o.defined("array",e);var i=e.length;s(t)?t.length=i/4:t=new Array(i/4);for(var n=0;n<i;n+=4){var r=n/4;t[r]=u.unpack(e,n,t[r])}return t},u.fromArray=u.unpack,u.maximumComponent=function(e){return o.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z,e.w)},u.minimumComponent=function(e){return o.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z,e.w)},u.minimumByComponent=function(e,t,i){return o.typeOf.object("first",e),o.typeOf.object("second",t),o.typeOf.object("result",i),i.x=Math.min(e.x,t.x),i.y=Math.min(e.y,t.y),i.z=Math.min(e.z,t.z),i.w=Math.min(e.w,t.w),i},u.maximumByComponent=function(e,t,i){return o.typeOf.object("first",e),o.typeOf.object("second",t),o.typeOf.object("result",i),i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.z=Math.max(e.z,t.z),i.w=Math.max(e.w,t.w),i},u.magnitudeSquared=function(e){return o.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},u.magnitude=function(e){return Math.sqrt(u.magnitudeSquared(e))};var i=new u;u.distance=function(e,t){return o.typeOf.object("left",e),o.typeOf.object("right",t),u.subtract(e,t,i),u.magnitude(i)},u.distanceSquared=function(e,t){return o.typeOf.object("left",e),o.typeOf.object("right",t),u.subtract(e,t,i),u.magnitudeSquared(i)},u.normalize=function(e,t){o.typeOf.object("cartesian",e),o.typeOf.object("result",t);var i=u.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,t.z=e.z/i,t.w=e.w/i,isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.w))throw new n("normalized result is not a number");return t},u.dot=function(e,t){return o.typeOf.object("left",e),o.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},u.multiplyComponents=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x*t.x,i.y=e.y*t.y,i.z=e.z*t.z,i.w=e.w*t.w,i},u.divideComponents=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x/t.x,i.y=e.y/t.y,i.z=e.z/t.z,i.w=e.w/t.w,i},u.add=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i.w=e.w+t.w,i},u.subtract=function(e,t,i){return o.typeOf.object("left",e),o.typeOf.object("right",t),o.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i.w=e.w-t.w,i},u.multiplyByScalar=function(e,t,i){return o.typeOf.object("cartesian",e),o.typeOf.number("scalar",t),o.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i.z=e.z*t,i.w=e.w*t,i},u.divideByScalar=function(e,t,i){return o.typeOf.object("cartesian",e),o.typeOf.number("scalar",t),o.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i.z=e.z/t,i.w=e.w/t,i},u.negate=function(e,t){return o.typeOf.object("cartesian",e),o.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},u.abs=function(e,t){return o.typeOf.object("cartesian",e),o.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var c=new u;u.lerp=function(e,t,i,n){return o.typeOf.object("start",e),o.typeOf.object("end",t),o.typeOf.number("t",i),o.typeOf.object("result",n),u.multiplyByScalar(t,i,c),n=u.multiplyByScalar(e,1-i,n),u.add(c,n,n)};var l=new u;return u.mostOrthogonalAxis=function(e,t){o.typeOf.object("cartesian",e),o.typeOf.object("result",t);var i=u.normalize(e,l);return u.abs(i,i),t=i.x<=i.y?i.x<=i.z?i.x<=i.w?u.clone(u.UNIT_X,t):u.clone(u.UNIT_W,t):i.z<=i.w?u.clone(u.UNIT_Z,t):u.clone(u.UNIT_W,t):i.y<=i.z?i.y<=i.w?u.clone(u.UNIT_Y,t):u.clone(u.UNIT_W,t):i.z<=i.w?u.clone(u.UNIT_Z,t):u.clone(u.UNIT_W,t)},u.equals=function(e,t){return e===t||s(e)&&s(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},u.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]&&e.z===t[i+2]&&e.w===t[i+3]},u.equalsEpsilon=function(e,t,i,n){return e===t||s(e)&&s(t)&&a.equalsEpsilon(e.x,t.x,i,n)&&a.equalsEpsilon(e.y,t.y,i,n)&&a.equalsEpsilon(e.z,t.z,i,n)&&a.equalsEpsilon(e.w,t.w,i,n)},u.ZERO=e(new u(0,0,0,0)),u.UNIT_X=e(new u(1,0,0,0)),u.UNIT_Y=e(new u(0,1,0,0)),u.UNIT_Z=e(new u(0,0,1,0)),u.UNIT_W=e(new u(0,0,0,1)),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t,i){return u.equalsEpsilon(this,e,t,i)},u.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},u}),(0,t.amdDefine)("20",["1e","15","5","7","11","d"],function(f,u,c,l,e,o){"use strict";function h(e,t,i){this.x=u(e,0),this.y=u(t,0),this.z=u(i,0)}h.fromSpherical=function(e,t){f.typeOf.object("spherical",e),c(t)||(t=new h);var i=e.clock,n=e.cone,r=u(e.magnitude,1),o=r*Math.sin(n);return t.x=o*Math.cos(i),t.y=o*Math.sin(i),t.z=r*Math.cos(n),t},h.fromElements=function(e,t,i,n){return c(n)?(n.x=e,n.y=t,n.z=i,n):new h(e,t,i)},h.fromCartesian4=h.clone=function(e,t){if(c(e))return c(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new h(e.x,e.y,e.z)},h.packedLength=3,h.pack=function(e,t,i){return f.typeOf.object("value",e),f.defined("array",t),i=u(i,0),t[i++]=e.x,t[i++]=e.y,t[i]=e.z,t},h.unpack=function(e,t,i){return f.defined("array",e),t=u(t,0),c(i)||(i=new h),i.x=e[t++],i.y=e[t++],i.z=e[t],i},h.packArray=function(e,t){f.defined("array",e);var i=e.length;c(t)?t.length=3*i:t=new Array(3*i);for(var n=0;n<i;++n)h.pack(e[n],t,3*n);return t},h.unpackArray=function(e,t){if(f.defined("array",e),f.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new l("array length must be a multiple of 3.");var i=e.length;c(t)?t.length=i/3:t=new Array(i/3);for(var n=0;n<i;n+=3){var r=n/3;t[r]=h.unpack(e,n,t[r])}return t},h.fromArray=h.unpack,h.maximumComponent=function(e){return f.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},h.minimumComponent=function(e){return f.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},h.minimumByComponent=function(e,t,i){return f.typeOf.object("first",e),f.typeOf.object("second",t),f.typeOf.object("result",i),i.x=Math.min(e.x,t.x),i.y=Math.min(e.y,t.y),i.z=Math.min(e.z,t.z),i},h.maximumByComponent=function(e,t,i){return f.typeOf.object("first",e),f.typeOf.object("second",t),f.typeOf.object("result",i),i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.z=Math.max(e.z,t.z),i},h.magnitudeSquared=function(e){return f.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},h.magnitude=function(e){return Math.sqrt(h.magnitudeSquared(e))};var i=new h;h.distance=function(e,t){return f.typeOf.object("left",e),f.typeOf.object("right",t),h.subtract(e,t,i),h.magnitude(i)},h.distanceSquared=function(e,t){return f.typeOf.object("left",e),f.typeOf.object("right",t),h.subtract(e,t,i),h.magnitudeSquared(i)},h.normalize=function(e,t){f.typeOf.object("cartesian",e),f.typeOf.object("result",t);var i=h.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,t.z=e.z/i,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new l("normalized result is not a number");return t},h.dot=function(e,t){return f.typeOf.object("left",e),f.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},h.multiplyComponents=function(e,t,i){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",i),i.x=e.x*t.x,i.y=e.y*t.y,i.z=e.z*t.z,i},h.divideComponents=function(e,t,i){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",i),i.x=e.x/t.x,i.y=e.y/t.y,i.z=e.z/t.z,i},h.add=function(e,t,i){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i},h.subtract=function(e,t,i){return f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i},h.multiplyByScalar=function(e,t,i){return f.typeOf.object("cartesian",e),f.typeOf.number("scalar",t),f.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i.z=e.z*t,i},h.divideByScalar=function(e,t,i){return f.typeOf.object("cartesian",e),f.typeOf.number("scalar",t),f.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i.z=e.z/t,i},h.negate=function(e,t){return f.typeOf.object("cartesian",e),f.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},h.abs=function(e,t){return f.typeOf.object("cartesian",e),f.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var r=new h;h.lerp=function(e,t,i,n){return f.typeOf.object("start",e),f.typeOf.object("end",t),f.typeOf.number("t",i),f.typeOf.object("result",n),h.multiplyByScalar(t,i,r),n=h.multiplyByScalar(e,1-i,n),h.add(r,n,n)};var s=new h,a=new h;h.angleBetween=function(e,t){f.typeOf.object("left",e),f.typeOf.object("right",t),h.normalize(e,s),h.normalize(t,a);var i=h.dot(s,a),n=h.magnitude(h.cross(s,a,s));return Math.atan2(n,i)};var n=new h;h.mostOrthogonalAxis=function(e,t){f.typeOf.object("cartesian",e),f.typeOf.object("result",t);var i=h.normalize(e,n);return h.abs(i,i),t=i.x<=i.y?i.x<=i.z?h.clone(h.UNIT_X,t):h.clone(h.UNIT_Z,t):i.y<=i.z?h.clone(h.UNIT_Y,t):h.clone(h.UNIT_Z,t)},h.equals=function(e,t){return e===t||c(e)&&c(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},h.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]&&e.z===t[i+2]},h.equalsEpsilon=function(e,t,i,n){return e===t||c(e)&&c(t)&&o.equalsEpsilon(e.x,t.x,i,n)&&o.equalsEpsilon(e.y,t.y,i,n)&&o.equalsEpsilon(e.z,t.z,i,n)},h.cross=function(e,t,i){f.typeOf.object("left",e),f.typeOf.object("right",t),f.typeOf.object("result",i);var n=e.x,r=e.y,o=e.z,s=t.x,a=t.y,u=t.z,c=r*u-o*a,l=o*s-n*u,h=n*a-r*s;return i.x=c,i.y=l,i.z=h,i},h.fromDegrees=function(e,t,i,n,r){return f.typeOf.number("longitude",e),f.typeOf.number("latitude",t),e=o.toRadians(e),t=o.toRadians(t),h.fromRadians(e,t,i,n,r)};var d=new h,p=new h,g=new h(40680631590769,40680631590769,40408299984661.445);return h.fromRadians=function(e,t,i,n,r){f.typeOf.number("longitude",e),f.typeOf.number("latitude",t),i=u(i,0);var o=c(n)?n.radiiSquared:g,s=Math.cos(t);d.x=s*Math.cos(e),d.y=s*Math.sin(e),d.z=Math.sin(t),d=h.normalize(d,d),h.multiplyComponents(o,d,p);var a=Math.sqrt(h.dot(d,p));return p=h.divideByScalar(p,a,p),d=h.multiplyByScalar(d,i,d),c(r)||(r=new h),h.add(p,d,r)},h.fromDegreesArray=function(e,t,i){if(f.defined("coordinates",e),e.length<2||e.length%2!=0)throw new l("the number of coordinates must be a multiple of 2 and at least 2");var n=e.length;c(i)?i.length=n/2:i=new Array(n/2);for(var r=0;r<n;r+=2){var o=e[r],s=e[r+1],a=r/2;i[a]=h.fromDegrees(o,s,0,t,i[a])}return i},h.fromRadiansArray=function(e,t,i){if(f.defined("coordinates",e),e.length<2||e.length%2!=0)throw new l("the number of coordinates must be a multiple of 2 and at least 2");var n=e.length;c(i)?i.length=n/2:i=new Array(n/2);for(var r=0;r<n;r+=2){var o=e[r],s=e[r+1],a=r/2;i[a]=h.fromRadians(o,s,0,t,i[a])}return i},h.fromDegreesArrayHeights=function(e,t,i){if(f.defined("coordinates",e),e.length<3||e.length%3!=0)throw new l("the number of coordinates must be a multiple of 3 and at least 3");var n=e.length;c(i)?i.length=n/3:i=new Array(n/3);for(var r=0;r<n;r+=3){var o=e[r],s=e[r+1],a=e[r+2],u=r/3;i[u]=h.fromDegrees(o,s,a,t,i[u])}return i},h.fromRadiansArrayHeights=function(e,t,i){if(f.defined("coordinates",e),e.length<3||e.length%3!=0)throw new l("the number of coordinates must be a multiple of 3 and at least 3");var n=e.length;c(i)?i.length=n/3:i=new Array(n/3);for(var r=0;r<n;r+=3){var o=e[r],s=e[r+1],a=e[r+2],u=r/3;i[u]=h.fromRadians(o,s,a,t,i[u])}return i},h.ZERO=e(new h(0,0,0)),h.UNIT_X=e(new h(1,0,0)),h.UNIT_Y=e(new h(0,1,0)),h.UNIT_Z=e(new h(0,0,1)),h.prototype.clone=function(e){return h.clone(this,e)},h.prototype.equals=function(e){return h.equals(this,e)},h.prototype.equalsEpsilon=function(e,t,i){return h.equalsEpsilon(this,e,t,i)},h.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},h}),(0,t.amdDefine)("28",["20","1e","15","5","6","7","11","d"],function(i,m,c,v,e,f,t,d){"use strict";function N(e,t,i,n,r,o,s,a,u){this[0]=c(e,0),this[1]=c(n,0),this[2]=c(s,0),this[3]=c(t,0),this[4]=c(r,0),this[5]=c(a,0),this[6]=c(i,0),this[7]=c(o,0),this[8]=c(u,0)}N.packedLength=9,N.pack=function(e,t,i){return m.typeOf.object("value",e),m.defined("array",t),i=c(i,0),t[i++]=e[0],t[i++]=e[1],t[i++]=e[2],t[i++]=e[3],t[i++]=e[4],t[i++]=e[5],t[i++]=e[6],t[i++]=e[7],t[i++]=e[8],t},N.unpack=function(e,t,i){return m.defined("array",e),t=c(t,0),v(i)||(i=new N),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i[4]=e[t++],i[5]=e[t++],i[6]=e[t++],i[7]=e[t++],i[8]=e[t++],i},N.clone=function(e,t){if(v(e))return v(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new N(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},N.fromArray=function(e,t,i){return m.defined("array",e),t=c(t,0),v(i)||(i=new N),i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i[4]=e[t+4],i[5]=e[t+5],i[6]=e[t+6],i[7]=e[t+7],i[8]=e[t+8],i},N.fromColumnMajorArray=function(e,t){return m.defined("values",e),N.clone(e,t)},N.fromRowMajorArray=function(e,t){return m.defined("values",e),v(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new N(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},N.fromQuaternion=function(e,t){m.typeOf.object("quaternion",e);var i=e.x*e.x,n=e.x*e.y,r=e.x*e.z,o=e.x*e.w,s=e.y*e.y,a=e.y*e.z,u=e.y*e.w,c=e.z*e.z,l=e.z*e.w,h=e.w*e.w,f=i-s-c+h,d=2*(n-l),p=2*(r+u),g=2*(n+l),M=-i+s-c+h,y=2*(a-o),A=2*(r-u),E=2*(a+o),w=-i-s+c+h;return v(t)?(t[0]=f,t[1]=g,t[2]=A,t[3]=d,t[4]=M,t[5]=E,t[6]=p,t[7]=y,t[8]=w,t):new N(f,d,p,g,M,y,A,E,w)},N.fromHeadingPitchRoll=function(e,t){m.typeOf.object("headingPitchRoll",e);var i=Math.cos(-e.pitch),n=Math.cos(-e.heading),r=Math.cos(e.roll),o=Math.sin(-e.pitch),s=Math.sin(-e.heading),a=Math.sin(e.roll),u=i*n,c=-r*s+a*o*n,l=a*s+r*o*n,h=i*s,f=r*n+a*o*s,d=-a*n+r*o*s,p=-o,g=a*i,M=r*i;return v(t)?(t[0]=u,t[1]=h,t[2]=p,t[3]=c,t[4]=f,t[5]=g,t[6]=l,t[7]=d,t[8]=M,t):new N(u,c,l,h,f,d,p,g,M)},N.fromScale=function(e,t){return m.typeOf.object("scale",e),v(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new N(e.x,0,0,0,e.y,0,0,0,e.z)},N.fromUniformScale=function(e,t){return m.typeOf.number("scale",e),v(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new N(e,0,0,0,e,0,0,0,e)},N.fromCrossProduct=function(e,t){return m.typeOf.object("vector",e),v(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new N(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},N.fromRotationX=function(e,t){m.typeOf.number("angle",e);var i=Math.cos(e),n=Math.sin(e);return v(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=i,t[5]=n,t[6]=0,t[7]=-n,t[8]=i,t):new N(1,0,0,0,i,-n,0,n,i)},N.fromRotationY=function(e,t){m.typeOf.number("angle",e);var i=Math.cos(e),n=Math.sin(e);return v(t)?(t[0]=i,t[1]=0,t[2]=-n,t[3]=0,t[4]=1,t[5]=0,t[6]=n,t[7]=0,t[8]=i,t):new N(i,0,n,0,1,0,-n,0,i)},N.fromRotationZ=function(e,t){m.typeOf.number("angle",e);var i=Math.cos(e),n=Math.sin(e);return v(t)?(t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new N(i,-n,0,n,i,0,0,0,1)},N.toArray=function(e,t){return m.typeOf.object("matrix",e),v(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},N.getElementIndex=function(e,t){return m.typeOf.number.greaterThanOrEquals("row",t,0),m.typeOf.number.lessThanOrEquals("row",t,2),m.typeOf.number.greaterThanOrEquals("column",e,0),m.typeOf.number.lessThanOrEquals("column",e,2),3*e+t},N.getColumn=function(e,t,i){m.typeOf.object("matrix",e),m.typeOf.number.greaterThanOrEquals("index",t,0),m.typeOf.number.lessThanOrEquals("index",t,2),m.typeOf.object("result",i);var n=3*t,r=e[n],o=e[n+1],s=e[n+2];return i.x=r,i.y=o,i.z=s,i},N.setColumn=function(e,t,i,n){m.typeOf.object("matrix",e),m.typeOf.number.greaterThanOrEquals("index",t,0),m.typeOf.number.lessThanOrEquals("index",t,2),m.typeOf.object("cartesian",i),m.typeOf.object("result",n);var r=3*t;return(n=N.clone(e,n))[r]=i.x,n[r+1]=i.y,n[r+2]=i.z,n},N.getRow=function(e,t,i){m.typeOf.object("matrix",e),m.typeOf.number.greaterThanOrEquals("index",t,0),m.typeOf.number.lessThanOrEquals("index",t,2),m.typeOf.object("result",i);var n=e[t],r=e[t+3],o=e[t+6];return i.x=n,i.y=r,i.z=o,i},N.setRow=function(e,t,i,n){return m.typeOf.object("matrix",e),m.typeOf.number.greaterThanOrEquals("index",t,0),m.typeOf.number.lessThanOrEquals("index",t,2),m.typeOf.object("cartesian",i),m.typeOf.object("result",n),(n=N.clone(e,n))[t]=i.x,n[t+3]=i.y,n[t+6]=i.z,n};var n=new i;N.getScale=function(e,t){return m.typeOf.object("matrix",e),m.typeOf.object("result",t),t.x=i.magnitude(i.fromElements(e[0],e[1],e[2],n)),t.y=i.magnitude(i.fromElements(e[3],e[4],e[5],n)),t.z=i.magnitude(i.fromElements(e[6],e[7],e[8],n)),t};var r=new i;N.getMaximumScale=function(e){return N.getScale(e,r),i.maximumComponent(r)},N.multiply=function(e,t,i){m.typeOf.object("left",e),m.typeOf.object("right",t),m.typeOf.object("result",i);var n=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],r=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],s=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],a=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],c=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],l=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],h=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return i[0]=n,i[1]=r,i[2]=o,i[3]=s,i[4]=a,i[5]=u,i[6]=c,i[7]=l,i[8]=h,i},N.add=function(e,t,i){return m.typeOf.object("left",e),m.typeOf.object("right",t),m.typeOf.object("result",i),i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i[4]=e[4]+t[4],i[5]=e[5]+t[5],i[6]=e[6]+t[6],i[7]=e[7]+t[7],i[8]=e[8]+t[8],i},N.subtract=function(e,t,i){return m.typeOf.object("left",e),m.typeOf.object("right",t),m.typeOf.object("result",i),i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i[4]=e[4]-t[4],i[5]=e[5]-t[5],i[6]=e[6]-t[6],i[7]=e[7]-t[7],i[8]=e[8]-t[8],i},N.multiplyByVector=function(e,t,i){m.typeOf.object("matrix",e),m.typeOf.object("cartesian",t),m.typeOf.object("result",i);var n=t.x,r=t.y,o=t.z,s=e[0]*n+e[3]*r+e[6]*o,a=e[1]*n+e[4]*r+e[7]*o,u=e[2]*n+e[5]*r+e[8]*o;return i.x=s,i.y=a,i.z=u,i},N.multiplyByScalar=function(e,t,i){return m.typeOf.object("matrix",e),m.typeOf.number("scalar",t),m.typeOf.object("result",i),i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i[4]=e[4]*t,i[5]=e[5]*t,i[6]=e[6]*t,i[7]=e[7]*t,i[8]=e[8]*t,i},N.multiplyByScale=function(e,t,i){return m.typeOf.object("matrix",e),m.typeOf.object("scale",t),m.typeOf.object("result",i),i[0]=e[0]*t.x,i[1]=e[1]*t.x,i[2]=e[2]*t.x,i[3]=e[3]*t.y,i[4]=e[4]*t.y,i[5]=e[5]*t.y,i[6]=e[6]*t.z,i[7]=e[7]*t.z,i[8]=e[8]*t.z,i},N.negate=function(e,t){return m.typeOf.object("matrix",e),m.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},N.transpose=function(e,t){m.typeOf.object("matrix",e),m.typeOf.object("result",t);var i=e[0],n=e[3],r=e[6],o=e[1],s=e[4],a=e[7],u=e[2],c=e[5],l=e[8];return t[0]=i,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=a,t[6]=u,t[7]=c,t[8]=l,t};var p=[1,0,0],g=[2,2,1];function u(e){for(var t=0,i=0;i<3;++i){var n=e[N.getElementIndex(g[i],p[i])];t+=2*n*n}return Math.sqrt(t)}function l(e,t){for(var i=d.EPSILON15,n=0,r=1,o=0;o<3;++o){var s=Math.abs(e[N.getElementIndex(g[o],p[o])]);n<s&&(r=o,n=s)}var a=1,u=0,c=p[r],l=g[r];if(Math.abs(e[N.getElementIndex(l,c)])>i){var h,f=(e[N.getElementIndex(l,l)]-e[N.getElementIndex(c,c)])/2/e[N.getElementIndex(l,c)];u=(h=f<0?-1/(-f+Math.sqrt(1+f*f)):1/(f+Math.sqrt(1+f*f)))*(a=1/Math.sqrt(1+h*h))}return(t=N.clone(N.IDENTITY,t))[N.getElementIndex(c,c)]=t[N.getElementIndex(l,l)]=a,t[N.getElementIndex(l,c)]=u,t[N.getElementIndex(c,l)]=-u,t}var h=new N,M=new N;return N.computeEigenDecomposition=function(e,t){m.typeOf.object("matrix",e);var i=d.EPSILON20,n=0,r=0;v(t)||(t={});for(var o=t.unitary=N.clone(N.IDENTITY,t.unitary),s=t.diagonal=N.clone(e,t.diagonal),a=i*function(e){for(var t=0,i=0;i<9;++i){var n=e[i];t+=n*n}return Math.sqrt(t)}(s);r<10&&u(s)>a;)l(s,h),N.transpose(h,M),N.multiply(s,h,s),N.multiply(M,s,s),N.multiply(o,h,o),2<++n&&(++r,n=0);return t},N.abs=function(e,t){return m.typeOf.object("matrix",e),m.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},N.determinant=function(e){m.typeOf.object("matrix",e);var t=e[0],i=e[3],n=e[6],r=e[1],o=e[4],s=e[7],a=e[2],u=e[5],c=e[8];return t*(o*c-u*s)+r*(u*n-i*c)+a*(i*s-o*n)},N.inverse=function(e,t){m.typeOf.object("matrix",e),m.typeOf.object("result",t);var i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8],h=N.determinant(e);if(Math.abs(h)<=d.EPSILON15)throw new f("matrix is not invertible");return t[0]=s*l-c*a,t[1]=c*r-n*l,t[2]=n*a-s*r,t[3]=u*a-o*l,t[4]=i*l-u*r,t[5]=o*r-i*a,t[6]=o*c-u*s,t[7]=u*n-i*c,t[8]=i*s-o*n,N.multiplyByScalar(t,1/h,t)},N.equals=function(e,t){return e===t||v(e)&&v(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},N.equalsEpsilon=function(e,t,i){return m.typeOf.number("epsilon",i),e===t||v(e)&&v(t)&&Math.abs(e[0]-t[0])<=i&&Math.abs(e[1]-t[1])<=i&&Math.abs(e[2]-t[2])<=i&&Math.abs(e[3]-t[3])<=i&&Math.abs(e[4]-t[4])<=i&&Math.abs(e[5]-t[5])<=i&&Math.abs(e[6]-t[6])<=i&&Math.abs(e[7]-t[7])<=i&&Math.abs(e[8]-t[8])<=i},N.IDENTITY=t(new N(1,0,0,0,1,0,0,0,1)),N.ZERO=t(new N(0,0,0,0,0,0,0,0,0)),N.COLUMN0ROW0=0,N.COLUMN0ROW1=1,N.COLUMN0ROW2=2,N.COLUMN1ROW0=3,N.COLUMN1ROW1=4,N.COLUMN1ROW2=5,N.COLUMN2ROW0=6,N.COLUMN2ROW1=7,N.COLUMN2ROW2=8,e(N.prototype,{length:{get:function(){return N.packedLength}}}),N.prototype.clone=function(e){return N.clone(this,e)},N.prototype.equals=function(e){return N.equals(this,e)},N.equalsArray=function(e,t,i){return e[0]===t[i]&&e[1]===t[i+1]&&e[2]===t[i+2]&&e[3]===t[i+3]&&e[4]===t[i+4]&&e[5]===t[i+5]&&e[6]===t[i+6]&&e[7]===t[i+7]&&e[8]===t[i+8]},N.prototype.equalsEpsilon=function(e,t){return N.equalsEpsilon(this,e,t)},N.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},N}),(0,t.amdDefine)("2d",["5"],function(t){"use strict";function e(e){var t;this.name="RuntimeError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}return t(Object.create)&&((e.prototype=Object.create(Error.prototype)).constructor=e),e.prototype.toString=function(){var e=this.name+": "+this.message;return t(this.stack)&&(e+="\n"+this.stack.toString()),e},e}),(0,t.amdDefine)("29",["20","36","1e","15","5","6","11","d","28","2d"],function(w,H,K,y,I,e,t,W,X,Z){"use strict";function J(e,t,i,n,r,o,s,a,u,c,l,h,f,d,p,g){this[0]=y(e,0),this[1]=y(r,0),this[2]=y(u,0),this[3]=y(f,0),this[4]=y(t,0),this[5]=y(o,0),this[6]=y(c,0),this[7]=y(d,0),this[8]=y(i,0),this[9]=y(s,0),this[10]=y(l,0),this[11]=y(p,0),this[12]=y(n,0),this[13]=y(a,0),this[14]=y(h,0),this[15]=y(g,0)}J.packedLength=16,J.pack=function(e,t,i){return K.typeOf.object("value",e),K.defined("array",t),i=y(i,0),t[i++]=e[0],t[i++]=e[1],t[i++]=e[2],t[i++]=e[3],t[i++]=e[4],t[i++]=e[5],t[i++]=e[6],t[i++]=e[7],t[i++]=e[8],t[i++]=e[9],t[i++]=e[10],t[i++]=e[11],t[i++]=e[12],t[i++]=e[13],t[i++]=e[14],t[i]=e[15],t},J.unpack=function(e,t,i){return K.defined("array",e),t=y(t,0),I(i)||(i=new J),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i[4]=e[t++],i[5]=e[t++],i[6]=e[t++],i[7]=e[t++],i[8]=e[t++],i[9]=e[t++],i[10]=e[t++],i[11]=e[t++],i[12]=e[t++],i[13]=e[t++],i[14]=e[t++],i[15]=e[t],i},J.clone=function(e,t){if(I(e))return I(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new J(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},J.fromArray=J.unpack,J.fromColumnMajorArray=function(e,t){return K.defined("values",e),J.clone(e,t)},J.fromRowMajorArray=function(e,t){return K.defined("values",e),I(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new J(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},J.fromRotationTranslation=function(e,t,i){return K.typeOf.object("rotation",e),t=y(t,w.ZERO),I(i)?(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=0,i[4]=e[3],i[5]=e[4],i[6]=e[5],i[7]=0,i[8]=e[6],i[9]=e[7],i[10]=e[8],i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,i):new J(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},J.fromTranslationQuaternionRotationScale=function(e,t,i,n){K.typeOf.object("translation",e),K.typeOf.object("rotation",t),K.typeOf.object("scale",i),I(n)||(n=new J);var r=i.x,o=i.y,s=i.z,a=t.x*t.x,u=t.x*t.y,c=t.x*t.z,l=t.x*t.w,h=t.y*t.y,f=t.y*t.z,d=t.y*t.w,p=t.z*t.z,g=t.z*t.w,M=t.w*t.w,y=a-h-p+M,A=2*(u-g),E=2*(c+d),w=2*(u+g),m=-a+h-p+M,v=2*(f-l),N=2*(c-d),D=2*(f+l),T=-a-h+p+M;return n[0]=y*r,n[1]=w*r,n[2]=N*r,n[3]=0,n[4]=A*o,n[5]=m*o,n[6]=D*o,n[7]=0,n[8]=E*s,n[9]=v*s,n[10]=T*s,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n},J.fromTranslationRotationScale=function(e,t){return K.typeOf.object("translationRotationScale",e),J.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},J.fromTranslation=function(e,t){return K.typeOf.object("translation",e),J.fromRotationTranslation(X.IDENTITY,e,t)},J.fromScale=function(e,t){return K.typeOf.object("scale",e),I(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new J(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},J.fromUniformScale=function(e,t){return K.typeOf.number("scale",e),I(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new J(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var m=new w,v=new w,N=new w;J.fromCamera=function(e,t){K.typeOf.object("camera",e);var i=e.position,n=e.direction,r=e.up;K.typeOf.object("camera.position",i),K.typeOf.object("camera.direction",n),K.typeOf.object("camera.up",r),w.normalize(n,m),w.normalize(w.cross(m,r,v),v),w.normalize(w.cross(v,m,N),N);var o=v.x,s=v.y,a=v.z,u=m.x,c=m.y,l=m.z,h=N.x,f=N.y,d=N.z,p=i.x,g=i.y,M=i.z,y=o*-p+s*-g+a*-M,A=h*-p+f*-g+d*-M,E=u*p+c*g+l*M;return I(t)?(t[0]=o,t[1]=h,t[2]=-u,t[3]=0,t[4]=s,t[5]=f,t[6]=-c,t[7]=0,t[8]=a,t[9]=d,t[10]=-l,t[11]=0,t[12]=y,t[13]=A,t[14]=E,t[15]=1,t):new J(o,s,a,y,h,f,d,A,-u,-c,-l,E,0,0,0,1)},J.computePerspectiveFieldOfView=function(e,t,i,n,r){K.typeOf.number.greaterThan("fovY",e,0),K.typeOf.number.lessThan("fovY",e,Math.PI),K.typeOf.number.greaterThan("near",i,0),K.typeOf.number.greaterThan("far",n,0),K.typeOf.object("result",r);var o=1/Math.tan(.5*e),s=o/t,a=(n+i)/(i-n),u=2*n*i/(i-n);return r[0]=s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=o,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=a,r[11]=-1,r[12]=0,r[13]=0,r[14]=u,r[15]=0,r},J.computeOrthographicOffCenter=function(e,t,i,n,r,o,s){K.typeOf.number("left",e),K.typeOf.number("right",t),K.typeOf.number("bottom",i),K.typeOf.number("top",n),K.typeOf.number("near",r),K.typeOf.number("far",o),K.typeOf.object("result",s);var a=1/(t-e),u=1/(n-i),c=1/(o-r),l=-(t+e)*a,h=-(n+i)*u,f=-(o+r)*c;return a*=2,u*=2,c*=-2,s[0]=a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=c,s[11]=0,s[12]=l,s[13]=h,s[14]=f,s[15]=1,s},J.computePerspectiveOffCenter=function(e,t,i,n,r,o,s){K.typeOf.number("left",e),K.typeOf.number("right",t),K.typeOf.number("bottom",i),K.typeOf.number("top",n),K.typeOf.number("near",r),K.typeOf.number("far",o),K.typeOf.object("result",s);var a=2*r/(t-e),u=2*r/(n-i),c=(t+e)/(t-e),l=(n+i)/(n-i),h=-(o+r)/(o-r),f=-2*o*r/(o-r);return s[0]=a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=c,s[9]=l,s[10]=h,s[11]=-1,s[12]=0,s[13]=0,s[14]=f,s[15]=0,s},J.computeInfinitePerspectiveOffCenter=function(e,t,i,n,r,o){K.typeOf.number("left",e),K.typeOf.number("right",t),K.typeOf.number("bottom",i),K.typeOf.number("top",n),K.typeOf.number("near",r),K.typeOf.object("result",o);var s=2*r/(t-e),a=2*r/(n-i),u=(t+e)/(t-e),c=(n+i)/(n-i),l=-2*r;return o[0]=s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=u,o[9]=c,o[10]=-1,o[11]=-1,o[12]=0,o[13]=0,o[14]=l,o[15]=0,o},J.computeViewportTransformation=function(e,t,i,n){K.typeOf.object("result",n),e=y(e,y.EMPTY_OBJECT);var r=y(e.x,0),o=y(e.y,0),s=y(e.width,0),a=y(e.height,0);t=y(t,0);var u=.5*s,c=.5*a,l=.5*((i=y(i,1))-t),h=u,f=c,d=l,p=r+u,g=o+c,M=t+l;return n[0]=h,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=f,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=d,n[11]=0,n[12]=p,n[13]=g,n[14]=M,n[15]=1,n},J.computeView=function(e,t,i,n,r){return K.typeOf.object("position",e),K.typeOf.object("direction",t),K.typeOf.object("up",i),K.typeOf.object("right",n),K.typeOf.object("result",r),r[0]=n.x,r[1]=i.x,r[2]=-t.x,r[3]=0,r[4]=n.y,r[5]=i.y,r[6]=-t.y,r[7]=0,r[8]=n.z,r[9]=i.z,r[10]=-t.z,r[11]=0,r[12]=-w.dot(n,e),r[13]=-w.dot(i,e),r[14]=w.dot(t,e),r[15]=1,r},J.toArray=function(e,t){return K.typeOf.object("matrix",e),I(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},J.getElementIndex=function(e,t){return K.typeOf.number.greaterThanOrEquals("row",t,0),K.typeOf.number.lessThanOrEquals("row",t,3),K.typeOf.number.greaterThanOrEquals("column",e,0),K.typeOf.number.lessThanOrEquals("column",e,3),4*e+t},J.getColumn=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.number.greaterThanOrEquals("index",t,0),K.typeOf.number.lessThanOrEquals("index",t,3),K.typeOf.object("result",i);var n=4*t,r=e[n],o=e[n+1],s=e[n+2],a=e[n+3];return i.x=r,i.y=o,i.z=s,i.w=a,i},J.setColumn=function(e,t,i,n){K.typeOf.object("matrix",e),K.typeOf.number.greaterThanOrEquals("index",t,0),K.typeOf.number.lessThanOrEquals("index",t,3),K.typeOf.object("cartesian",i),K.typeOf.object("result",n);var r=4*t;return(n=J.clone(e,n))[r]=i.x,n[r+1]=i.y,n[r+2]=i.z,n[r+3]=i.w,n},J.setTranslation=function(e,t,i){return K.typeOf.object("matrix",e),K.typeOf.object("translation",t),K.typeOf.object("result",i),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=e[15],i},J.getRow=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.number.greaterThanOrEquals("index",t,0),K.typeOf.number.lessThanOrEquals("index",t,3),K.typeOf.object("result",i);var n=e[t],r=e[t+4],o=e[t+8],s=e[t+12];return i.x=n,i.y=r,i.z=o,i.w=s,i},J.setRow=function(e,t,i,n){return K.typeOf.object("matrix",e),K.typeOf.number.greaterThanOrEquals("index",t,0),K.typeOf.number.lessThanOrEquals("index",t,3),K.typeOf.object("cartesian",i),K.typeOf.object("result",n),(n=J.clone(e,n))[t]=i.x,n[t+4]=i.y,n[t+8]=i.z,n[t+12]=i.w,n};var i=new w;J.getScale=function(e,t){return K.typeOf.object("matrix",e),K.typeOf.object("result",t),t.x=w.magnitude(w.fromElements(e[0],e[1],e[2],i)),t.y=w.magnitude(w.fromElements(e[4],e[5],e[6],i)),t.z=w.magnitude(w.fromElements(e[8],e[9],e[10],i)),t};var n=new w;J.getMaximumScale=function(e){return J.getScale(e,n),w.maximumComponent(n)},J.multiply=function(e,t,i){K.typeOf.object("left",e),K.typeOf.object("right",t),K.typeOf.object("result",i);var n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=e[9],d=e[10],p=e[11],g=e[12],M=e[13],y=e[14],A=e[15],E=t[0],w=t[1],m=t[2],v=t[3],N=t[4],D=t[5],T=t[6],I=t[7],O=t[8],S=t[9],L=t[10],_=t[11],j=t[12],x=t[13],b=t[14],C=t[15],R=n*E+a*w+h*m+g*v,z=r*E+u*w+f*m+M*v,P=o*E+c*w+d*m+y*v,U=s*E+l*w+p*m+A*v,B=n*N+a*D+h*T+g*I,k=r*N+u*D+f*T+M*I,F=o*N+c*D+d*T+y*I,Q=s*N+l*D+p*T+A*I,Y=n*O+a*S+h*L+g*_,q=r*O+u*S+f*L+M*_,G=o*O+c*S+d*L+y*_,V=s*O+l*S+p*L+A*_,H=n*j+a*x+h*b+g*C,W=r*j+u*x+f*b+M*C,X=o*j+c*x+d*b+y*C,Z=s*j+l*x+p*b+A*C;return i[0]=R,i[1]=z,i[2]=P,i[3]=U,i[4]=B,i[5]=k,i[6]=F,i[7]=Q,i[8]=Y,i[9]=q,i[10]=G,i[11]=V,i[12]=H,i[13]=W,i[14]=X,i[15]=Z,i},J.add=function(e,t,i){return K.typeOf.object("left",e),K.typeOf.object("right",t),K.typeOf.object("result",i),i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i[4]=e[4]+t[4],i[5]=e[5]+t[5],i[6]=e[6]+t[6],i[7]=e[7]+t[7],i[8]=e[8]+t[8],i[9]=e[9]+t[9],i[10]=e[10]+t[10],i[11]=e[11]+t[11],i[12]=e[12]+t[12],i[13]=e[13]+t[13],i[14]=e[14]+t[14],i[15]=e[15]+t[15],i},J.subtract=function(e,t,i){return K.typeOf.object("left",e),K.typeOf.object("right",t),K.typeOf.object("result",i),i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i[4]=e[4]-t[4],i[5]=e[5]-t[5],i[6]=e[6]-t[6],i[7]=e[7]-t[7],i[8]=e[8]-t[8],i[9]=e[9]-t[9],i[10]=e[10]-t[10],i[11]=e[11]-t[11],i[12]=e[12]-t[12],i[13]=e[13]-t[13],i[14]=e[14]-t[14],i[15]=e[15]-t[15],i},J.multiplyTransformation=function(e,t,i){K.typeOf.object("left",e),K.typeOf.object("right",t),K.typeOf.object("result",i);var n=e[0],r=e[1],o=e[2],s=e[4],a=e[5],u=e[6],c=e[8],l=e[9],h=e[10],f=e[12],d=e[13],p=e[14],g=t[0],M=t[1],y=t[2],A=t[4],E=t[5],w=t[6],m=t[8],v=t[9],N=t[10],D=t[12],T=t[13],I=t[14],O=n*g+s*M+c*y,S=r*g+a*M+l*y,L=o*g+u*M+h*y,_=n*A+s*E+c*w,j=r*A+a*E+l*w,x=o*A+u*E+h*w,b=n*m+s*v+c*N,C=r*m+a*v+l*N,R=o*m+u*v+h*N,z=n*D+s*T+c*I+f,P=r*D+a*T+l*I+d,U=o*D+u*T+h*I+p;return i[0]=O,i[1]=S,i[2]=L,i[3]=0,i[4]=_,i[5]=j,i[6]=x,i[7]=0,i[8]=b,i[9]=C,i[10]=R,i[11]=0,i[12]=z,i[13]=P,i[14]=U,i[15]=1,i},J.multiplyByMatrix3=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.object("rotation",t),K.typeOf.object("result",i);var n=e[0],r=e[1],o=e[2],s=e[4],a=e[5],u=e[6],c=e[8],l=e[9],h=e[10],f=t[0],d=t[1],p=t[2],g=t[3],M=t[4],y=t[5],A=t[6],E=t[7],w=t[8],m=n*f+s*d+c*p,v=r*f+a*d+l*p,N=o*f+u*d+h*p,D=n*g+s*M+c*y,T=r*g+a*M+l*y,I=o*g+u*M+h*y,O=n*A+s*E+c*w,S=r*A+a*E+l*w,L=o*A+u*E+h*w;return i[0]=m,i[1]=v,i[2]=N,i[3]=0,i[4]=D,i[5]=T,i[6]=I,i[7]=0,i[8]=O,i[9]=S,i[10]=L,i[11]=0,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i},J.multiplyByTranslation=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.object("translation",t),K.typeOf.object("result",i);var n=t.x,r=t.y,o=t.z,s=n*e[0]+r*e[4]+o*e[8]+e[12],a=n*e[1]+r*e[5]+o*e[9]+e[13],u=n*e[2]+r*e[6]+o*e[10]+e[14];return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=s,i[13]=a,i[14]=u,i[15]=e[15],i};var r=new w;J.multiplyByUniformScale=function(e,t,i){return K.typeOf.object("matrix",e),K.typeOf.number("scale",t),K.typeOf.object("result",i),r.x=t,r.y=t,r.z=t,J.multiplyByScale(e,r,i)},J.multiplyByScale=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.object("scale",t),K.typeOf.object("result",i);var n=t.x,r=t.y,o=t.z;return 1===n&&1===r&&1===o?J.clone(e,i):(i[0]=n*e[0],i[1]=n*e[1],i[2]=n*e[2],i[3]=0,i[4]=r*e[4],i[5]=r*e[5],i[6]=r*e[6],i[7]=0,i[8]=o*e[8],i[9]=o*e[9],i[10]=o*e[10],i[11]=0,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=1,i)},J.multiplyByVector=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.object("cartesian",t),K.typeOf.object("result",i);var n=t.x,r=t.y,o=t.z,s=t.w,a=e[0]*n+e[4]*r+e[8]*o+e[12]*s,u=e[1]*n+e[5]*r+e[9]*o+e[13]*s,c=e[2]*n+e[6]*r+e[10]*o+e[14]*s,l=e[3]*n+e[7]*r+e[11]*o+e[15]*s;return i.x=a,i.y=u,i.z=c,i.w=l,i},J.multiplyByPointAsVector=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.object("cartesian",t),K.typeOf.object("result",i);var n=t.x,r=t.y,o=t.z,s=e[0]*n+e[4]*r+e[8]*o,a=e[1]*n+e[5]*r+e[9]*o,u=e[2]*n+e[6]*r+e[10]*o;return i.x=s,i.y=a,i.z=u,i},J.multiplyByPoint=function(e,t,i){K.typeOf.object("matrix",e),K.typeOf.object("cartesian",t),K.typeOf.object("result",i);var n=t.x,r=t.y,o=t.z,s=e[0]*n+e[4]*r+e[8]*o+e[12],a=e[1]*n+e[5]*r+e[9]*o+e[13],u=e[2]*n+e[6]*r+e[10]*o+e[14];return i.x=s,i.y=a,i.z=u,i},J.multiplyByScalar=function(e,t,i){return K.typeOf.object("matrix",e),K.typeOf.number("scalar",t),K.typeOf.object("result",i),i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i[4]=e[4]*t,i[5]=e[5]*t,i[6]=e[6]*t,i[7]=e[7]*t,i[8]=e[8]*t,i[9]=e[9]*t,i[10]=e[10]*t,i[11]=e[11]*t,i[12]=e[12]*t,i[13]=e[13]*t,i[14]=e[14]*t,i[15]=e[15]*t,i},J.negate=function(e,t){return K.typeOf.object("matrix",e),K.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},J.transpose=function(e,t){K.typeOf.object("matrix",e),K.typeOf.object("result",t);var i=e[1],n=e[2],r=e[3],o=e[6],s=e[7],a=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[10]=e[10],t[11]=e[14],t[12]=r,t[13]=s,t[14]=a,t[15]=e[15],t},J.abs=function(e,t){return K.typeOf.object("matrix",e),K.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},J.equals=function(e,t){return e===t||I(e)&&I(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},J.equalsEpsilon=function(e,t,i){return K.typeOf.number("epsilon",i),e===t||I(e)&&I(t)&&Math.abs(e[0]-t[0])<=i&&Math.abs(e[1]-t[1])<=i&&Math.abs(e[2]-t[2])<=i&&Math.abs(e[3]-t[3])<=i&&Math.abs(e[4]-t[4])<=i&&Math.abs(e[5]-t[5])<=i&&Math.abs(e[6]-t[6])<=i&&Math.abs(e[7]-t[7])<=i&&Math.abs(e[8]-t[8])<=i&&Math.abs(e[9]-t[9])<=i&&Math.abs(e[10]-t[10])<=i&&Math.abs(e[11]-t[11])<=i&&Math.abs(e[12]-t[12])<=i&&Math.abs(e[13]-t[13])<=i&&Math.abs(e[14]-t[14])<=i&&Math.abs(e[15]-t[15])<=i},J.getTranslation=function(e,t){return K.typeOf.object("matrix",e),K.typeOf.object("result",t),t.x=e[12],t.y=e[13],t.z=e[14],t},J.getRotation=function(e,t){return K.typeOf.object("matrix",e),K.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var $=new X,ee=new X,te=new H,ie=new H(0,0,0,1);return J.inverse=function(e,t){if(K.typeOf.object("matrix",e),K.typeOf.object("result",t),X.equalsEpsilon(J.getRotation(e,$),ee,W.EPSILON7)&&H.equals(J.getRow(e,3,te),ie))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;var i=e[0],n=e[4],r=e[8],o=e[12],s=e[1],a=e[5],u=e[9],c=e[13],l=e[2],h=e[6],f=e[10],d=e[14],p=e[3],g=e[7],M=e[11],y=e[15],A=f*y,E=d*M,w=h*y,m=d*g,v=h*M,N=f*g,D=l*y,T=d*p,I=l*M,O=f*p,S=l*g,L=h*p,_=A*a+m*u+v*c-(E*a+w*u+N*c),j=E*s+D*u+O*c-(A*s+T*u+I*c),x=w*s+T*a+S*c-(m*s+D*a+L*c),b=N*s+I*a+L*u-(v*s+O*a+S*u),C=E*n+w*r+N*o-(A*n+m*r+v*o),R=A*i+T*r+I*o-(E*i+D*r+O*o),z=m*i+D*n+L*o-(w*i+T*n+S*o),P=v*i+O*n+S*r-(N*i+I*n+L*r),U=(A=r*c)*g+(m=o*a)*M+(v=n*u)*y-((E=o*u)*g+(w=n*c)*M+(N=r*a)*y),B=E*p+(D=i*c)*M+(O=r*s)*y-(A*p+(T=o*s)*M+(I=i*u)*y),k=w*p+T*g+(S=i*a)*y-(m*p+D*g+(L=n*s)*y),F=N*p+I*g+L*M-(v*p+O*g+S*M),Q=w*f+N*d+E*h-(v*d+A*h+m*f),Y=I*d+A*l+T*f-(D*f+O*d+E*l),q=D*h+L*d+m*l-(S*d+w*l+T*h),G=S*f+v*l+O*h-(I*h+L*f+N*l),V=i*_+n*j+r*x+o*b;if(Math.abs(V)<W.EPSILON20)throw new Z("matrix is not invertible because its determinate is zero.");return V=1/V,t[0]=_*V,t[1]=j*V,t[2]=x*V,t[3]=b*V,t[4]=C*V,t[5]=R*V,t[6]=z*V,t[7]=P*V,t[8]=U*V,t[9]=B*V,t[10]=k*V,t[11]=F*V,t[12]=Q*V,t[13]=Y*V,t[14]=q*V,t[15]=G*V,t},J.inverseTransformation=function(e,t){K.typeOf.object("matrix",e),K.typeOf.object("result",t);var i=e[0],n=e[1],r=e[2],o=e[4],s=e[5],a=e[6],u=e[8],c=e[9],l=e[10],h=e[12],f=e[13],d=e[14],p=-i*h-n*f-r*d,g=-o*h-s*f-a*d,M=-u*h-c*f-l*d;return t[0]=i,t[1]=o,t[2]=u,t[3]=0,t[4]=n,t[5]=s,t[6]=c,t[7]=0,t[8]=r,t[9]=a,t[10]=l,t[11]=0,t[12]=p,t[13]=g,t[14]=M,t[15]=1,t},J.IDENTITY=t(new J(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),J.ZERO=t(new J(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),J.COLUMN0ROW0=0,J.COLUMN0ROW1=1,J.COLUMN0ROW2=2,J.COLUMN0ROW3=3,J.COLUMN1ROW0=4,J.COLUMN1ROW1=5,J.COLUMN1ROW2=6,J.COLUMN1ROW3=7,J.COLUMN2ROW0=8,J.COLUMN2ROW1=9,J.COLUMN2ROW2=10,J.COLUMN2ROW3=11,J.COLUMN3ROW0=12,J.COLUMN3ROW1=13,J.COLUMN3ROW2=14,J.COLUMN3ROW3=15,e(J.prototype,{length:{get:function(){return J.packedLength}}}),J.prototype.clone=function(e){return J.clone(this,e)},J.prototype.equals=function(e){return J.equals(this,e)},J.equalsArray=function(e,t,i){return e[0]===t[i]&&e[1]===t[i+1]&&e[2]===t[i+2]&&e[3]===t[i+3]&&e[4]===t[i+4]&&e[5]===t[i+5]&&e[6]===t[i+6]&&e[7]===t[i+7]&&e[8]===t[i+8]&&e[9]===t[i+9]&&e[10]===t[i+10]&&e[11]===t[i+11]&&e[12]===t[i+12]&&e[13]===t[i+13]&&e[14]===t[i+14]&&e[15]===t[i+15]},J.prototype.equalsEpsilon=function(e,t){return J.equalsEpsilon(this,e,t)},J.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},J}),(0,t.amdDefine)("82",["11"],function(e){"use strict";return e({NONE:0,BITS12:1})}),(0,t.amdDefine)("79",["7e","a","20","81","15","5","d","29","82"],function(g,M,E,a,w,m,y,v,N){"use strict";var D=new E,T=new E,A=new M,I=new v,O=new v,S=Math.pow(2,12);function i(e,t,i,n,r,o){var s,a,u,c;if(m(e)&&m(t)&&m(i)&&m(n)){var l=e.minimum,h=e.maximum,f=E.subtract(h,l,T),d=i-t;s=Math.max(E.maximumComponent(f),d)<S-1?N.BITS12:N.NONE,a=e.center,u=v.inverseTransformation(n,new v);var p=E.negate(l,D);v.multiply(v.fromTranslation(p,I),u,u);var g=D;g.x=1/f.x,g.y=1/f.y,g.z=1/f.z,v.multiply(v.fromScale(g,I),u,u),c=v.clone(n),v.setTranslation(c,E.ZERO,c),n=v.clone(n,new v);var M=v.fromTranslation(l,I),y=v.fromScale(f,O),A=v.multiply(M,y,I);v.multiply(n,A,n),v.multiply(c,A,c)}this.quantization=s,this.minimumHeight=t,this.maximumHeight=i,this.center=a,this.toScaledENU=u,this.fromScaledENU=n,this.matrix=c,this.hasVertexNormals=r,this.hasWebMercatorT=w(o,!1)}i.prototype.encode=function(e,t,i,n,r,o,s){var a=n.x,u=n.y;if(this.quantization===N.BITS12){(i=v.multiplyByPoint(this.toScaledENU,i,D)).x=y.clamp(i.x,0,1),i.y=y.clamp(i.y,0,1),i.z=y.clamp(i.z,0,1);var c=this.maximumHeight-this.minimumHeight,l=y.clamp((r-this.minimumHeight)/c,0,1);M.fromElements(i.x,i.y,A);var h=g.compressTextureCoordinates(A);M.fromElements(i.z,l,A);var f=g.compressTextureCoordinates(A);M.fromElements(a,u,A);var d=g.compressTextureCoordinates(A);if(e[t++]=h,e[t++]=f,e[t++]=d,this.hasWebMercatorT){M.fromElements(s,0,A);var p=g.compressTextureCoordinates(A);e[t++]=p}}else E.subtract(i,this.center,D),e[t++]=D.x,e[t++]=D.y,e[t++]=D.z,e[t++]=r,e[t++]=a,e[t++]=u,this.hasWebMercatorT&&(e[t++]=s);return this.hasVertexNormals&&(e[t++]=g.octPackFloat(o)),t},i.prototype.decodePosition=function(e,t,i){if(m(i)||(i=new E),t*=this.getStride(),this.quantization===N.BITS12){var n=g.decompressTextureCoordinates(e[t],A);i.x=n.x,i.y=n.y;var r=g.decompressTextureCoordinates(e[t+1],A);return i.z=r.x,v.multiplyByPoint(this.fromScaledENU,i,i)}return i.x=e[t],i.y=e[t+1],i.z=e[t+2],E.add(i,this.center,i)},i.prototype.decodeTextureCoordinates=function(e,t,i){return m(i)||(i=new M),t*=this.getStride(),this.quantization===N.BITS12?g.decompressTextureCoordinates(e[t+2],i):M.fromElements(e[t+4],e[t+5],i)},i.prototype.decodeHeight=function(e,t){return t*=this.getStride(),this.quantization===N.BITS12?g.decompressTextureCoordinates(e[t+1],A).y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight:e[t+3]},i.prototype.getOctEncodedNormal=function(e,t,i){var n=e[t=(t+1)*this.getStride()-1]/256,r=Math.floor(n),o=256*(n-r);return M.fromElements(r,o,i)},i.prototype.getStride=function(){var e;switch(this.quantization){case N.BITS12:e=3;break;default:e=6}return this.hasWebMercatorT&&++e,this.hasVertexNormals&&++e,e};var u={position3DAndHeight:0,textureCoordAndEncodedNormals:1},c={compressed0:0,compressed1:1};return i.prototype.getAttributes=function(e){var t,i=a.FLOAT,n=a.getSizeInBytes(i);if(this.quantization===N.NONE){var r=2;return this.hasWebMercatorT&&++r,this.hasVertexNormals&&++r,[{index:u.position3DAndHeight,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:4,offsetInBytes:0,strideInBytes:t=(4+r)*n},{index:u.textureCoordAndEncodedNormals,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:r,offsetInBytes:4*n,strideInBytes:t}]}var o=3,s=0;return(this.hasWebMercatorT||this.hasVertexNormals)&&++o,this.hasWebMercatorT&&this.hasVertexNormals?[{index:c.compressed0,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:o,offsetInBytes:0,strideInBytes:t=(o+ ++s)*n},{index:c.compressed1,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:s,offsetInBytes:o*n,strideInBytes:t}]:[{index:c.compressed0,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:o}]},i.prototype.getAttributeLocations=function(){return this.quantization===N.NONE?u:c},i.clone=function(e,t){return m(t)||(t=new i),t.quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=E.clone(e.center),t.toScaledENU=v.clone(e.toScaledENU),t.fromScaledENU=v.clone(e.fromScaledENU),t.matrix=v.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t.hasWebMercatorT=e.hasWebMercatorT,t},i}),(0,t.amdDefine)("83",["15"],function(h){"use strict";return function(e,t,i,n,r,o,s,a,u,c,l){this.center=e,this.vertices=t,this.stride=h(a,6),this.indices=i,this.minimumHeight=n,this.maximumHeight=r,this.boundingSphere3D=o,this.occludeePointInScaledSpace=s,this.orientedBoundingBox=u,this.encoding=c,this.exaggeration=l}}),(0,t.amdDefine)("84",[],function(){var e=function(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};return e.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++)e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0},e.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i;for(this.mti==this.N+1&&this.init_genrand(5489),i=0;i<this.N-this.M;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^e>>>1^t[1&e];for(;i<this.N-1;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},e.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},e}),(0,t.amdDefine)("11",["5"],function(e){"use strict";var t=Object.freeze;return e(t)||(t=function(e){return e}),t}),(0,t.amdDefine)("15",["11"],function(e){"use strict";function t(e,t){return null!=e?e:t}return t.EMPTY_OBJECT=e({}),t}),(0,t.amdDefine)("d",["84","15","5","7"],function(t,o,s,a){"use strict";var n={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,sign:function(e){return 0<e?1:e<0?-1:0},signNotZero:function(e){return e<0?-1:1},toSNorm:function(e,t){return t=o(t,255),Math.round((.5*n.clamp(e,-1,1)+.5)*t)},fromSNorm:function(e,t){return t=o(t,255),n.clamp(e,0,t)/t*2-1},sinh:function(e){return.5*(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))},cosh:function(e){return.5*(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))},lerp:function(e,t,i){return(1-i)*e+i*t}};n.PI=Math.PI,n.ONE_OVER_PI=1/Math.PI,n.PI_OVER_TWO=.5*Math.PI,n.PI_OVER_THREE=Math.PI/3,n.PI_OVER_FOUR=Math.PI/4,n.PI_OVER_SIX=Math.PI/6,n.THREE_PI_OVER_TWO=3*Math.PI*.5,n.TWO_PI=2*Math.PI,n.ONE_OVER_TWO_PI=1/(2*Math.PI),n.RADIANS_PER_DEGREE=Math.PI/180,n.DEGREES_PER_RADIAN=180/Math.PI,n.RADIANS_PER_ARCSECOND=n.RADIANS_PER_DEGREE/3600,n.toRadians=function(e){if(!s(e))throw new a("degrees is required.");return e*n.RADIANS_PER_DEGREE},n.toDegrees=function(e){if(!s(e))throw new a("radians is required.");return e*n.DEGREES_PER_RADIAN},n.convertLongitudeRange=function(e){if(!s(e))throw new a("angle is required.");var t=n.TWO_PI,i=e-Math.floor(e/t)*t;return i<-Math.PI?i+t:i>=Math.PI?i-t:i},n.clampToLatitudeRange=function(e){if(!s(e))throw new a("angle is required.");return n.clamp(e,-1*n.PI_OVER_TWO,n.PI_OVER_TWO)},n.negativePiToPi=function(e){if(!s(e))throw new a("angle is required.");return n.zeroToTwoPi(e+n.PI)-n.PI},n.zeroToTwoPi=function(e){if(!s(e))throw new a("angle is required.");var t=n.mod(e,n.TWO_PI);return Math.abs(t)<n.EPSILON14&&Math.abs(e)>n.EPSILON14?n.TWO_PI:t},n.mod=function(e,t){if(!s(e))throw new a("m is required.");if(!s(t))throw new a("n is required.");return(e%t+t)%t},n.equalsEpsilon=function(e,t,i,n){if(!s(e))throw new a("left is required.");if(!s(t))throw new a("right is required.");if(!s(i))throw new a("relativeEpsilon is required.");n=o(n,i);var r=Math.abs(e-t);return r<=n||r<=i*Math.max(Math.abs(e),Math.abs(t))};var r=[1];n.factorial=function(e){if("number"!=typeof e||e<0)throw new a("A number greater than or equal to 0 is required.");var t=r.length;if(t<=e)for(var i=r[t-1],n=t;n<=e;n++)r.push(i*n);return r[e]},n.incrementWrap=function(e,t,i){if(i=o(i,0),!s(e))throw new a("n is required.");if(t<=i)throw new a("maximumValue must be greater than minimumValue.");return t<++e&&(e=i),e},n.isPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new a("A number greater than or equal to 0 is required.");return 0!==e&&0==(e&e-1)},n.nextPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new a("A number greater than or equal to 0 is required.");return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},n.clamp=function(e,t,i){if(!s(e))throw new a("value is required");if(!s(t))throw new a("min is required.");if(!s(i))throw new a("max is required.");return e<t?t:i<e?i:e};var i=new t;return n.setRandomNumberSeed=function(e){if(!s(e))throw new a("seed is required.");i=new t(e)},n.nextRandomNumber=function(){return i.random()},n.randomBetween=function(e,t){return n.nextRandomNumber()*(t-e)+e},n.acosClamped=function(e){if(!s(e))throw new a("value is required.");return Math.acos(n.clamp(e,-1,1))},n.asinClamped=function(e){if(!s(e))throw new a("value is required.");return Math.asin(n.clamp(e,-1,1))},n.chordLength=function(e,t){if(!s(e))throw new a("angle is required.");if(!s(t))throw new a("radius is required.");return 2*t*Math.sin(.5*e)},n.logBase=function(e,t){if(!s(e))throw new a("number is required.");if(!s(t))throw new a("base is required.");return Math.log(e)/Math.log(t)},n.fog=function(e,t){var i=e*t;return 1-Math.exp(-i*i)},n}),(0,t.amdDefine)("85",["5","6","7","d"],function(f,e,d,p){"use strict";function n(){d.throwInstantiationError()}e(n.prototype,{errorEvent:{get:d.throwInstantiationError},credit:{get:d.throwInstantiationError},tilingScheme:{get:d.throwInstantiationError},ready:{get:d.throwInstantiationError},readyPromise:{get:d.throwInstantiationError},hasWaterMask:{get:d.throwInstantiationError},hasVertexNormals:{get:d.throwInstantiationError},availability:{get:d.throwInstantiationError}});var g=[];return n.getRegularGridIndices=function(e,t){if(e*t>=p.SIXTY_FOUR_KILOBYTES)throw new d("The total number of vertices (width * height) must be less than 65536.");var i=g[e];f(i)||(g[e]=i=[]);var n=i[t];if(!f(n)){n=i[t]=new Uint16Array((e-1)*(t-1)*6);for(var r=0,o=0,s=0;s<t-1;++s){for(var a=0;a<e-1;++a){var u=r,c=u+e,l=c+1,h=u+1;n[o++]=u,n[o++]=c,n[o++]=h,n[o++]=h,n[o++]=c,n[o++]=l,++r}++r}}return n},n.heightmapTerrainQuality=.25,n.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(e,t,i){return 2*e.maximumRadius*Math.PI*n.heightmapTerrainQuality/(t*i)},n.prototype.requestTileGeometry=d.throwInstantiationError,n.prototype.getLevelMaximumGeometricError=d.throwInstantiationError,n.prototype.getTileDataAvailable=d.throwInstantiationError,n}),(0,t.amdDefine)("86",["4d","15","5","6","7","58","78","d","55","7d","79","83","85"],function(d,p,L,e,_,g,n,j,M,t,y,A,E){"use strict";function x(e){if(!L(e)||!L(e.buffer))throw new _("options.buffer is required.");if(!L(e.width))throw new _("options.width is required.");if(!L(e.height))throw new _("options.height is required.");this._buffer=e.buffer,this._width=e.width,this._height=e.height,this._childTileMask=p(e.childTileMask,15);var t=n.DEFAULT_STRUCTURE,i=e.structure;L(i)?i!==t&&(i.heightScale=p(i.heightScale,t.heightScale),i.heightOffset=p(i.heightOffset,t.heightOffset),i.elementsPerHeight=p(i.elementsPerHeight,t.elementsPerHeight),i.stride=p(i.stride,t.stride),i.elementMultiplier=p(i.elementMultiplier,t.elementMultiplier),i.isBigEndian=p(i.isBigEndian,t.isBigEndian)):i=t,this._structure=i,this._createdByUpsampling=p(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0}e(x.prototype,{credits:{get:function(){}},waterMask:{get:function(){return this._waterMask}}});var w=new t("createVerticesFromHeightmap");function b(e,t,i,n,r,o,s,a,u,c,l){var h=(u-o.west)*(s-1)/(o.east-o.west),f=(c-o.south)*(a-1)/(o.north-o.south);0<r&&(h+=1,f+=1,s+=2,a+=2);var d=0|h,p=d+1;(0<r?s-1:s)<=p&&(p=s-1,d=s-2);var g=0|f,M=g+1;(0<r?a-1:a)<=M&&(M=a-1,g=a-2);var y=f-g;return g=a-1-g,M=a-1-M,v(h-d,y,(t.decodeHeight(e,g*s+d)/l-i)/n,(t.decodeHeight(e,g*s+p)/l-i)/n,(t.decodeHeight(e,M*s+d)/l-i)/n,(t.decodeHeight(e,M*s+p)/l-i)/n)}function v(e,t,i,n,r,o){return t<e?i+e*(n-i)+t*(o-n):i+e*(o-r)+t*(r-i)}function N(e,t,i,n,r,o){o*=n;var s,a=0;if(r)for(s=0;s<t;++s)a=a*i+e[o+s];else for(s=t-1;0<=s;--s)a=a*i+e[o+s];return a}function C(e,t,i,n,r,o,s,a){var u;if(s*=r,o)for(u=0;u<t-1;++u)e[s+u]=a/n|0,a-=e[s+u]*n,n/=i;else for(u=t-1;0<u;--u)e[s+u]=a/n|0,a-=e[s+u]*n,n/=i;e[s+u]=a}return x.prototype.createMesh=function(e,t,i,n,r){if(!L(e))throw new _("tilingScheme is required.");if(!L(t))throw new _("x is required.");if(!L(i))throw new _("y is required.");if(!L(n))throw new _("level is required.");var o=e.ellipsoid,s=e.tileXYToNativeRectangle(t,i,n),a=e.tileXYToRectangle(t,i,n);r=p(r,1);var u=o.cartographicToCartesian(M.center(a)),c=this._structure,l=E.getEstimatedLevelZeroGeometricErrorForAHeightmap(o,this._width,e.getNumberOfXTilesAtLevel(0))/(1<<n);this._skirtHeight=Math.min(4*l,1e3);var h=w.scheduleTask({heightmap:this._buffer,structure:c,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:s,rectangle:a,relativeToCenter:u,ellipsoid:o,skirtHeight:this._skirtHeight,isGeographic:e instanceof g,exaggeration:r});if(L(h)){var f=this;return d(h,function(e){return f._mesh=new A(u,new Float32Array(e.vertices),E.getRegularGridIndices(e.gridWidth,e.gridHeight),e.minimumHeight,e.maximumHeight,e.boundingSphere3D,e.occludeePointInScaledSpace,e.numberOfAttributes,e.orientedBoundingBox,y.clone(e.encoding),r),f._buffer=void 0,f._mesh})}},x.prototype.interpolateHeight=function(e,t,i){var n=this._width,r=this._height,o=this._structure,s=o.stride,a=o.elementsPerHeight,u=o.elementMultiplier,c=o.isBigEndian,l=o.heightOffset,h=o.heightScale;return L(this._mesh)?b(this._mesh.vertices,this._mesh.encoding,l,h,this._skirtHeight,e,n,r,t,i,this._mesh.exaggeration):function(e,t,i,n,r,o,s,a,u,c){var l=(u-o.west)*(s-1)/(o.east-o.west),h=(c-o.south)*(a-1)/(o.north-o.south),f=0|l,d=f+1;s<=d&&(d=s-1,f=s-2);var p=0|h,g=p+1;a<=g&&(g=a-1,p=a-2);var M=l-f,y=h-p;g=a-1-g;var A=N(e,t,i,n,r,(p=a-1-p)*s+f),E=N(e,t,i,n,r,p*s+d),w=N(e,t,i,n,r,g*s+f),m=N(e,t,i,n,r,g*s+d);return v(M,y,A,E,w,m)}(this._buffer,a,u,s,c,e,n,r,t,i)*h+l},x.prototype.upsample=function(e,t,i,n,r,o,s){if(!L(e))throw new _("tilingScheme is required.");if(!L(t))throw new _("thisX is required.");if(!L(i))throw new _("thisY is required.");if(!L(n))throw new _("thisLevel is required.");if(!L(r))throw new _("descendantX is required.");if(!L(o))throw new _("descendantY is required.");if(!L(s))throw new _("descendantLevel is required.");if(1<s-n)throw new _("Upsampling through more than one level at a time is not currently supported.");var a=this._width,u=this._height,c=this._structure,l=this._skirtHeight,h=c.stride,f=new this._bufferType(a*u*h),d=this._mesh;if(L(d)){for(var p=d.vertices,g=d.encoding,M=e.tileXYToRectangle(t,i,n),y=e.tileXYToRectangle(r,o,s),A=c.heightOffset,E=c.heightScale,w=d.exaggeration,m=c.elementsPerHeight,v=c.elementMultiplier,N=c.isBigEndian,D=Math.pow(v,m-1),T=0;T<u;++T)for(var I=j.lerp(y.north,y.south,T/(u-1)),O=0;O<a;++O){var S=b(p,g,A,E,l,M,a,u,j.lerp(y.west,y.east,O/(a-1)),I,w);C(f,m,v,D,h,N,T*a+O,S=(S=S<c.lowestEncodedHeight?c.lowestEncodedHeight:S)>c.highestEncodedHeight?c.highestEncodedHeight:S)}return new x({buffer:f,width:a,height:u,childTileMask:0,structure:this._structure,createdByUpsampling:!0})}},x.prototype.isChildAvailable=function(e,t,i,n){if(!L(e))throw new _("thisX is required.");if(!L(t))throw new _("thisY is required.");if(!L(i))throw new _("childX is required.");if(!L(n))throw new _("childY is required.");var r=2;return i!==2*e&&++r,n!==2*t&&(r-=2),0!=(this._childTileMask&1<<r)},x.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},x}),(0,t.amdDefine)("6",["5"],function(e){"use strict";var t=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),i=Object.defineProperties;return t&&e(i)||(i=function(e){return e}),i}),(0,t.amdDefine)("87",["5","6","7"],function(u,e,c){"use strict";var l=0,h={};function t(e,t,i){var n,r=u(i),o=u(t),s=u(e);if(!s&&!o&&!r)throw new c("text, imageUrl or link is required");s||o||(e=i),this._text=e,this._imageUrl=t,this._link=i,this._hasLink=r,this._hasImage=o;var a=JSON.stringify([e,t,i]);u(h[a])?n=h[a]:(n=l++,h[a]=n),this._id=n}return e(t.prototype,{text:{get:function(){return this._text}},imageUrl:{get:function(){return this._imageUrl}},link:{get:function(){return this._link}},id:{get:function(){return this._id}}}),t.prototype.hasImage=function(){return this._hasImage},t.prototype.hasLink=function(){return this._hasLink},t.equals=function(e,t){return e===t||u(e)&&u(t)&&e._id===t._id},t.prototype.equals=function(e){return t.equals(this,e)},t}),function(e){"use strict";e("4d",[],function(){var i,n,l;function y(e,t,i,n){return h(e).then(t,i,n)}function h(e){var t,i,n;return e instanceof f?t=e:r(e)?(i=A(),e.then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.progress(e)}),t=i.promise):(n=e,t=new f(function(e){try{return h(e?e(n):n)}catch(e){return d(e)}})),t}function f(e){this.then=e}function d(i){return new f(function(e,t){try{return t?h(t(i)):d(i)}catch(e){return d(e)}})}function A(){var e,s,a,n,t,i;return e=new f(r),s=[],a=[],n=function(t,i,n){var r,o;return r=A(),o="function"==typeof n?function(e){try{r.progress(n(e))}catch(e){r.progress(e)}}:function(e){r.progress(e)},s.push(function(e){e.then(t,i).then(r.resolve,r.reject,o)}),a.push(o),r.promise},t=function(e){return p(a,e),e},i=function(e){return e=h(e),n=e.then,i=h,t=E,p(s,e),a=s=l,e},{then:r,resolve:o,reject:u,progress:c,promise:e,resolver:{resolve:o,reject:u,progress:c}};function r(e,t,i){return n(e,t,i)}function o(e){return i(e)}function u(e){return i(d(e))}function c(e){return t(e)}}function r(e){return e&&"function"==typeof e.then}function o(e,d,p,g,M){return u(2,arguments),y(e,function(e){var t,i,n,r,o,s,a,u,c,l;if(c=e.length>>>0,t=Math.max(0,Math.min(d,c)),n=[],i=c-t+1,r=[],o=A(),t)for(u=o.progress,a=function(e){r.push(e),--i||(s=a=E,o.reject(r))},s=function(e){n.push(e),--t||(s=a=E,o.resolve(n))},l=0;l<c;++l)l in e&&y(e[l],f,h,u);else o.resolve(n);return o.then(p,g,M);function h(e){a(e)}function f(e){s(e)}})}function s(e,t,i,n){return u(1,arguments),a(e,c).then(t,i,n)}function a(e,a){return y(e,function(e){var i,t,n,r,o,s;if(n=t=e.length>>>0,i=[],s=A(),n)for(r=function(e,t){y(e,a).then(function(e){i[t]=e,--n||s.resolve(i)},s.reject)},o=0;o<t;o++)o in e?r(e[o],o):--n;else s.resolve(i);return s.promise})}function p(e,t){for(var i,n=0;i=e[n++];)i(t)}function u(e,t){for(var i,n=t.length;e<n;)if(null!=(i=t[--n])&&"function"!=typeof i)throw new Error("arg "+n+" must be a function")}function E(){}function c(e){return e}return y.defer=A,y.resolve=h,y.reject=function(e){return y(e,d)},y.join=function(){return a(arguments,c)},y.all=s,y.map=a,y.reduce=function(e,o){var t=n.call(arguments,1);return y(e,function(e){var r;return r=e.length,t[0]=function(e,i,n){return y(e,function(t){return y(i,function(e){return o(t,e,n,r)})})},i.apply(e,t)})},y.any=function(e,t,i,n){return o(e,1,function(e){return t?t(e[0]):e[0]},i,n)},y.some=o,y.chain=function(e,t,i){var n=2<arguments.length;return y(e,function(e){return e=n?i:e,t.resolve(e),e},function(e){return t.reject(e),d(e)},t.progress)},y.isPromise=r,f.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(l,e)},yield:function(e){return this.then(function(){return e})},spread:function(t){return this.then(function(e){return s(e,function(e){return t.apply(l,e)})})}},n=[].slice,i=[].reduce||function(e){var t,i,n,r,o;if(o=0,r=(t=Object(this)).length>>>0,(i=arguments).length<=1)for(;;){if(o in t){n=t[o++];break}if(++o>=r)throw new TypeError}else n=i[1];for(;o<r;++o)o in t&&(n=e(n,t[o],o,t));return n},y})}("function"==typeof(e=t.amdDefine)&&e.amd?e:function(e){"object"==typeof i?n.exports=e():this.when=e()}),(0,t.amdDefine)("5",[],function(){"use strict";return function(e){return null!=e}}),(0,t.amdDefine)("7",["5"],function(t){"use strict";function e(e){var t;this.name="DeveloperError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}return t(Object.create)&&((e.prototype=Object.create(Error.prototype)).constructor=e),e.prototype.toString=function(){var e=this.name+": "+this.message;return t(this.stack)&&(e+="\n"+this.stack.toString()),e},e.throwInstantiationError=function(){throw new e("This function defines an interface and should not be called directly.")},e}),(0,t.amdDefine)("1e",["5","7"],function(i,r){"use strict";var o={};function n(e,t,i){return"Expected "+i+" to be typeof "+t+", actual typeof was "+e}return o.typeOf={},o.defined=function(e,t){if(!i(t))throw new r(e+" is required, actual value was undefined")},o.typeOf.func=function(e,t){if("function"!=typeof t)throw new r(n(typeof t,"function",e))},o.typeOf.string=function(e,t){if("string"!=typeof t)throw new r(n(typeof t,"string",e))},o.typeOf.number=function(e,t){if("number"!=typeof t)throw new r(n(typeof t,"number",e))},o.typeOf.number.lessThan=function(e,t,i){if(o.typeOf.number(e,t),i<=t)throw new r("Expected "+e+" to be less than "+i+", actual value was "+t)},o.typeOf.number.lessThanOrEquals=function(e,t,i){if(o.typeOf.number(e,t),i<t)throw new r("Expected "+e+" to be less than or equal to "+i+", actual value was "+t)},o.typeOf.number.greaterThan=function(e,t,i){if(o.typeOf.number(e,t),t<=i)throw new r("Expected "+e+" to be greater than "+i+", actual value was "+t)},o.typeOf.number.greaterThanOrEquals=function(e,t,i){if(o.typeOf.number(e,t),t<i)throw new r("Expected "+e+" to be greater than or equal to"+i+", actual value was "+t)},o.typeOf.object=function(e,t){if("object"!=typeof t)throw new r(n(typeof t,"object",e))},o.typeOf.bool=function(e,t){if("boolean"!=typeof t)throw new r(n(typeof t,"boolean",e))},o.typeOf.number.equals=function(e,t,i,n){if(o.typeOf.number(e,i),o.typeOf.number(t,n),i!==n)throw new r(e+" must be equal to "+t+", the actual values are "+i+" and "+n)},o}),(0,t.amdDefine)("88",["4d","1e"],function(p,e){"use strict";function g(e){var n=e.positions,r=e.tilingScheme.tileXYToRectangle(e.x,e.y,e.level);return function(e){for(var t=0;t<n.length;++t){var i=n[t];i.height=e.interpolateHeight(r,i.longitude,i.latitude)}}}function M(e){var t=e.positions;return function(){for(var e=0;e<t.length;++e)t[e].height=void 0}}return function(t,i,n){e.typeOf.object("terrainProvider",t),e.typeOf.number("level",i),e.defined("positions",n);var r=p.defer();return function e(){t.ready?p(function(e,t,i){var n,r=e.tilingScheme,o=[],s={};for(n=0;n<i.length;++n){var a=r.positionToTileXY(i[n],t),u=a.toString();if(!s.hasOwnProperty(u)){var c={x:a.x,y:a.y,level:t,tilingScheme:r,terrainProvider:e,positions:[]};s[u]=c,o.push(c)}s[u].positions.push(i[n])}var l=[];for(n=0;n<o.length;++n){var h=o[n],f=h.terrainProvider.requestTileGeometry(h.x,h.y,h.level),d=p(f,g(h),M(h));l.push(d)}return p.all(l,function(){return i})}(t,i,n),function(e){r.resolve(e)}):setTimeout(e,10)}(),r.promise}}),t.registerDynamic("89",["8a","8b","8c"],!0,function(e,t,i){this||self;var n=e("8a"),m=e("8b"),o=e("8c"),r=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),s=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function a(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,m.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=m.linkProgram(e,r,s,this.attribs),this.uniforms=m.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new n(e))}return a.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},a.prototype.onResize=function(){var e=this.gl,t=this,i=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];o(e,i,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},a.prototype.patch=function(){if(!this.isPatched){var r=this,e=this.gl.canvas,o=this.gl;m.isIOS()||(e.width=m.getScreenWidth()*this.bufferScale,e.height=m.getScreenHeight()*this.bufferScale,Object.defineProperty(e,"width",{configurable:!0,enumerable:!0,get:function(){return r.bufferWidth},set:function(e){r.bufferWidth=e,r.onResize()}}),Object.defineProperty(e,"height",{configurable:!0,enumerable:!0,get:function(){return r.bufferHeight},set:function(e){r.bufferHeight=e,r.onResize()}})),this.lastBoundFramebuffer=o.getParameter(o.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(o.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(e,t){r.lastBoundFramebuffer=t||r.framebuffer,r.realBindFramebuffer.call(o,e,r.lastBoundFramebuffer)},this.cullFace=o.getParameter(o.CULL_FACE),this.depthTest=o.getParameter(o.DEPTH_TEST),this.blend=o.getParameter(o.BLEND),this.scissorTest=o.getParameter(o.SCISSOR_TEST),this.stencilTest=o.getParameter(o.STENCIL_TEST),o.enable=function(e){switch(e){case o.CULL_FACE:r.cullFace=!0;break;case o.DEPTH_TEST:r.depthTest=!0;break;case o.BLEND:r.blend=!0;break;case o.SCISSOR_TEST:r.scissorTest=!0;break;case o.STENCIL_TEST:r.stencilTest=!0}r.realEnable.call(o,e)},o.disable=function(e){switch(e){case o.CULL_FACE:r.cullFace=!1;break;case o.DEPTH_TEST:r.depthTest=!1;break;case o.BLEND:r.blend=!1;break;case o.SCISSOR_TEST:r.scissorTest=!1;break;case o.STENCIL_TEST:r.stencilTest=!1}r.realDisable.call(o,e)},this.colorMask=o.getParameter(o.COLOR_WRITEMASK),o.colorMask=function(e,t,i,n){r.colorMask[0]=e,r.colorMask[1]=t,r.colorMask[2]=i,r.colorMask[3]=n,r.realColorMask.call(o,e,t,i,n)},this.clearColor=o.getParameter(o.COLOR_CLEAR_VALUE),o.clearColor=function(e,t,i,n){r.clearColor[0]=e,r.clearColor[1]=t,r.clearColor[2]=i,r.clearColor[3]=n,r.realClearColor.call(o,e,t,i,n)},this.viewport=o.getParameter(o.VIEWPORT),o.viewport=function(e,t,i,n){r.viewport[0]=e,r.viewport[1]=t,r.viewport[2]=i,r.viewport[3]=n,r.realViewport.call(o,e,t,i,n)},this.isPatched=!0,m.safariCssSizeWorkaround(e)}},a.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;m.isIOS()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){m.safariCssSizeWorkaround(t)},1)}},a.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},a.prototype.submitFrame=function(){var e=this.gl,t=this,i=[];if(WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||i.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),o(e,i,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||m.isIOS())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),m.isIOS()){var n=e.canvas;n.width==t.bufferWidth&&n.height==t.bufferHeight||(t.bufferWidth=n.width,t.bufferHeight=n.height,t.onResize())}},a.prototype.updateDeviceInfo=function(n){var e=this.gl,r=this,t=[e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING];o(e,t,function(e){var t=r.computeMeshVertices_(r.meshWidth,r.meshHeight,n);if(e.bindBuffer(e.ARRAY_BUFFER,r.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),!r.indexCount){var i=r.computeMeshIndices_(r.meshWidth,r.meshHeight);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,i,e.STATIC_DRAW),r.indexCount=i.length}})},a.prototype.computeMeshVertices_=function(e,t,i){for(var n=new Float32Array(2*e*t*5),r=i.getLeftEyeVisibleTanAngles(),o=i.getLeftEyeNoLensTanAngles(),s=i.getLeftEyeVisibleScreenRect(o),a=0,u=0;u<2;u++){for(var c=0;c<t;c++)for(var l=0;l<e;l++,a++){var h=l/(e-1),f=c/(t-1),d=h,p=f,g=m.lerp(r[0],r[2],h),M=m.lerp(r[3],r[1],f),y=Math.sqrt(g*g+M*M),A=i.distortion.distortInverse(y),E=M*A/y;h=(g*A/y-o[0])/(o[2]-o[0]),f=(E-o[3])/(o[1]-o[3]);i.device.widthMeters,i.device.heightMeters;h=2*(s.x+h*s.width-.5),f=2*(s.y+f*s.height-.5),n[5*a+0]=h,n[5*a+1]=f,n[5*a+2]=d,n[5*a+3]=p,n[5*a+4]=u}var w=r[2]-r[0];r[0]=-(w+r[0]),r[2]=w-r[2],w=o[2]-o[0],o[0]=-(w+o[0]),o[2]=w-o[2],s.x=1-(s.x+s.width)}return n},a.prototype.computeMeshIndices_=function(e,t){for(var i=new Uint16Array(2*(e-1)*(t-1)*6),n=e/2,r=t/2,o=0,s=0,a=0;a<2;a++)for(var u=0;u<t;u++)for(var c=0;c<e;c++,o++)0!=c&&0!=u&&(c<=n==u<=r?(i[s++]=o,i[s++]=o-e-1,i[s++]=o-e,i[s++]=o-e-1,i[s++]=o,i[s++]=o-1):(i[s++]=o-1,i[s++]=o-e,i[s++]=o,i[s++]=o-e,i[s++]=o-1,i[s++]=o-e-1));return i},a.prototype.getOwnPropertyDescriptor_=function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(t)},i.set=function(e){this.setAttribute(t,e)}),i},i.exports=a,i.exports}),t.registerDynamic("8c",[],!0,function(e,t,i){this||self;return i.exports=function(e,t,i){if(t){for(var n=[],r=null,o=0;o<t.length;++o)switch(s=t[o]){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:if((u=t[++o])<e.TEXTURE0||u>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),n.push(null,null);break}r||(r=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(u),n.push(e.getParameter(s),null);break;case e.ACTIVE_TEXTURE:r=e.getParameter(e.ACTIVE_TEXTURE),n.push(null);break;default:n.push(e.getParameter(s))}for(i(e),o=0;o<t.length;++o){var s=t[o],a=n[o];switch(s){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,a);break;case e.COLOR_CLEAR_VALUE:e.clearColor(a[0],a[1],a[2],a[3]);break;case e.COLOR_WRITEMASK:e.colorMask(a[0],a[1],a[2],a[3]);break;case e.CURRENT_PROGRAM:e.useProgram(a);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,a);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,a);break;case e.TEXTURE_BINDING_2D:if((u=t[++o])<e.TEXTURE0||u>e.TEXTURE31)break;e.activeTexture(u),e.bindTexture(e.TEXTURE_2D,a);break;case e.TEXTURE_BINDING_CUBE_MAP:var u;if((u=t[++o])<e.TEXTURE0||u>e.TEXTURE31)break;e.activeTexture(u),e.bindTexture(e.TEXTURE_CUBE_MAP,a);break;case e.VIEWPORT:e.viewport(a[0],a[1],a[2],a[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:a?e.enable(s):e.disable(s);break;default:console.log("No GL restore behavior for 0x"+s.toString(16))}r&&e.activeTexture(r)}}else i(e)},i.exports}),t.registerDynamic("8a",["8b","8c"],!0,function(e,t,i){this||self;var p=e("8b"),n=e("8c"),r=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),o=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),g=Math.PI/180,M=.3125;function s(e){this.gl=e,this.attribs={position:0},this.program=p.linkProgram(e,r,o,this.attribs),this.uniforms=p.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}return s.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},s.prototype.listen=function(i,n){var r=this.gl.canvas;this.listener=function(e){var t=r.clientWidth/2;e.clientX>t-42&&e.clientX<t+42&&e.clientY>r.clientHeight-42?i(e):e.clientX<42&&e.clientY<42&&n(e)},r.addEventListener("click",this.listener,!1)},s.prototype.onResize=function(){var e=this.gl,d=this,t=[e.ARRAY_BUFFER_BINDING];n(e,t,function(i){var o=[],s=i.drawingBufferWidth/2,e=i.drawingBufferWidth/(screen.width*window.devicePixelRatio);p.isIOS()||(e*=window.devicePixelRatio);var t=4*e/2,n=42*e,a=28*e/2,r=14*e;function u(e,t){var i=(90-e)*g,n=Math.cos(i),r=Math.sin(i);o.push(M*n*a+s,M*r*a+a),o.push(t*n*a+s,t*r*a+a)}o.push(s-t,n),o.push(s-t,i.drawingBufferHeight),o.push(s+t,n),o.push(s+t,i.drawingBufferHeight),d.gearOffset=o.length/2;for(var c=0;c<=6;c++){var l=60*c;u(l,1),u(l+12,1),u(l+20,.75),u(l+40,.75),u(l+48,1)}function h(e,t){o.push(r+e,i.drawingBufferHeight-r-t)}d.gearVertexCount=o.length/2-d.gearOffset,d.arrowOffset=o.length/2;var f=t/Math.sin(45*g);h(0,a),h(a,0),h(a+f,f),h(f,a+f),h(f,a-f),h(0,a),h(a,2*a),h(a+f,2*a-f),h(f,a-f),h(0,a),h(f,a-t),h(28*e,a-t),h(f,a+t),h(28*e,a+t),d.arrowVertexCount=o.length/2-d.arrowOffset,i.bindBuffer(i.ARRAY_BUFFER,d.vertexBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(o),i.STATIC_DRAW)})},s.prototype.render=function(){var e=this.gl,t=this,i=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];n(e,i,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},s.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),p.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},i.exports=s,i.exports}),t.registerDynamic("8d",[],!0,function(e,t,i){this||self;return i.exports={format:1,last_updated:"2016-01-20T00:18:35Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 "}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 "}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3}]},i.exports}),t.registerDynamic("8e",["8d","8b"],!0,function(e,t,i){this||self;var r=e("8d"),c=e("8b"),o="https://storage.googleapis.com/cardboard-dpdb/dpdb.json";function n(e,t){if(this.dpdb=r,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t,console.log("Fetching DPDB...");var i=new XMLHttpRequest,n=this;i.open("GET",o,!0),i.addEventListener("load",function(){n.loading=!1,200<=i.status&&i.status<=299?(console.log("Successfully loaded online DPDB."),n.dpdb=JSON.parse(i.response),n.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),i.send()}}function l(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}return n.prototype.getDeviceParams=function(){return this.deviceParams},n.prototype.recalculateDeviceParams_=function(){console.log("Recalculating device params.");var e=this.calcDeviceParams_();console.log("New device parameters:"),console.log(e),e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},n.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,i=c.getScreenWidth(),n=c.getScreenHeight();if(console.log("User agent: "+t),console.log("Pixel width: "+i),console.log("Pixel height: "+n),!e.devices)return console.error("DPDB has no devices section."),null;for(var r=0;r<e.devices.length;r++){var o=e.devices[r];if(o.rules)if("ios"==o.type||"android"==o.type){if(c.isIOS()==("ios"==o.type)){for(var s=!1,a=0;a<o.rules.length;a++){var u=o.rules[a];if(this.matchRule_(u,t,i,n)){console.log("Rule matched:"),console.log(u),s=!0;break}}if(s)return new l({xdpi:o.dpi[0]||o.dpi,ydpi:o.dpi[1]||o.dpi,bevelMm:o.bw})}}else console.warn("Device["+r+"] has invalid type.");else console.warn("Device["+r+"] has no rules section.")}return console.warn("No DPDB device match."),null},n.prototype.matchRule_=function(e,t,i,n){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var r=e.res[0],o=e.res[1];if(Math.min(i,n)!=Math.min(r,o)||Math.max(i,n)!=Math.max(r,o))return!1}return!0},i.exports=n,i.exports}),t.registerDynamic("8f",[],!0,function(e,t,i){this||self;function n(e,t){this.set(e,t)}return n.prototype.set=function(e,t){this.sample=e,this.timestampS=t},n.prototype.copy=function(e){this.set(e.sample,e.timestampS)},i.exports=n,i.exports}),t.registerDynamic("90",["8f","91","8b"],!0,function(e,t,i){this||self;var n=e("8f"),o=e("91"),r=e("8b");function s(e){this.kFilter=e,this.currentAccelMeasurement=new n,this.currentGyroMeasurement=new n,this.previousGyroMeasurement=new n,r.isIOS()?this.filterQ=new o.Quaternion(-1,0,0,1):this.filterQ=new o.Quaternion(1,0,0,1),this.previousFilterQ=new o.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new o.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new o.Vector3,this.measuredGravity=new o.Vector3,this.gyroIntegralQ=new o.Quaternion}return s.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},s.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var i=t-this.previousGyroMeasurement.timestampS;r.isTimestampDeltaValid(i)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},s.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var i=new o.Quaternion;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var n=new o.Quaternion;n.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),n.inverse();var r=new o.Quaternion;r.copy(this.filterQ),r.multiply(n),this.filterQ.slerp(r,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},s.prototype.getOrientation=function(){return this.filterQ},s.prototype.accelToQuaternion_=function(e){var t=new o.Vector3;t.copy(e),t.normalize();var i=new o.Quaternion;return i.setFromUnitVectors(new o.Vector3(0,0,-1),t),i.inverse(),i},s.prototype.gyroToQuaternionDelta_=function(e,t){var i=new o.Quaternion,n=new o.Vector3;return n.copy(e),n.normalize(),i.setFromAxisAngle(n,e.length()*t),i},i.exports=s,i.exports}),t.registerDynamic("92",["91"],!0,function(e,t,i){this||self;var s=e("91");function n(e){this.predictionTimeS=e,this.previousQ=new s.Quaternion,this.previousTimestampS=null,this.deltaQ=new s.Quaternion,this.outQ=new s.Quaternion}return n.prototype.getPrediction=function(e,t,i){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=i,e;var n=new s.Vector3;n.copy(t),n.normalize();var r=t.length();if(r<20*s.degToRad)return this.outQ.copy(e),this.previousQ.copy(e),this.outQ;this.previousTimestampS;var o=r*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(n,o),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=i,this.outQ},i.exports=n,i.exports}),t.registerDynamic("93",["91","8b"],!0,function(e,t,i){this||self;var n=e("91"),r=e("8b");function o(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new n.Vector2,this.rotateEnd=new n.Vector2,this.rotateDelta=new n.Vector2,this.theta=0,this.orientation=new n.Quaternion}return o.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},o.prototype.resetSensor=function(){this.theta=0},o.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},o.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),r.isIOS()&&(this.rotateDelta.x*=-1);var t=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/t.clientWidth*.5}},o.prototype.onTouchEnd_=function(e){this.isTouching=!1},i.exports=o,i.exports}),t.registerDynamic("94",["90","92","93","91","8b"],!0,function(e,t,i){this||self;var n=e("90"),r=e("92"),o=e("93"),s=e("91"),a=e("8b");function u(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new s.Vector3,this.gyroscope=new s.Vector3,window.addEventListener("devicemotion",this.onDeviceMotionChange_.bind(this)),window.addEventListener("orientationchange",this.onScreenOrientationChange_.bind(this)),this.filter=new n(WebVRConfig.K_FILTER),this.posePredictor=new r(WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new o,this.filterToWorldQ=new s.Quaternion,a.isIOS()?this.filterToWorldQ.setFromAxisAngle(new s.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new s.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new s.Quaternion,this.worldToScreenQ=new s.Quaternion,this.originalPoseAdjustQ=new s.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new s.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),a.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new s.Quaternion,this.isFirefoxAndroid=a.isFirefoxAndroid(),this.isIOS=a.isIOS(),this.orientationOut_=new Float32Array(4)}return u.prototype.getPosition=function(){return null},u.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var t=new s.Quaternion;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||t.multiply(this.touchPanner.getOrientation()),t.multiply(this.predictedQ),t.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},u.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),a.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},u.prototype.onDeviceMotionChange_=function(e){var t=e.accelerationIncludingGravity,i=e.rotationRate,n=e.timeStamp/1e3;this.isFirefoxAndroid&&(n/=1e3);var r=n-this.previousTimestampS;if(r<=a.MIN_TIMESTEP||r>a.MAX_TIMESTEP)return console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=n);this.accelerometer.set(-t.x,-t.y,-t.z),this.gyroscope.set(i.alpha,i.beta,i.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,n),this.filter.addGyroMeasurement(this.gyroscope,n),this.previousTimestampS=n},u.prototype.onScreenOrientationChange_=function(e){this.setScreenTransform_()},u.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new s.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new s.Vector3(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},i.exports=u,i.exports}),t.registerDynamic("95",["8b"],!0,function(e,t,i){this||self;var n=e("8b");function r(){this.loadIcon_();var e=document.createElement("div");(o=e.style).position="fixed",o.top=0,o.right=0,o.bottom=0,o.left=0,o.backgroundColor="gray",o.fontFamily="sans-serif",o.zIndex=1e6;var t=document.createElement("img");t.src=this.icon,(o=t.style).marginLeft="25%",o.marginTop="25%",o.width="50%",e.appendChild(t);var i=document.createElement("div");(o=i.style).textAlign="center",o.fontSize="16px",o.lineHeight="24px",o.margin="24px 25%",o.width="50%",i.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(i);var n=document.createElement("div");(o=n.style).backgroundColor="#CFD8DC",o.position="fixed",o.bottom=0,o.width="100%",o.height="48px",o.padding="14px 24px",o.boxSizing="border-box",o.color="#656A6B",e.appendChild(n);var r=document.createElement("div");r.style.float="left",r.innerHTML="No Cardboard viewer?";var o,s=document.createElement("a");s.href="https://www.google.com/get/cardboard/get-cardboard/",s.innerHTML="get one",s.target="_blank",(o=s.style).float="right",o.fontWeight=600,o.textTransform="uppercase",o.borderLeft="1px solid gray",o.paddingLeft="24px",o.textDecoration="none",o.color="#656A6B",n.appendChild(r),n.appendChild(s),this.overlay=e,this.text=i,this.hide()}return r.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img").style;n.isLandscapeMode()?(t.width="20%",t.marginLeft="40%",t.marginTop="3%"):(t.width="50%",t.marginLeft="25%",t.marginTop="25%")},r.prototype.hide=function(){this.overlay.style.display="none"},r.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},r.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},r.prototype.update=function(){this.disableShowTemporarily(),!n.isLandscapeMode()&&n.isMobile()?this.show():this.hide()},r.prototype.loadIcon_=function(){this.icon=n.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")},i.exports=r,i.exports}),t.registerDynamic("96",[],!0,function(e,t,i){this||self;function n(){this.callbacks={}}return n.prototype.emit=function(e){var t=this.callbacks[e];if(t){var i=[].slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(this,i)}},n.prototype.on=function(e,t){e in this.callbacks?this.callbacks[e].push(t):this.callbacks[e]=[t]},i.exports=n,i.exports}),t.registerDynamic("97",[],!0,function(e,t,i){this||self;function c(e){this.coefficients=e}return c.prototype.distortInverse=function(e){for(var t=0,i=1,n=e-this.distort(t);1e-4<Math.abs(i-t);){var r=e-this.distort(i),o=i-r*((i-t)/(r-n));t=i,i=o,n=r}return i},c.prototype.distort=function(e){for(var t=e*e,i=0,n=0;n<this.coefficients.length;n++)i=t*(i+this.coefficients[n]);return(i+1)*e},c.prototype.solveLinear_=function(e,t){for(var i=e.length,n=0;n<i-1;++n)for(var r=n+1;r<i;++r){for(var o=e[n][r]/e[n][n],s=n+1;s<i;++s)e[s][r]-=o*e[s][n];t[r]-=o*t[n]}var a=new Array(i);for(n=i-1;0<=n;--n){var u=t[n];for(s=n+1;s<i;++s)u-=e[s][n]*a[s];a[n]=u/e[n][n]}return a},c.prototype.solveLeastSquares_=function(e,t){var i,n,r,o,s=e.length,a=e[0].length;if(s!=t.Length)throw new Error("Matrix / vector dimension mismatch");var u=new Array(a);for(r=0;r<a;++r)for(u[r]=new Array(a),n=0;n<a;++n){for(i=o=0;i<s;++i)o+=e[n][i]*e[r][i];u[r][n]=o}var c=new Array(a);for(n=0;n<a;++n){for(i=o=0;i<s;++i)o+=e[n][i]*t[i];c[n]=o}return this.solveLinear_(u,c)},c.prototype.approximateInverse=function(e,t){e=e||1,t=t||100;var i,n,r=new Array(6);for(n=0;n<6;++n)r[n]=new Array(t);var o=new Array(t);for(i=0;i<t;++i){var s=e*(i+1)/t,a=this.distort(s),u=a;for(n=0;n<6;++n)u*=a*a,r[n][i]=u;o[i]=s-a}return new c(this.solveLeastSquares_(r,o))},i.exports=c,i.exports}),t.registerDynamic("98",["97","91","8b"],!0,function(e,t,i){this||self;var n=e("97"),A=e("91"),r=e("8b");function o(e){this.width=e.width||r.getScreenWidth(),this.height=e.height||r.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}var s=new o({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),a=new o({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),u={CardboardV1:new l({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new l({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function c(e){this.viewer=u.CardboardV2,this.updateDeviceParams(e),this.distortion=new n(this.viewer.distortionCoefficients)}function l(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}return c.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},c.prototype.getDevice=function(){return this.device},c.prototype.setViewer=function(e){this.viewer=e,this.distortion=new n(this.viewer.distortionCoefficients)},c.prototype.determineDevice_=function(e){if(!e)return r.isIOS()?(console.warn("Using fallback iOS device measurements."),a):(console.warn("Using fallback Android device measurements."),s);var t=.0254/e.xdpi,i=.0254/e.ydpi;return new o({widthMeters:t*r.getScreenWidth(),heightMeters:i*r.getScreenHeight(),bevelMeters:.001*e.bevelMm})},c.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,i=this.distortion,n=e.screenLensDistance,r=(t.widthMeters-e.interLensDistance)/2,o=e.interLensDistance/2,s=e.baselineLensDistance-t.bevelMeters,a=t.heightMeters-s,u=A.radToDeg*Math.atan(i.distort(r/n)),c=A.radToDeg*Math.atan(i.distort(o/n)),l=A.radToDeg*Math.atan(i.distort(s/n)),h=A.radToDeg*Math.atan(i.distort(a/n));return{leftDegrees:Math.min(u,e.fov),rightDegrees:Math.min(c,e.fov),downDegrees:Math.min(l,e.fov),upDegrees:Math.min(h,e.fov)}},c.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,n=Math.tan(-A.degToRad*e.fov),r=Math.tan(A.degToRad*e.fov),o=Math.tan(A.degToRad*e.fov),s=Math.tan(-A.degToRad*e.fov),a=t.widthMeters/4,u=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-u,l=e.interLensDistance/2-a,h=-c,f=e.screenLensDistance,d=i.distort((l-a)/f),p=i.distort((h+u)/f),g=i.distort((l+a)/f),M=i.distort((h-u)/f),y=new Float32Array(4);return y[0]=Math.max(n,d),y[1]=Math.min(r,p),y[2]=Math.min(o,g),y[3]=Math.max(s,M),y},c.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,n=new Float32Array(4),r=i.distortInverse(Math.tan(-A.degToRad*e.fov)),o=i.distortInverse(Math.tan(A.degToRad*e.fov)),s=i.distortInverse(Math.tan(A.degToRad*e.fov)),a=i.distortInverse(Math.tan(-A.degToRad*e.fov)),u=t.widthMeters/4,c=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-c,h=e.interLensDistance/2-u,f=-l,d=e.screenLensDistance,p=(h-u)/d,g=(f+c)/d,M=(h+u)/d,y=(f-c)/d;return n[0]=Math.max(r,p),n[1]=Math.min(o,g),n[2]=Math.min(s,M),n[3]=Math.max(a,y),n},c.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,i=this.device,n=t.screenLensDistance,r=(i.widthMeters-t.interLensDistance)/2,o=t.baselineLensDistance-i.bevelMeters,s=(e[0]*n+r)/i.widthMeters,a=(e[1]*n+o)/i.heightMeters,u=(e[2]*n+r)/i.widthMeters,c=(e[3]*n+o)/i.heightMeters;return{x:s,y:c,width:u-s,height:a-c}},c.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},c.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},c.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:A.radToDeg*Math.atan(e.outerDist),rightDegrees:A.radToDeg*Math.atan(e.innerDist),downDegrees:A.radToDeg*Math.atan(e.bottomDist),upDegrees:A.radToDeg*Math.atan(e.topDist)}},c.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,i=this.device,n=t.screenLensDistance,r=i.widthMeters/n,o=i.heightMeters/n,s=i.width/r,a=i.height/o,u=Math.round((e.eyePosX-e.outerDist)*s),c=Math.round((e.eyePosY-e.bottomDist)*a);return{x:u,y:c,width:Math.round((e.eyePosX+e.innerDist)*s)-u,height:Math.round((e.eyePosY+e.topDist)*a)-c}},c.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,i=this.distortion,n=e.screenLensDistance,r=e.interLensDistance/2/n,o=t.widthMeters/n,s=t.heightMeters/n,a=o/2-r,u=(e.baselineLensDistance-t.bevelMeters)/n,c=e.fov,l=i.distortInverse(Math.tan(A.degToRad*c)),h=Math.min(a,l),f=Math.min(r,l),d=Math.min(u,l);return{outerDist:h,innerDist:f,topDist:Math.min(s-u,l),bottomDist:d,eyePosX:a,eyePosY:u}},c.Viewers=u,i.exports=c,i.exports}),t.registerDynamic("99",["96","8b","98"],!0,function(e,t,i){this||self;var n=e("96"),r=(e("8b"),e("98")),o="CardboardV1",s="WEBVR_CARDBOARD_VIEWER";function a(){try{this.selectedKey=localStorage.getItem(s)||o}catch(e){console.error("Failed to load viewer profile: %s",e)}this.dialog=this.createDialog_(r.Viewers),this.root=null}return(a.prototype=new n).show=function(e){(this.root=e).appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},a.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},a.prototype.getCurrentViewer=function(){return r.Viewers[this.selectedKey]},a.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},a.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&r.Viewers[this.selectedKey]){this.emit("change",r.Viewers[this.selectedKey]);try{localStorage.setItem(s,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},a.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add("webvr-polyfill-viewer-selector"),t.style.display="none";var i=document.createElement("div");(r=i.style).position="fixed",r.left=0,r.top=0,r.width="100%",r.height="100%",r.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var n=document.createElement("div"),r=n.style;for(var o in r.boxSizing="border-box",r.position="fixed",r.top="24px",r.left="50%",r.marginLeft="-140px",r.width="280px",r.padding="24px",r.overflow="hidden",r.background="#fafafa",r.fontFamily="'Roboto', sans-serif",r.boxShadow="0px 5px 20px #666",n.appendChild(this.createH1_("Select your viewer")),e)n.appendChild(this.createChoice_(o,e[o].label));return n.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(i),t.appendChild(n),t},a.prototype.createH1_=function(e){var t=document.createElement("h1"),i=t.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",t.innerHTML=e,t},a.prototype.createChoice_=function(e,t){var i=document.createElement("div");i.style.marginTop="8px",i.style.color="black";var n=document.createElement("input");n.style.fontSize="30px",n.setAttribute("id",e),n.setAttribute("type","radio"),n.setAttribute("value",e),n.setAttribute("name","field");var r=document.createElement("label");return r.style.marginLeft="4px",r.setAttribute("for",e),r.innerHTML=t,i.appendChild(n),i.appendChild(r),i},a.prototype.createButton_=function(e,t){var i=document.createElement("button");i.innerHTML=e;var n=i.style;return n.float="right",n.textTransform="uppercase",n.color="#1094f7",n.fontSize="14px",n.letterSpacing=0,n.border=0,n.background="none",n.marginTop="16px",i.addEventListener("click",t),i},i.exports=a,i.exports}),t.registerDynamic("9a",["89","8a","98","8e","94","95","99","9b","8b"],!0,function(e,t,i){this||self;var n=e("89"),r=e("8a"),o=e("98"),s=e("8e"),a=e("94"),u=e("95"),c=e("99"),l=e("9b").VRDisplay,h=e("8b"),f="left",d="right";function p(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new a,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new s(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new o(this.dpdb_.getDeviceParams()),this.viewerSelector_=new c,this.viewerSelector_.on("change",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new u),h.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}return(p.prototype=new l).getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},p.prototype.resetPose=function(){this.poseSensor_.resetPose()},p.prototype.getEyeParameters=function(e){var t,i=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==f)i[0]*=-1,t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=d)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:t,offset:i,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},p.prototype.onDeviceParamsUpdated_=function(e){console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},p.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},p.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=h.getScreenWidth()*this.bufferScale_,e.canvas.height=h.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new r(e)):(this.distorter_=new n(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(h.isLandscapeMode()&&h.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},p.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},p.prototype.submitFrame=function(e){if(this.distorter_)this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},p.prototype.onOrientationChange_=function(e){console.log("onOrientationChange_"),this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},p.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),i=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0"];t.canvas.setAttribute("style",i.join("; ")+";"),h.safariCssSizeWorkaround(t.canvas)}},p.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},p.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},i.exports=p,i.exports}),t.registerDynamic("91",[],!0,function(e,t,i){this||self;var n,r,o=window.MathUtil||{};return o.degToRad=Math.PI/180,o.radToDeg=180/Math.PI,o.Vector2=function(e,t){this.x=e||0,this.y=t||0},o.Vector2.prototype={constructor:o.Vector2,set:function(e,t){return this.x=e,this.y=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},o.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},o.Vector3.prototype={constructor:o.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,o=e.y,s=e.z,a=e.w,u=a*t+o*n-s*i,c=a*i+s*t-r*n,l=a*n+r*i-o*t,h=-r*t-o*i-s*n;return this.x=u*a+h*-r+c*-s-l*-o,this.y=c*a+h*-o+l*-r-u*-s,this.z=l*a+h*-s+u*-o-c*-r,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=n*a-r*s,this.y=r*o-i*a,this.z=i*s-n*o,this}},o.Quaternion=function(e,t,i,n){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==n?n:1},o.Quaternion.prototype={constructor:o.Quaternion,set:function(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,i){var n=Math.cos(e/2),r=Math.cos(t/2),o=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),u=Math.sin(i/2);return this.x=s*r*o+n*a*u,this.y=n*a*o-s*r*u,this.z=n*r*u+s*a*o,this.w=n*r*o-s*a*u,this},setFromEulerYXZ:function(e,t,i){var n=Math.cos(e/2),r=Math.cos(t/2),o=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),u=Math.sin(i/2);return this.x=s*r*o+n*a*u,this.y=n*a*o-s*r*u,this.z=n*r*u-s*a*o,this.w=n*r*o+s*a*u,this},setFromAxisAngle:function(e,t){var i=t/2,n=Math.sin(i);return this.x=e.x*n,this.y=e.y*n,this.z=e.z*n,this.w=Math.cos(i),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e.x,n=e.y,r=e.z,o=e.w,s=t.x,a=t.y,u=t.z,c=t.w;return this.x=i*c+o*s+n*u-r*a,this.y=n*c+o*a+r*s-i*u,this.z=r*c+o*u+i*a-n*s,this.w=o*c-i*s-n*a-r*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this.x,n=this.y,r=this.z,o=this.w,s=o*e.w+i*e.x+n*e.y+r*e.z;if(s<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,s=-s):this.copy(e),1<=s)return this.w=o,this.x=i,this.y=n,this.z=r,this;var a=Math.acos(s),u=Math.sqrt(1-s*s);if(Math.abs(u)<.001)return this.w=.5*(o+this.w),this.x=.5*(i+this.x),this.y=.5*(n+this.y),this.z=.5*(r+this.z),this;var c=Math.sin((1-t)*a)/u,l=Math.sin(t*a)/u;return this.w=o*c+this.w*l,this.x=i*c+this.x*l,this.y=n*c+this.y*l,this.z=r*c+this.z*l,this},setFromUnitVectors:function(e,t){return void 0===n&&(n=new o.Vector3),(r=e.dot(t)+1)<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?n.set(-e.y,e.x,0):n.set(0,-e.z,e.y)):n.crossVectors(e,t),this.x=n.x,this.y=n.y,this.z=n.z,this.w=r,this.normalize(),this}},i.exports=o,i.exports}),t.registerDynamic("9c",["9b","91","8b"],!0,function(e,t,i){this||self;var n=e("9b").VRDisplay,r=e("91"),o=e("8b");function s(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new r.Quaternion,this.rotateStart_=new r.Vector2,this.rotateEnd_=new r.Vector2,this.rotateDelta_=new r.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}return(s.prototype=new n).getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},s.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+.15):39==e.keyCode?this.animateTheta_(this.theta_-.15):40==e.keyCode?this.animatePhi_(this.phi_-.15):37==e.keyCode&&this.animateTheta_(this.theta_+.15)},s.prototype.animateTheta_=function(e){this.animateKeyTransitions_("theta_",e)},s.prototype.animatePhi_=function(e){e=o.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",e)},s.prototype.animateKeyTransitions_=function(n,r){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var o=this[n],s=new Date;this.angleAnimation_=requestAnimationFrame(function e(){var t=new Date-s;if(80<=t)return this[n]=r,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(e.bind(this));var i=t/80;this[n]=o+(r-o)*i}.bind(this))},s.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},s.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var t=e.movementX||e.mozMovementX||0,i=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-t,this.rotateStart_.y-i)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*.3,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*.5,this.phi_=o.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},s.prototype.onMouseUp_=function(e){this.isDragging_=!1},s.prototype.isPointerLocked_=function(){return void 0!==(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement)},s.prototype.resetPose=function(){this.phi_=0,this.theta_=0},i.exports=s,i.exports}),t.registerDynamic("9d",[],!0,function(e,t,i){"use strict";this||self;var u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;return i.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var s in i=Object(arguments[o]))u.call(i,s)&&(r[s]=i[s]);if(Object.getOwnPropertySymbols){n=Object.getOwnPropertySymbols(i);for(var a=0;a<n.length;a++)c.call(i,n[a])&&(r[n[a]]=i[n[a]])}}return r},i.exports}),t.registerDynamic("8b",["9d"],!0,function(e,t,i){this||self;var n,r,o,s=e("9d"),a=window.Util||{};return a.MIN_TIMESTEP=.001,a.MAX_TIMESTEP=1,a.base64=function(e,t){return"data:"+e+";base64,"+t},a.clamp=function(e,t,i){return Math.min(Math.max(t,e),i)},a.lerp=function(e,t,i){return e+(t-e)*i},a.isIOS=(n=/iPad|iPhone|iPod/.test(navigator.platform),function(){return n}),a.isSafari=(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),function(){return r}),a.isFirefoxAndroid=(o=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android"),function(){return o}),a.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},a.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=a.MIN_TIMESTEP)&&!(e>a.MAX_TIMESTEP))},a.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},a.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},a.requestFullscreen=function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},a.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},a.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},a.linkProgram=function(e,t,i,n){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,i),e.compileShader(o);var s=e.createProgram();for(var a in e.attachShader(s,r),e.attachShader(s,o),n)e.bindAttribLocation(s,n[a],a);return e.linkProgram(s),e.deleteShader(r),e.deleteShader(o),s},a.getProgramUniforms=function(e,t){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r="",o=0;o<n;o++){i[r=e.getActiveUniform(t,o).name.replace("[0]","")]=e.getUniformLocation(t,r)}return i},a.orthoMatrix=function(e,t,i,n,r,o,s){var a=1/(t-i),u=1/(n-r),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*a,e[13]=(r+n)*u,e[14]=(s+o)*c,e[15]=1,e},a.isMobile=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},a.extend=s,a.safariCssSizeWorkaround=function(e){if(a.isIOS()){var t=e.style.width,i=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(i)+"px",console.log("Resetting width to...",t),setTimeout(function(){console.log("Done. Width is now",t),e.style.width=t,e.style.height=i},100)}window.Util=a,window.canvas=e},a.frameDataFromPose=function(){var ee=Math.PI/180,te=.25*Math.PI;mat4_invert=function(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],g=t[13],M=t[14],y=t[15],A=i*a-n*s,E=i*u-r*s,w=i*c-o*s,m=n*u-r*a,v=n*c-o*a,N=r*c-o*u,D=l*g-h*p,T=l*M-f*p,I=l*y-d*p,O=h*M-f*g,S=h*y-d*g,L=f*y-d*M,_=A*L-E*S+w*O+m*I-v*T+N*D;return _?(_=1/_,e[0]=(a*L-u*S+c*O)*_,e[1]=(r*S-n*L-o*O)*_,e[2]=(g*N-M*v+y*m)*_,e[3]=(f*v-h*N-d*m)*_,e[4]=(u*I-s*L-c*T)*_,e[5]=(i*L-r*I+o*T)*_,e[6]=(M*w-p*N-y*E)*_,e[7]=(l*N-f*w+d*E)*_,e[8]=(s*S-a*I+c*D)*_,e[9]=(n*I-i*S-o*D)*_,e[10]=(p*v-g*w+y*A)*_,e[11]=(h*w-l*v-d*A)*_,e[12]=(a*T-s*O-u*D)*_,e[13]=(i*O-n*T+r*D)*_,e[14]=(g*E-p*m-M*A)*_,e[15]=(l*m-h*E+f*A)*_,e):null};var ie=new Float32Array([0,0,0,1]),ne=new Float32Array([0,0,0]);function n(e,t,i,n,r){var o,s,a,u,c,l,h,f,d,p;o=e,s=n?n.fieldOfView:null,a=r.depthNear,u=r.depthFar,c=Math.tan(s?s.upDegrees*ee:te),l=Math.tan(s?s.downDegrees*ee:te),h=Math.tan(s?s.leftDegrees*ee:te),f=Math.tan(s?s.rightDegrees*ee:te),d=2/(h+f),p=2/(c+l),o[0]=d,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=p,o[6]=0,o[7]=0,o[8]=-(h-f)*d*.5,o[9]=(c-l)*p*.5,o[10]=u/(a-u),o[11]=-1,o[12]=0,o[13]=0,o[14]=u*a/(a-u),o[15]=0;var g,M,y,A,E,w,m,v,N,D,T,I,O,S,L,_,j,x,b,C,R,z,P,U,B,k,F,Q,Y,q,G,V,H,W,X,Z,K,J=i.orientation||ie,$=i.position||ne;g=t,y=$,A=(M=J)[0],E=M[1],w=M[2],m=M[3],T=A*(v=A+A),I=A*(N=E+E),O=A*(D=w+w),S=E*N,L=E*D,_=w*D,j=m*v,x=m*N,b=m*D,g[0]=1-(S+_),g[1]=I+b,g[2]=O-x,g[3]=0,g[4]=I-b,g[5]=1-(T+_),g[6]=L+j,g[7]=0,g[8]=O+x,g[9]=L-j,g[10]=1-(T+S),g[11]=0,g[12]=y[0],g[13]=y[1],g[14]=y[2],g[15]=1,n&&(R=C=t,z=n.offset,X=z[0],Z=z[1],K=z[2],R===C?(C[12]=R[0]*X+R[4]*Z+R[8]*K+R[12],C[13]=R[1]*X+R[5]*Z+R[9]*K+R[13],C[14]=R[2]*X+R[6]*Z+R[10]*K+R[14],C[15]=R[3]*X+R[7]*Z+R[11]*K+R[15]):(P=R[0],U=R[1],B=R[2],k=R[3],F=R[4],Q=R[5],Y=R[6],q=R[7],G=R[8],V=R[9],H=R[10],W=R[11],C[0]=P,C[1]=U,C[2]=B,C[3]=k,C[4]=F,C[5]=Q,C[6]=Y,C[7]=q,C[8]=G,C[9]=V,C[10]=H,C[11]=W,C[12]=P*X+F*Z+G*K+R[12],C[13]=U*X+Q*Z+V*K+R[13],C[14]=B*X+Y*Z+H*K+R[14],C[15]=k*X+q*Z+W*K+R[15])),mat4_invert(t,t)}return function(e,t,i){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,n(e.leftProjectionMatrix,e.leftViewMatrix,t,i.getEyeParameters("left"),i),n(e.rightProjectionMatrix,e.rightViewMatrix,t,i.getEyeParameters("right"),i),!0)}}(),i.exports=a,i.exports}),t.registerDynamic("9e",["8b"],!0,function(e,t,i){this||self;var n,r=e("8b");function o(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=r.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B"),e.play())},this.release=function(){e.pause(),e.src=""}}function s(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}return i.exports=(n=navigator.userAgent||navigator.vendor||window.opera).match(/iPhone/i)||n.match(/iPod/i)?s:o,i.exports}),t.registerDynamic("9b",["8b","9e"],!0,function(e,t,i){this||self;var f=e("8b"),n=e("9e"),r=1e3,o=!1,d=[0,0,.5,1],p=[.5,0,.5,1];function s(){this.isPolyfilled=!0,this.displayId=r++,this.displayName="webvr-polyfill displayName",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new n}function a(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function u(){}function c(){}return s.prototype.getFrameData=function(e){return f.frameDataFromPose(e,this.getPose(),this)},s.prototype.getPose=function(){return this.getImmediatePose()},s.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},s.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},s.prototype.wrapForFullscreen=function(e){if(f.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var i=this.fullscreenElement_.parentElement;i.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),i.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var n=this;return function(){if(n.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];n.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}(),this.fullscreenWrapper_},s.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),t.insertBefore(e,this.fullscreenWrapper_),t.removeChild(this.fullscreenWrapper_),e}},s.prototype.requestPresent=function(c){var l=this.isPresenting,h=this;return c instanceof Array||(o||(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),o=!0),c=[c]),new Promise(function(t,e){if(h.capabilities.canPresent)if(0==c.length||c.length>h.capabilities.maxLayers)e(new Error("Invalid number of layers."));else{var i=c[0];if(i.source){var n=i.leftBounds||d,r=i.rightBounds||p;if(l){var o=!1,s=h.layer_;s.source!==i.source&&(s.source=i.source,o=!0);for(var a=0;a<4;a++)s.leftBounds[a]!==n[a]&&(s.leftBounds[a]=n[a],o=!0),s.rightBounds[a]!==r[a]&&(s.rightBounds[a]=r[a],o=!0);return o&&h.fireVRDisplayPresentChange_(),void t()}if(h.layer_={predistorted:i.predistorted,source:i.source,leftBounds:n.slice(0),rightBounds:r.slice(0)},h.waitingForPresent_=!1,h.layer_&&h.layer_.source){var u=h.wrapForFullscreen(h.layer_.source);h.addFullscreenListeners_(u,function(){var e=f.getFullscreenElement();h.isPresenting=u===e,h.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),h.waitingForPresent_=!1,h.beginPresent_(),t()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),h.removeFullscreenWrapper(),h.wakelock_.release(),h.endPresent_(),h.removeFullscreenListeners_()),h.fireVRDisplayPresentChange_()},function(){h.waitingForPresent_&&(h.removeFullscreenWrapper(),h.removeFullscreenListeners_(),h.wakelock_.release(),h.waitingForPresent_=!1,h.isPresenting=!1,e(new Error("Unable to present.")))}),f.requestFullscreen(u)?(h.wakelock_.request(),h.waitingForPresent_=!0):f.isIOS()&&(h.wakelock_.request(),h.isPresenting=!0,h.beginPresent_(),h.fireVRDisplayPresentChange_(),t())}h.waitingForPresent_||f.isIOS()||(f.exitFullscreen(),e(new Error("Unable to present.")))}else t()}else e(new Error("VRDisplay is not capable of presenting."))})},s.prototype.exitPresent=function(){var i=this.isPresenting,n=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(e,t){i?(!f.exitFullscreen()&&f.isIOS()&&(n.endPresent_(),n.fireVRDisplayPresentChange_()),e()):t(new Error("Was not presenting to VRDisplay."))})},s.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},s.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{vrdisplay:this}});window.dispatchEvent(e)},s.prototype.addFullscreenListeners_=function(e,t,i){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=i,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),i&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",i,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",i,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",i,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",i,!1))},s.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var i=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",i,!1),e.removeEventListener("webkitfullscreenerror",i,!1),document.removeEventListener("mozfullscreenerror",i,!1),e.removeEventListener("msfullscreenerror",i,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},s.prototype.beginPresent_=function(){},s.prototype.endPresent_=function(){},s.prototype.submitFrame=function(e){},s.prototype.getEyeParameters=function(e){return null},u.prototype=new a,c.prototype=new a,i.exports.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},i.exports.VRDisplay=s,i.exports.VRDevice=a,i.exports.HMDVRDevice=u,i.exports.PositionSensorVRDevice=c,i.exports}),t.registerDynamic("9f",["9b"],!0,function(e,t,i){this||self,e("9b").VRDisplay;var n=e("9b").HMDVRDevice,r=e("9b").PositionSensorVRDevice;function o(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:HMD:"+e.displayId,this.deviceName=e.displayName+" (HMD)"}function s(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+e.displayId,this.deviceName=e.displayName+" (PositionSensor)"}return(o.prototype=new n).getEyeParameters=function(e){var t=this.display.getEyeParameters(e);return{currentFieldOfView:t.fieldOfView,maximumFieldOfView:t.fieldOfView,minimumFieldOfView:t.fieldOfView,recommendedFieldOfView:t.fieldOfView,eyeTranslation:{x:t.offset[0],y:t.offset[1],z:t.offset[2]},renderRect:{x:"right"==e?t.renderWidth:0,y:0,width:t.renderWidth,height:t.renderHeight}}},o.prototype.setFieldOfView=function(e,t,i,n){},(s.prototype=new r).getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},s.prototype.resetState=function(){return this.positionDevice.resetPose()},i.exports.VRDisplayHMDDevice=o,i.exports.VRDisplayPositionSensorDevice=s,i.exports}),t.registerDynamic("a0",["8b","9a","9c","9b","9f"],!0,function(e,t,i){this||self;var n=e("8b"),r=e("9a"),o=e("9c"),s=e("9b").VRDisplay,a=e("9b").VRFrameData,u=e("9b").HMDVRDevice,c=e("9b").PositionSensorVRDevice,l=e("9f").VRDisplayHMDDevice,h=e("9f").VRDisplayPositionSensorDevice;function f(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeLegacyWebVRAvailable||(this.nativeWebVRAvailable||this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=a,"depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return n.frameDataFromPose(e,this.getPose(),this)})}return f.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},f.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},f.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new r,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new l(e)),this.devices.push(new h(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new o,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new l(e)),this.devices.push(new h(e)))),this.devicesPopulated=!0}},f.prototype.enablePolyfill=function(){navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=s;var e=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return e.isCardboardCompatible()&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1)}}),window.VRFrameData=a},f.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=u,window.PositionSensorVRDevice=c},f.prototype.getVRDisplays=function(){this.populateDevices();var i=this.displays;return new Promise(function(e,t){try{e(i)}catch(e){t(e)}})},f.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var n=this;return new Promise(function(i,t){try{if(!n.devicesPopulated){if(n.nativeWebVRAvailable)return navigator.getVRDisplays(function(e){for(var t=0;t<e.length;++t)n.devices.push(new l(e[t])),n.devices.push(new h(e[t]));n.devicesPopulated=!0,i(n.devices)},t);if(n.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(e){for(var t=0;t<e.length;++t)e[t]instanceof u&&n.devices.push(e[t]),e[t]instanceof c&&n.devices.push(e[t]);n.devicesPopulated=!0,i(n.devices)},t)}n.populateDevices(),i(n.devices)}catch(e){t(e)}})},f.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},f.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},i.exports.WebVRPolyfill=f,i.exports}),t.registerDynamic("a1",["8b","a0"],!0,function(e,t,i){this||self;var n=e("8b"),r=e("a0").WebVRPolyfill;return window.WebVRConfig=n.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new r}:new r,i.exports}),t.register("1",["2","3","40","4","9","10","a","20","36","46","13","14","18","1f","25","15","5","7","47","1a","1b","8","3e","41","59","77","2e","17","d","28","29","2f","32","39","22","27","2a","3a","21","3b","3c","3d","e","f","2b","42","49","85","4b","4e","54","57","86","87","88","8a","a1"],function(u,e){"use strict";var c,l,h,f,d,C,p,R,g,M,y,A,E,b,z,w,m,v,N,D,T,I,O,S,L,_,j,P,U,B,k,x,F,Q,Y,q,G,V,H,W,X,Z,K,J,$,ee,te,ie,ne,re,oe,se,ae,ue,ce,le,he,fe,de,pe,ge,Me,ye,Ae,Ee,we,me,ve,Ne,De,Te,Ie,Oe,Se,Le,_e,je,xe,be,Ce,Re,ze,Pe,Ue,Be,ke,Fe,Qe,Ye,qe,Ge,Ve,He,We,Xe,Ze,Ke,Je,$e,et,tt,it,nt,rt,ot,st,at,ut,ct,lt,ht,ft,dt,t,pt,gt,Mt,yt,At,Et,wt,mt,vt,Nt,Dt,Tt,It,Ot,St,Lt,_t,jt,xt,bt,Ct,Rt,zt,Pt,Ut,Bt,kt,Ft,Qt,Yt,qt,Gt,Vt,Ht,Wt,Xt,Zt,Kt,Jt,$t,ei,ti,ii,ni,ri,oi,si,ai,ui,ci,li,hi,fi,di,pi,gi,Mi,yi,Ai,Ei,wi,mi,vi,Ni,Di,Ti,Ii,Oi,Si,Li,_i,ji,xi,bi,Ci,Ri,zi,Pi,Ui,Bi,ki,Fi,Qi,Yi,qi,Gi,Vi,Hi,Wi,Xi,Zi,Ki,Ji,$i,en,tn,nn,rn,on,sn,an,un,cn,ln,hn,fn,dn,pn,gn,Mn,yn,An,En,wn,mn,vn,Nn,Dn,Tn,In,On,Sn,Ln,_n,jn,xn,bn,Cn,Rn,zn,Pn,Un,Bn,kn,Fn,Qn,Yn,qn,Gn,Vn,Hn,Wn,Xn,Zn,Kn,Jn,$n,er,tr,ir,nr,rr,or,sr,ar,ur,cr,lr,hr,fr,dr,pr,gr,Mr,yr,Ar,Er,wr,mr,vr,Nr,Dr,Tr,Ir,Or,Sr,Lr,_r,jr,xr,br,Cr,Rr,zr,Pr,Ur,Br,kr,Fr,Qr,Yr,qr,Gr,Vr,Hr,Wr,Xr,Zr,Kr,Jr,$r,eo,to,io,no;function i(){return!0}function n(){}function ro(e){return void 0===e?e={}:"function"==typeof e&&(e={validate:e}),e.validate||(e.validate=i),e.compose||(e.compose=n),e}function oo(t){return function(e){return!0===t(e)}}function so(i,n){return function(e){var t=n(e);if(!0!==t)throw new Error(t||i+" was not correctly implemented.")}}function ao(n,r){r=ro(r);var e=function e(t){var i="function"==typeof t?t.prototype:t;r.compose(i),e.assert(i),Object.defineProperty(i,"protocol:"+n,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return e.validate=oo(r.validate),e.assert=so(n,r.validate),e}function uo(e,t){var i=e.inject;if("function"==typeof i)throw new Error("Decorator "+t+' cannot be used with "inject()".  Please use an array instead.');return i||(i=fe.getOwn(fe.paramTypes,e).slice(),e.inject=i),i}function co(n){return function(e,t,i){uo(e,"lazy")[i]=je.of(n)}}function lo(n){return function(e,t,i){uo(e,"all")[i]=xe.of(n)}}function ho(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0],t=function(r){return function(e,t,i){var n=uo(e,"optional");n[i]=be.of(n[i],r)}};return t("boolean"!=typeof e||e)}function fo(e,t,i){var n=uo(e,"parent");n[i]=Ce.of(n[i])}function po(o,s){return function(e,t,i){var n=uo(e,"factory"),r=ze.of(o);n[i]=s?r.as(s):r}}function go(e){for(var t=arguments.length,o=Array(1<t?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];var n=function(r){return function(e,t,i){var n=uo(e,"newInstance");n[i]=Pe.of.apply(Pe,[n[i]].concat(o)),r&&n[i].as(r)}};return 1<=arguments.length?n(e):n()}function Mo(t){return function(e){fe.define(fe.invoker,t,e)}}function yo(e){var t=function(e){fe.define(fe.invoker,Ue.instance,e)};return e?t(e):t}function Ao(t){return function(e){fe.define(fe.registration,t,e)}}function Eo(e){return Ao(new Be(e))}function wo(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return Ao(new ke(e,t))}function mo(e){if(null==e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function vo(e,t,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=e.get(i[r]);return void 0!==n&&(o=o.concat(n)),Reflect.construct(t,o)}function No(e){var t=function(e){var t=e.inject,i=fe.getOwn(fe.paramTypes,e)||Fe;if(t)for(var n=0;n<i.length;n++)if(t[n]&&t[n]!==i[n]){var r=t.indexOf(i[n]);-1<r&&t.splice(r,1),t.splice(-1<r&&r<n?n-1:n,0,i[n])}else t[n]||(t[n]=i[n]);else e.inject=i};return e?t(e):t}function Do(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(e,t,i){if("number"==typeof i&&1===r.length){var n=e.inject;if("function"==typeof n)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return n||(n=fe.getOwn(fe.paramTypes,e).slice(),e.inject=n),void(n[i]=r[0])}i?i.value.inject=r:e.inject=r}}function To(e,t){var i=e._times,n=~h(i,t,P.compare);0<n&&(i.splice(0,n),e._values.splice(0,n*e._innerType.packedLength),e._updateTableLength=!0,e._definitionChanged.raiseEvent(e))}function Io(e,t){if(void 0!==t){var i=e._times.length-t;0<i&&(e._times.splice(0,i),e._values.splice(0,i*e._innerType.packedLength),e._updateTableLength=!0)}}function Oo(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return We[255&e]+We[e>>8&255]+We[e>>16&255]+We[e>>24&255]+"-"+We[255&t]+We[t>>8&255]+"-"+We[t>>16&15|64]+We[t>>24&255]+"-"+We[63&i|128]+We[i>>8&255]+"-"+We[i>>16&255]+We[i>>24&255]+We[255&n]+We[n>>8&255]+We[n>>16&255]+We[n>>24&255]}function So(e){this._token=e.token,this._url=e.url,this._tilingScheme=e.tilingScheme,m(this._tilingScheme)||(this._tilingScheme=new oe({numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1,ellipsoid:w(e.ellipsoid,N.WGS84)})),this._heightmapWidth=64,this._levelZeroMaximumGeometricError=ie.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,this._heightmapWidth,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._proxy=e.proxy,this._terrainDataStructure={heightScale:1/256,heightOffset:-32768,elementsPerHeight:3,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:16777215},this._errorEvent=new I;var t=e.credit;"string"==typeof t&&(t=new ue(t)),this._credit=t,this._readyPromise=Promise.resolve(!0),this._terrainPromises={}}function Lo(){if(t)return t;var y,A=function(e,t,i){if(e){var n={view:i.view,clientX:i.clientX,clientY:i.clientY,screenX:i.screenX,screenY:i.screenY,relatedTarget:t,bubbles:!0};e.dispatchEvent(new MouseEvent("mouseout",n)),n.bubbles=!1;for(var r=e;r.dispatchEvent(new MouseEvent("mouseleave",n)),r=r.parentElement;);}},E=function(e,t,i){var n={view:i.view,clientX:i.clientX,clientY:i.clientY,screenX:i.screenX,screenY:i.screenY,relatedTarget:t,bubbles:!0};e.dispatchEvent(new MouseEvent("mouseover",n)),n.bubbles=!1;for(var r=e;r.dispatchEvent(new MouseEvent("mouseenter",n)),r=r.parentElement;);},w=function(i,n,r){return i.forEach(function(e,t){document.createTouch?i[t]=document.createTouch(r.view,n,e.identifier,e.clientX,e.clientY,e.screenX,e.screenY):void 0!==typeof Touch&&(e.target=n,i[t]=new Touch(e))}),i},m={},v={},N={},D={};return document.documentElement.addEventListener("gotpointercapture",function(e){D[e.pointerId]=e.target}),document.documentElement.addEventListener("lostpointercapture",function(e){delete D[e.pointerId]}),Element.prototype.setPointerCapture=function(e){D[e]=this},Element.prototype.releasePointerCapture=function(e){D[e]=null},t=function(e){var t;switch(e.view=window,e.type){case"wheel":(t=document.elementFromPoint(e.clientX,e.clientY)||window).dispatchEvent(new WheelEvent(e.type,e));break;case"mouseleave":t=document.elementFromPoint(e.clientX,e.clientY)||window,A(y,void 0,e),y=void 0;break;case"mouseenter":t=document.elementFromPoint(e.clientX,e.clientY)||window,E(t,void 0,e),y=t;break;case"mousemove":(t=document.elementFromPoint(e.clientX,e.clientY)||window)!==y&&(A(y,t,e),E(t,y,e),y=t),t.dispatchEvent(new MouseEvent(e.type,e));break;case"touchstart":var i=e.changedTouches[0];t=document.elementFromPoint(i.clientX,i.clientY)||window;for(var n=0,r=e.changedTouches;n<r.length;n++){var o=r[n];m[o.identifier]=t,v[o.identifier]=performance.now()}case"touchmove":case"touchend":case"touchcancel":t=m[e.changedTouches[0].identifier];var s=document.createEvent("TouchEvent"),a=w(e.touches,t,e),u=w(e.targetTouches,t,e),c=w(e.changedTouches,t,e);if(document.createTouchList&&(a=document.createTouchList.apply(document,a),u=document.createTouchList.apply(document,u),c=document.createTouchList.apply(document,c)),"function"==typeof s.initTouchEvent?s.initTouchEvent(e.type,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,u,c,1,0):"TouchEvent"in window&&0<TouchEvent.length?s=new TouchEvent(e.type,{cancelable:e.cancelable,bubbles:e.bubbles,touches:a,targetTouches:u,changedTouches:c}):(s.initUIEvent(e.type,e.bubbles,e.cancelable,e.view,e.detail),s.touches=a,s.targetTouches=u,s.changedTouches=c),"touchend"===e.type||"touchcancel"==e.type){t.dispatchEvent(s);var l=c[0];e.clientX=l.clientX,e.clientY=l.clientY,e.screenX=l.screenX,e.screenY=l.screenY,e.button=0,e.detail=1,"touchend"===e.type?performance.now()-v[l.identifier]<300&&!s.defaultPrevented&&(t.dispatchEvent(new MouseEvent("mousedown",e)),t.dispatchEvent(new MouseEvent("mouseup",e)),t.dispatchEvent(new MouseEvent("click",e))):t.dispatchEvent(new MouseEvent("mouseout",e));for(var h=0,f=e.changedTouches;h<f.length;h++){o=f[h];delete m[o.identifier],delete v[o.identifier]}}else t.dispatchEvent(s);break;case"pointerenter":case"pointerleave":case"pointermove":case"pointercancel":case"pointerdown":case"pointerup":var d=N[e.pointerId],p=t=D[e.pointerId],g="pointerleave"===e.type||"pointercancel"===e.type,M=new PointerEvent(e.type,e);p?p.dispatchEvent(M):((t=document.elementFromPoint(e.clientX,e.clientY)||window)!==d&&(function(e,t,i){if(e){i.bubbles=!0,e.dispatchEvent(new PointerEvent("pointerout",i)),i.bubbles=!1;for(var n=e;n.dispatchEvent(new PointerEvent("pointerleave",i)),n=n.parentElement;);}}(d,0,e),g||function(e,t,i){var n=i.bubbles;i.bubbles=!0,e.dispatchEvent(new PointerEvent("pointerover",i)),i.bubbles=!1;for(var r=e;r.dispatchEvent(new PointerEvent("pointerenter",i)),r=r.parentElement;);i.bubbles=n}(t,0,e)),t.dispatchEvent(M)),g?delete N[e.pointerId]:N[e.pointerId]=t;break;default:(t=document.elementFromPoint(e.clientX,e.clientY)||window).dispatchEvent(new MouseEvent(e.type,e))}}}function _o(u,c){var l=!1,h={event:UIEvent=void 0,forwardEvent:function(){l=!0}},f={},t=function(e){var t=e.target instanceof HTMLElement?e.target:void 0,i=t&&t.clientWidth,n=t&&t.clientHeight;if(("wheel"===e.type||jt&&"touchmove"===e.type&&2===e.touches.length)&&e.preventDefault(),e.stopPropagation(),e.target===u.element||i&&Math.abs(i-u.element.clientWidth)<15&&n&&Math.abs(n-u.element.clientHeight)<15){if(0<u.uiEvent.numberOfListeners&&(l=!1,h.event=e,u.uiEvent.raiseEvent(h),!l))return void e.stopImmediatePropagation();"touchstart"===e.type&&e.preventDefault();var r=u.element.getBoundingClientRect(),o=Mt(e.touches,r),s=Mt(e.changedTouches,r),a=Mt(e.targetTouches,r);f.timeStamp=e.timeStamp,f.type=e.type,f.bubbles=e.bubbles,f.cancelable=e.cancelable,f.which=e.which,f.detail=e.detail,f.composed=e.composed,f.timeStamp=e.timeStamp,f.altKey=e.altKey,f.ctrlKey=e.ctrlKey,f.metaKey=e.metaKey,f.button=e.button,f.buttons=e.buttons,f.clientX=e.clientX-r.left,f.clientY=e.clientY-r.top,f.screenX=e.screenX,f.screenY=e.screenY,f.movementX=e.movementX,f.movementY=e.movementY,f.deltaX=e.deltaX,f.deltaY=e.deltaY,f.deltaZ=e.deltaZ,f.deltaMode=e.deltaMode,f.wheelDelta=e.wheelDelta,f.wheelDeltaX=e.wheelDeltaX,f.wheelDeltaY=e.wheelDeltaY,f.touches=o,f.changedTouches=s,f.targetTouches=a,f.pointerId=e.pointerId,f.pointerType=e.pointerType,f.width=e.width,f.height=e.height,f.pressure=e.pressure,f.tiltX=e.tiltX,f.tiltY=e.tiltY,f.isPrimary=e.isPrimary,c(f)}else e.stopImmediatePropagation()},e=["wheel","click","dblclick","contextmenu"];e.push("pointerenter","pointerleave","pointerdown","pointermove","pointerup","pointercancel"),e.push("mouseenter","mouseleave","mousedown","mousemove","mouseup","touchstart","touchend","touchmove","touchcancel"),e.forEach(function(e){u.element.addEventListener(e,t,!1)})}function jo(e){return"function"==typeof e&&yt.test(Function.prototype.toString.call(e))}function xo(e){var t=e;return m(t.id)?t.id:""+t}function bo(e,t){return JSON.stringify(e)===JSON.stringify(t)}function Co(e,t){void 0===t&&(t=[]);var i=t;i.length=0;var n=e;do{var r=n.position;n=r&&r.referenceFrame,m(n)&&i.unshift(n)}while(m(n));return i}function Ro(e,t,i){void 0===i&&(i=[]);var n=i;n.length=0;var r=e,o=!1;do{var s=r.position,a=r&&r.orientation;r=s&&s.referenceFrame;var u=m(r),c=u&&s&&s.getValueInReferenceFrame(t,r,mt),l=u&&c&&a&&a.getValue(t,vt);(o=c&&l)&&n.unshift(r)}while(o);return n}function zo(e,t,i,n){return e.position&&e.position.getValueInReferenceFrame(t,i,n)}function Po(e,t,i,n){var r=e.position&&e.position.referenceFrame;if(m(r)){var o=e.orientation&&e.orientation.getValue(t,n);if(m(o))return x.convertToReferenceFrame(t,o,r,i,n)}}function Uo(e,t,i){if(m(i)||(i=Ro(e,t,Tt)[0]),!m(i))return null;if(e===i)return null;var n=e.id+"@"+(i.id?i.id:i),r=It[n];r||(r={},It[n]=r);var o=zo(e,t,i,r.p||{});if(!o)return null;var s=Po(e,t,i,r.o||{});return s&&o&&s?(r.p=o,r.o=s,r.r="number"==typeof i?i:i.id,r.meta=e.meta,r):null}function Bo(e){if(!Ot)throw new Error("resolveURL requires DOM api");if(void 0===e)throw new Error("Expected inURL");return Ot.href="",Ot.href=e,Ot.href}function ko(e){if(!Ot)throw new Error("parseURL requires DOM api");if(void 0===e)throw new Error("Expected inURL");return Ot.href="",Ot.href=e,{href:Ot.href,protocol:Ot.protocol,hostname:Ot.hostname,port:Ot.port,pathname:Ot.pathname,search:Ot.search,hash:Ot.hash,host:Ot.host}}function Fo(n){return n instanceof HTMLElement?Promise.resolve(n):new Promise(function(t,i){var e=function(){var e=document.querySelector(""+n);e?t(e):i(new Error("Unable to resolve element id "+n))};"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})}function Qo(e,t){var i=e[k.COLUMN0ROW0],n=e[k.COLUMN1ROW1],r=e[k.COLUMN2ROW0],o=e[k.COLUMN2ROW1],s=e[k.COLUMN2ROW2],a=e[k.COLUMN3ROW2],u=t.near=a/(s-1);return t.far=a/(s+1),t.bottom=u*(o-1)/n,t.top=u*(o+1)/n,t.left=u*(r-1)/i,t.right=u*(r+1)/i,t}function Yo(e,t){var i,n=Qo(e,St),r=(n.left+n.right)/2,o=(n.top+n.bottom)/2,s=n.near,a=n.far,u=n.right-r,c=n.top-o,l=u/c,h=2*Math.atan(c/s);return i=l<1?h:2*Math.atan(Math.tan(.5*h)*l),t.near=s,t.far=a,t.fov=i,t.aspectRatio=l,t.xOffset=r,t.yOffset=o,t}function qo(e,t,i){return!!(e.position&&e.position instanceof b&&e.orientation&&e.orientation instanceof z)&&(!!zo(e,t,i,Lt)&&(!!Po(e,t,i,_t)&&(e.position.setValue(Lt,i),e.orientation.setValue(_t),!0)))}function Go(){jt?window.location.href="https://itunes.apple.com/us/app/argon4/id1089308600?mt=8":xt&&(window.location.href="http://play.google.com/store/apps/details?id=edu.gatech.argon4")}function Vo(){jt?window.location.href="argon4://open?url="+encodeURIComponent(window.location.href):xt&&(window.location.href="intent:/#Intent;scheme=argon4;package=edu.gatech.argon4;S.url="+encodeURIComponent(window.location.href)+";end")}function Ho(a){var u=!1;return function(e,t,i){var n=i.get||i.value,r='The "'+t+'" '+("function"==typeof i.value?"function":"property")+" is deprecated. ";if(a){var o="function"==typeof e[a]?"function":"property";r+='Please use the "'+a+'" '+o+" instead."}var s=function(){return u||(console.warn(r),u=!0),n.apply(this,arguments)};return i.value?i.value=s:i.get=s,i}}function Wo(e){return Promise.resolve(ce(zt,15,[e]).then(r))}function r(e){return e[0]}function Xo(e,t,i){if(Cr.instance)throw new Error("A shared ArgonSystem instance already exists");var n,r;if(t instanceof Ge?(r=e,i=t):(n=e,r=t),n&&(n.configuration||n.container)){var o=n;!r&&o.configuration&&(r=o.configuration),!r&&o.container&&(i=o.container),n=void 0}if(r||(r={}),!r.role){var s=void 0;s="undefined"==typeof HTMLElement?tt.REALITY_MANAGER:0<navigator.userAgent.indexOf("Argon")||window.top!==window?tt.APPLICATION:tt.REALITY_MANAGER,r.role=s}return i||(i=new Ge),new Rr(r,i,n).container.get(Cr)}function Zo(e,t){if(void 0===e&&(e={}),void 0===t&&(t=new Ge),Cr.instance)throw new Error("A shared ArgonSystem instance already exists");return e.role=tt.REALITY_VIEW,e.supportsCustomProtocols=!0,e["reality.supportsControlPort"]=!0,e.protocols=e.protocols||[],e.protocols.push("ar.uievent"),new Rr(e,t).container.get(Cr)}return{setters:[function(e){},function(e){c=e.AggregateError,l=e.PLATFORM},function(e){h=e.default},function(e){f=e.default},function(e){d=e.default},function(e){C=e.default},function(e){p=e.default},function(e){R=e.default},function(e){g=e.default},function(e){M=e.default},function(e){y=e.default},function(e){A=e.default},function(e){E=e.default},function(e){b=e.default},function(e){z=e.default},function(e){w=e.default},function(e){m=e.default},function(e){v=e.default},function(e){N=e.default},function(e){D=e.default},function(e){T=e.default},function(e){I=e.default},function(e){O=e.default},function(e){S=e.default},function(e){L=e.default},function(e){_=e.default},function(e){j=e.default},function(e){P=e.default},function(e){U=e.default},function(e){B=e.default},function(e){k=e.default},function(e){x=e.default},function(e){F=e.default},function(e){Q=e.default},function(e){Y=e.default},function(e){q=e.default},function(e){G=e.default},function(e){V=e.default},function(e){H=e.default},function(e){W=e.default},function(e){X=e.default},function(e){Z=e.default},function(e){K=e.default},function(e){J=e.default},function(e){$=e.default},function(e){ee=e.default},function(e){te=e.default},function(e){ie=e.default},function(e){ne=e.default},function(e){re=e.default},function(e){oe=e.default},function(e){se=e.default},function(e){ae=e.default},function(e){ue=e.default},function(e){ce=e.default},function(e){le=e.default},function(e){}],execute:function(){for(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},fe={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(e,t,i){if(t){var n=fe.getOwn(e,t,i);return void 0===n?fe.get(e,Object.getPrototypeOf(t),i):n}},getOwn:function(e,t,i){if(t)return Reflect.getOwnMetadata(e,t,i)},define:function(e,t,i,n){Reflect.defineMetadata(e,t,i,n)},getOrCreateOwn:function(e,t,i,n){var r=fe.getOwn(e,i,n);return void 0===r&&(r=new t,Reflect.defineMetadata(e,r,i,n)),r}},de=new Map,pe=Object.freeze({moduleId:void 0,moduleMember:void 0}),function(){function o(e,t){this.moduleId=e,this.moduleMember=t}return o.get=function(n){var r=de.get(n);return void 0===r&&l.eachModule(function(e,t){if("object"===(void 0===t?"undefined":he(t)))for(var i in t){if(t[i]===n)return de.set(n,r=new o(e,i)),!0}return t===n&&(de.set(n,r=new o(e,"default")),!0)}),r||pe},o.set=function(e,t){de.set(e,t)},o}(),ao.create=function(i,n){n=ro(n);var t="protocol:"+i,e=function(e){var t=ao(i,n);return e?t(e):t};return e.decorates=function(e){return!0===e[t]},e.validate=oo(n.validate),e.assert=so(i,n.validate),e},_e=ao.create("aurelia:resolver",function(e){return"function"==typeof e.get||"Resolvers must implement: get(container: Container, key: any): any"}),ge=_e(),je=ge(Me=function(){function t(e){this._key=e}return t.prototype.get=function(e){var t=this;return function(){return e.get(t._key)}},t.of=function(e){return new t(e)},t}())||Me,ye=_e(),xe=ye(Ae=function(){function t(e){this._key=e}return t.prototype.get=function(e){return e.getAll(this._key)},t.of=function(e){return new t(e)},t}())||Ae,Ee=_e(),be=Ee(we=function(){function t(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=e,this._checkParent=t}return t.prototype.get=function(e){return e.hasResolver(this._key,this._checkParent)?e.get(this._key):null},t.of=function(e){return new t(e,arguments.length<=1||void 0===arguments[1]||arguments[1])},t}())||we,me=_e(),Ce=me(ve=function(){function t(e){this._key=e}return t.prototype.get=function(e){return e.parent?e.parent.get(this._key):null},t.of=function(e){return new t(e)},t}())||ve,Ne=_e(),Re=Ne(De=function(){function e(e,t){this.strategy=e,this.state=t}return e.prototype.get=function(e,t){switch(this.strategy){case 0:return this.state;case 1:var i=e.invoke(this.state);return this.state=i,this.strategy=0,i;case 2:return e.invoke(this.state);case 3:return this.state(e,t,this);case 4:return this.state[0].get(e,t);case 5:return e.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},e}())||De,Te=_e(),ze=Te(Ie=function(){function t(e){this._key=e}return t.prototype.get=function(n){var r=this;return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.invoke(r._key,t)}},t.of=function(e){return new t(e)},t}())||Ie,Oe=_e(),Pe=Oe(Se=function(){function r(e){this.key=e,this.asKey=e;for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.dynamicDependencies=i}return r.prototype.get=function(t){var e=0<this.dynamicDependencies.length?this.dynamicDependencies.map(function(e){return e["protocol:aurelia:resolver"]?e.get(t):t.get(e)}):void 0,i=t.invoke(this.key,e);return t.registerInstance(this.asKey,i),i},r.prototype.as=function(e){return this.asKey=e,this},r.of=function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return new(Function.prototype.bind.apply(r,[null].concat([e],i)))},r}())||Se,(Ue=function(){function e(){}return e.prototype.invoke=function(e,t,i){for(var n=i.length,r=new Array(n);n--;)r[n]=e.get(i[n]);return t.apply(void 0,r)},e.prototype.invokeWithDynamicDependencies=function(e,t,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=e.get(i[r]);return void 0!==n&&(o=o.concat(n)),t.apply(void 0,o)},e}()).instance=new Ue,Be=function(){function e(e){this._key=e}return e.prototype.registerResolver=function(e,t,i){return e.registerTransient(this._key||t,i)},e}(),ke=function(){function e(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof e?this._registerInChild=e:(this._key=e,this._registerInChild=t)}return e.prototype.registerResolver=function(e,t,i){return this._registerInChild?e.registerSingleton(this._key||t,i):e.root.registerSingleton(this._key||t,i)},e}(),Fe=Object.freeze([]),fe.registration="aurelia:registration",fe.invoker="aurelia:invoker",Qe=_e.decorates,Ye=function(){function e(e,t,i){this.fn=e,this.invoker=t,this.dependencies=i}return e.prototype.invoke=function(e,t){return void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)},e}(),(Le={})[0]={invoke:function(e,t){return new t},invokeWithDynamicDependencies:vo},Le[1]={invoke:function(e,t,i){return new t(e.get(i[0]))},invokeWithDynamicDependencies:vo},Le[2]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]))},invokeWithDynamicDependencies:vo},Le[3]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]))},invokeWithDynamicDependencies:vo},Le[4]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3]))},invokeWithDynamicDependencies:vo},Le[5]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3]),e.get(i[4]))},invokeWithDynamicDependencies:vo},Le.fallback={invoke:vo,invokeWithDynamicDependencies:vo},qe=Le,Ge=function(){function i(e){void 0===e&&(e={}),this._configuration=e,this._onHandlerCreated=e.onHandlerCreated,this._handlers=e.handlers||(e.handlers=new Map),this._resolvers=new Map,(this.root=this).parent=null}return i.prototype.makeGlobal=function(){return i.instance=this},i.prototype.setHandlerCreatedCallback=function(e){this._onHandlerCreated=e,this._configuration.onHandlerCreated=e},i.prototype.registerInstance=function(e,t){return this.registerResolver(e,new Re(0,void 0===t?e:t))},i.prototype.registerSingleton=function(e,t){return this.registerResolver(e,new Re(1,void 0===t?e:t))},i.prototype.registerTransient=function(e,t){return this.registerResolver(e,new Re(2,void 0===t?e:t))},i.prototype.registerHandler=function(e,t){return this.registerResolver(e,new Re(3,t))},i.prototype.registerAlias=function(e,t){return this.registerResolver(t,new Re(5,e))},i.prototype.registerResolver=function(e,t){mo(e);var i=this._resolvers,n=i.get(e);return void 0===n?i.set(e,t):4===n.strategy?n.state.push(t):i.set(e,new Re(4,[n,t])),t},i.prototype.autoRegister=function(e,t){if("function"==typeof(t=void 0===t?e:t)){var i=fe.get(fe.registration,t);return void 0===i?this.registerResolver(e,new Re(1,t)):i.registerResolver(this,e,t)}return this.registerResolver(e,new Re(0,t))},i.prototype.autoRegisterAll=function(e){for(var t=e.length;t--;)this.autoRegister(e[t])},i.prototype.unregister=function(e){this._resolvers.delete(e)},i.prototype.hasResolver=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return mo(e),this._resolvers.has(e)||t&&null!==this.parent&&this.parent.hasResolver(e,t)},i.prototype.get=function(e){if(mo(e),e===i)return this;if(Qe(e))return e.get(this,e);var t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)},i.prototype._get=function(e){var t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)},i.prototype.getAll=function(e){mo(e);var t=this._resolvers.get(e);if(void 0===t)return null===this.parent?Fe:this.parent.getAll(e);if(4===t.strategy){for(var i=t.state,n=i.length,r=new Array(n);n--;)r[n]=i[n].get(this,e);return r}return[t.get(this,e)]},i.prototype.createChild=function(){var e=new i(this._configuration);return e.root=this.root,e.parent=this,e},i.prototype.invoke=function(t,e){try{var i=this._handlers.get(t);return void 0===i&&(i=this._createInvocationHandler(t),this._handlers.set(t,i)),i.invoke(this,e)}catch(e){throw new c("Error invoking "+t.name+". Check the inner error for details.",e,!0)}},i.prototype._createInvocationHandler=function(e){var t,i=void 0;if(void 0===e.inject)i=fe.getOwn(fe.paramTypes,e)||Fe;else{i=[];for(var n=e;"function"==typeof n;){var r;(r=i).push.apply(r,(t=n).hasOwnProperty("inject")?"function"==typeof t.inject?t.inject():t.inject:[]),n=Object.getPrototypeOf(n)}}var o=fe.getOwn(fe.invoker,e)||qe[i.length]||qe.fallback,s=new Ye(e,o,i);return void 0!==this._onHandlerCreated?this._onHandlerCreated(s):s},i}(),u("DI",Ve=Object.freeze({resolver:_e,Lazy:je,All:xe,Optional:be,Parent:Ce,StrategyResolver:Re,Factory:ze,NewInstance:Pe,getDecoratorDependencies:uo,lazy:co,all:lo,optional:ho,parent:fo,factory:po,newInstance:go,invoker:Mo,invokeAsFactory:yo,FactoryInvoker:Ue,registration:Ao,transient:Eo,singleton:wo,TransientRegistration:Be,SingletonRegistration:ke,_emptyParameters:Fe,InvocationHandler:Ye,Container:Ge,autoinject:No,inject:Do})),He=function(t,i){return function(){var e=t.apply(this,arguments);return i.call(this,e),e}},Z.prototype.removeSamplesBeforeDate=function(e){To(this,e)},X.prototype.removeSamplesBeforeDate=function(e){To(this._property,e)},Z.prototype.addSample=He(Z.prototype.addSample,function(){Io(this,this.maxNumSamples)}),Z.prototype.addSamples=He(Z.prototype.addSamples,function(){Io(this,this.maxNumSamples)}),Z.prototype.addSamplesPackedArray=He(Z.prototype.addSamplesPackedArray,function(){Io(this,this.maxNumSamples)}),X.prototype.addSample=He(X.prototype.addSample,function(){Io(this._property,this.maxNumSamples)}),X.prototype.addSamples=He(X.prototype.addSamples,function(){Io(this._property,this.maxNumSamples)}),X.prototype.addSamplesPackedArray=He(X.prototype.addSamplesPackedArray,function(){Io(this._property,this.maxNumSamples)}),We=[],Xe=0;Xe<256;Xe++)We[Xe]=(Xe<16?"0":"")+Xe.toString(16);var e,t,i,n,r,o,s,a;u("Cesium",Ze=Object.freeze({createGuid:Oo,binarySearch:h,CallbackProperty:f,CameraEventAggregator:d,CameraEventType:C,Cartesian2:p,Cartesian3:R,Cartesian4:g,Cartographic:M,Clock:y,ClockStep:A,CompositeEntityCollection:E,ConstantPositionProperty:b,ConstantProperty:z,defaultValue:w,defined:m,DeveloperError:v,Ellipsoid:N,Entity:D,EntityCollection:T,Event:I,ExtrapolationType:O,FeatureDetection:S,GeographicProjection:L,HeadingPitchRoll:_,HermitePolynomialApproximation:j,JulianDate:P,CesiumMath:U,Matrix3:B,Matrix4:k,OrientationProperty:x,PerspectiveFrustum:F,PerspectiveOffCenterFrustum:Q,PositionProperty:Y,Property:q,Quaternion:G,ReferenceEntity:V,ReferenceFrame:H,ReferenceProperty:W,SampledPositionProperty:X,SampledProperty:Z,ScreenSpaceEventHandler:K,ScreenSpaceEventType:J,Transforms:$,Simon1994PlanetaryPositions:ee,PolylinePipeline:te,TerrainProvider:ie,throttleRequestByServer:ne,loadImage:re,WebMercatorTilingScheme:oe,getImagePixels:se,HeightmapTerrainData:ae,Credit:ue,sampleTerrain:ce})),28,1.5,le.prototype.listen=function(n,r){var o=this.gl.canvas,s="undefined"!=typeof TouchEvent;this.listener=function(e){var t=o.clientWidth/2,i=s&&e instanceof TouchEvent?e.changedTouches[0]:e;i.clientX>t-42&&i.clientX<t+42&&i.clientY>o.clientHeight-42?(e.preventDefault(),e.stopImmediatePropagation(),n(e)):i.clientX<42&&i.clientY<42&&(e.preventDefault(),e.stopImmediatePropagation(),r(e))},o.addEventListener("click",this.listener,!1),o.addEventListener("touchstart",this.listener,!1)},Ke=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u("AVERAGE_EYE_HEIGHT",Je=1.6),u("DEFAULT_NEAR_PLANE",$e=.01),u("DEFAULT_FAR_PLANE",et=1e4),(e=tt||u("Role",tt={}))[e.REALITY_AUGMENTER="RealityAugmenter"]="REALITY_AUGMENTER",e[e.REALITY_VIEWER="RealityViewer"]="REALITY_VIEWER",e[e.REALITY_MANAGER="RealityManager"]="REALITY_MANAGER",e[e.APPLICATION="Application"]="APPLICATION",e[e.MANAGER="Manager"]="MANAGER",e[e.REALITY_VIEW="RealityView"]="REALITY_VIEW",(t=tt||u("Role",tt={})).isRealityViewer=function(e){return e===t.REALITY_VIEWER||e===t.REALITY_VIEW},t.isRealityAugmenter=function(e){return e===t.REALITY_AUGMENTER||e===t.APPLICATION},t.isRealityManager=function(e){return e===t.REALITY_MANAGER||e===t.MANAGER},u("Configuration",it=function(){}),u("Viewport",nt=function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i.clone=function(e,t){if(void 0===t&&(t=new i),e)return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},i.equals=function(e,t){return e&&t&&U.equalsEpsilon(e.x,t.x,U.EPSILON7)&&U.equalsEpsilon(e.y,t.y,U.EPSILON7)&&U.equalsEpsilon(e.width,t.width,U.EPSILON7)&&U.equalsEpsilon(e.height,t.height,U.EPSILON7)},i}()),u("CanvasViewport",rt=function(t){function i(){var e=t.apply(this,arguments)||this;return e.pixelRatio=1,e.renderWidthScaleFactor=1,e.renderHeightScaleFactor=1,e}return Ke(i,t),i.clone=function(e,t){if(void 0===t&&(t=new i),e)return nt.clone(e,t),t.renderWidthScaleFactor=e.renderWidthScaleFactor,t.renderHeightScaleFactor=e.renderHeightScaleFactor,t},i.equals=function(e,t){return e&&t&&nt.equals(e,t)&&U.equalsEpsilon(e.renderWidthScaleFactor,t.renderWidthScaleFactor,U.EPSILON7)&&U.equalsEpsilon(e.renderHeightScaleFactor,t.renderHeightScaleFactor,U.EPSILON7)},i}(nt)),(i=ot||u("SubviewType",ot={}))[i.SINGULAR="Singular"]="SINGULAR",i[i.LEFTEYE="LeftEye"]="LEFTEYE",i[i.RIGHTEYE="RightEye"]="RIGHTEYE",i[i.OTHER="Other"]="OTHER",(st||u("SerializedEntityState",st={})).clone=function(e,t){return e?((t=t||{}).p=R.clone(e.p,t.p),t.o=G.clone(e.o,t.o),t.r=e.r,t.meta=e.meta,t):null},(n=at||u("SerializedSubview",at={})).clone=function(e,t){return(t=t||{}).type=e.type,t.projectionMatrix=k.clone(e.projectionMatrix,t.projectionMatrix),t.viewport=nt.clone(e.viewport,t.viewport),t},n.equals=function(e,t){return e&&t&&e.type===t.type&&nt.equals(e.viewport,t.viewport)&&k.equals(e.projectionMatrix,t.projectionMatrix)},u("SerializedSubviewList",ut=function(e){function r(){return e.call(this)||this}return Ke(r,e),r.clone=function(e,t){if(e){(t=t||new r).length=e.length;for(var i=0;i<e.length;i++){var n=e[i];t[i]=at.clone(n,t[i])}return t}},r}(Array)),Object.defineProperties(So.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),So.prototype.requestTileGeometry=function(e,t,i,n){var r=this._url+i+"/"+e+"/"+t+".png",o=this._proxy;m(o)&&(r=o.getURL(r));var s=this._terrainPromises[r];if(!s){if(n=w(n,!0)){if(s=ne(r,re),!m(s))return}else s=re(r);this._terrainPromises[r]=s}var a=this;return s.then(function(e){return new ae({buffer:se(e,a._heightmapWidth,a._heightmapWidth),width:a._heightmapWidth,height:a._heightmapWidth,childTileMask:i<16?0:15,structure:a._terrainDataStructure})})},So.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},So.prototype.getTileDataAvailable=function(e,t,i){return i<16||void 0},u("Event",ct=function(){function e(){this._event=new I,this.addEventListener=this._event.addEventListener.bind(this._event),this.removeEventListener=this._event.removeEventListener.bind(this._event),this.raiseEvent=this._event.raiseEvent.bind(this._event)}return Object.defineProperty(e.prototype,"numberOfListeners",{get:function(){return this._event.numberOfListeners},enumerable:!0,configurable:!0}),e}()),u("CommandQueue",lt=function(){function e(){var t=this;this._queue=[],this._paused=!0,this.errorEvent=new ct,this.errorEvent.addEventListener(function(e){1===t.errorEvent.numberOfListeners&&console.error(e)})}return e.prototype.push=function(i,e){var n=this,t=new Promise(function(t,e){n._queue.push({command:i,reject:e,execute:function(){var e=Promise.resolve().then(i);return t(e),e}})});return!e&&this._paused||this.execute(),t},e.prototype.execute=function(){var e=this;this._paused=!1,Promise.resolve().then(function(){0<e._queue.length&&!e._currentCommandPending&&e._executeNextCommand()})},e.prototype.pause=function(){this._paused=!0},e.prototype.clear=function(){this._queue.forEach(function(e){e.reject("Unable to execute.")}),this._queue=[]},e.prototype._executeNextCommand=function(){var t=this;if(this._currentCommand=void 0,this._currentCommandPending=void 0,!this._paused){var e=this._queue.shift();e&&(this._currentCommand=e.command,this._currentCommandPending=e.execute().then(this._executeNextCommand.bind(this)).catch(function(e){t.errorEvent.raiseEvent(e),t._executeNextCommand()}))}},e}()),u("MessageChannelLike",ht=function(){var i,n,r,o,s=this,a=!0;i=new Promise(function(t){s.port1={set onmessage(e){r=e,t()},get onmessage(){return r},postMessage:function(e){a&&n.then(function(){s.port2.onmessage&&s.port2.onmessage({data:e})})},close:function(){a=!1}}}),n=new Promise(function(t){s.port2={set onmessage(e){o=e,t()},get onmessage(){return o},postMessage:function(e){a&&i.then(function(){s.port1.onmessage&&s.port1.onmessage({data:e})})},close:function(){a=!1}}})}),u("SynchronousMessageChannel",ft=function(){var t=this,i=[],e=function(e){i.push(e)};t.port1={get onmessage(){return e},set onmessage(t){setTimeout(function(){e=t,i.forEach(function(e){return t(e)}),i=[]},0)},postMessage:function(e){t.port2.onmessage&&t.port2.onmessage({data:e})},close:function(){t.port1.onmessage=void 0,t.port2.onmessage=void 0}};var n=[],r=function(e){n.push(e)};t.port2={get onmessage(){return r},set onmessage(t){r=t,n.forEach(function(e){return t(e)}),n=[]},postMessage:function(e){t.port1.onmessage&&t.port1.onmessage({data:e})},close:function(){t.port1.onmessage=void 0,t.port2.onmessage=void 0}}}),u("MessageChannelFactory",dt=function(){function e(){}return e.prototype.create=function(){return"undefined"!=typeof MessageChannel?new MessageChannel:new ht},e.prototype.createSynchronous=function(){return new ft},e}()),u("getEventSynthesizier",pt="undefined"!=typeof document&&document.createElement?Lo:function(){}),gt=function(e,t){return{identifier:e.identifier,clientX:e.clientX-t.left,clientY:e.clientY-t.top,screenX:e.screenX,screenY:e.screenY}},Mt=function(e,t){if(e){for(var i=[],n=0;n<e.length;n++){var r=e.item(n);i[n]=gt(r,t)}return i}},yt=/\{\s*\[native code\]\s*\}/,u("hasNativeWebVRImplementation",At="undefined"!=typeof navigator&&jo(navigator.getVRDisplays)&&!Object.getOwnPropertyDescriptor(navigator,"getVRDisplays")),u("suggestedWebGLContextAntialiasAttribute",Et=At),u("eastUpSouthToFixedFrame",wt=$.localFrameToFixedFrameGenerator("east","up")),mt=new R,vt=new G,u("getEntityPosition",Nt=zo),u("getEntityOrientation",Dt=Po),Tt=[],It={},Ot="undefined"!=typeof document?document.createElement("a"):void 0,St=new Q,Lt=new R,_t=new G,u("isIOS",jt="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),u("isAndroid",xt="undefined"!=typeof navigator&&"undefined"!=typeof window&&/Android/.test(navigator.userAgent)&&!window.MSStream),bt=0,u("requestAnimationFrame",Ct="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){var t=performance.now(),i=Math.max(0,16-(t-bt)),n=setTimeout(function(){e(t+i)},i);return bt=t+i,n}),u("cancelAnimationFrame",Rt="undefined"!=typeof window?window.cancelAnimationFrame.bind(window):clearTimeout),u("defaultTerrainProvider",zt=new So({url:"https://s3.amazonaws.com/elevation-tiles-prod/terrarium/",requestWaterMask:!0,requestVertexNormals:!0})),u("version",Pt="1.3.7-0"),Ut=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Bt=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},kt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ft=Object.freeze({}),u("SessionPort",Qt=function(){function n(e){var i=this;this.uri=e,this.id=Oo(),this._connectEvent=new ct,this.closeEvent=new ct,this.errorEvent=new ct,this.on={},this.suppressErrorOnUnknownTopic=!1,this._isOpened=!1,this._isConnected=!1,this._isClosed=!1,this.on[n.OPEN]=function(e){if(!e)throw new Error("Session did not provide a configuration ("+i.uri+")");if(i._isConnected)throw new Error("Session has already connected! ("+i.uri+")");i._info=e,i._version=e.version||[0],i._isConnected=!0,i._connectEvent.raiseEvent(void 0)},this.on[n.CLOSE]=function(){i._isClosed=!0,i._isConnected=!1,i.messagePort&&i.messagePort.close&&i.messagePort.close(),i.closeEvent.raiseEvent(void 0)},this.on[n.ERROR]=function(e){var t=new Error("Session Error: "+e.message);e.stack&&(t.stack=e.stack),i.errorEvent.raiseEvent(t)},this.errorEvent.addEventListener(function(e){1===i.errorEvent.numberOfListeners&&console.error(e)})}return Object.defineProperty(n.prototype,"connectEvent",{get:function(){if(this._isConnected)throw new Error("The connectEvent only fires once and the session is already connected.");return this._connectEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"info",{get:function(){if(!this.isConnected)throw new Error("info is not available until the session is connected.");return this._info},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){if(!m(this._version))throw new Error("version is not available until the session is opened.");return this._version},enumerable:!0,configurable:!0}),n.prototype.supportsProtocol=function(i,e){if(!this._isConnected)throw new Error("Session has not yet connected");var t=this.info.protocols;if(!t)return!1;var n=!1,r=new Set;return t.forEach(function(e){if(-1!==e.indexOf(i)){var t=+e.split("@v")[1]||0;r.add(t)}}),e?Array.isArray(e)?e.forEach(function(e){r.has(e)&&(n=!0)}):r.has(e)&&(n=!0):e||(n=!0),n},n.prototype.whenConnected=function(){var n=this;return new Promise(function(e,t){n.isConnected&&e();var i=n._connectEvent.addEventListener(function(){i(),e()})})},n.prototype.open=function(e,t){var c=this;if(!this._isClosed){if(this._isOpened)throw new Error("Session can only be opened once");if(!t)throw new Error("Session options must be provided");this.messagePort=e,this._isOpened=!0,this.messagePort.onmessage=function(t){if(!c._isClosed){var e="string"==typeof t.data?JSON.parse(t.data):t.data,i=e[0],n=e[1],r=e[2]||Ft,o=e[3],s=c.on[n];if(s&&!o)try{(a=s(r,t))&&console.warn("Handler for "+n+" returned an unexpected response")}catch(e){c.sendError(e),c.errorEvent.raiseEvent(e)}else if(s){var a=new Promise(function(e){return e(s(r,t))});Promise.resolve(a).then(function(e){c._isClosed||c.send(n+":resolve:"+i,e)}).catch(function(e){var t;c._isClosed||("string"==typeof e?t=e:"string"==typeof e.message&&(t=e.message),c.send(n+":reject:"+i,{reason:t}))})}else if(!c.suppressErrorOnUnknownTopic){var u="Unable to handle message for topic "+n+" ("+c.uri+")";o&&c.send(n+":reject:"+i,{reason:u}),c.errorEvent.raiseEvent(new Error(u))}}},this.send(n.OPEN,t)}},n.prototype.send=function(e,t){if(!this._isOpened)throw new Error("Session must be open to send messages");if(this._isClosed)return!1;var i=[Oo(),e,t];return this.messagePort.postMessage(jt?i:JSON.stringify(i)),!0},n.prototype.sendError=function(e){var t=e;return t instanceof Error&&(t={message:t.message,stack:t.stack}),this.send(n.ERROR,t)},n.prototype.request=function(n,e){var r=this;if(!this._isOpened||this._isClosed)throw new Error("Session must be open to make requests");var t=Oo(),o=n+":resolve:"+t,s=n+":reject:"+t,i=new Promise(function(t,i){r.on[o]=function(e){delete r.on[o],delete r.on[s],t(e)},r.on[s]=function(e){delete r.on[o],delete r.on[s],console.warn("Request '"+n+"' rejected with reason:\n"+e.reason),i(new Error(e.reason))}}),a=[t,n,e,!0];return this.messagePort.postMessage(jt?a:JSON.stringify(a)),i},n.prototype.close=function(){this._isClosed||(this._isOpened&&this.send(n.CLOSE),this._isClosed=!0,this._isConnected=!1,this.messagePort&&this.messagePort.close&&this.messagePort.close(),this.closeEvent.raiseEvent(void 0))},Object.defineProperty(n.prototype,"isConnected",{get:function(){return this._isConnected},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isClosed",{get:function(){return this._isClosed},enumerable:!0,configurable:!0}),n}()),Qt.OPEN="ar.session.open",Qt.CLOSE="ar.session.close",Qt.ERROR="ar.session.error",u("SessionPortFactory",Yt=function(){function e(){}return e.prototype.create=function(e){return new Qt(e)},e}()),u("ConnectService",qt=function(){}),u("SessionService",Gt=function(){function e(e,t,i,n){var r=this;this.configuration=e,this.connectService=t,this.sessionPortFactory=i,this.messageChannelFactory=n,this.manager=this.createSessionPort("argon:manager"),this.errorEvent=new ct,this._connectEvent=new ct,this._managedSessions=[],e.version=function(e){for(var t=e.split("."),i=0,n=t.length;i<n;++i)t[i]=parseInt(t[i],10);return t}(Pt),e.uri="undefined"!=typeof window&&window.location?window.location.href:void 0,e.title="undefined"!=typeof document?document.title:void 0,this.errorEvent.addEventListener(function(e){1===r.errorEvent.numberOfListeners&&console.error(e)}),this.manager.errorEvent.addEventListener(function(e){r.errorEvent.raiseEvent(e)}),this.manager.closeEvent.addEventListener(function(){r.managedSessions.forEach(function(e){e.close()})}),Object.freeze(this)}return Object.defineProperty(e.prototype,"connectEvent",{get:function(){return this._connectEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"managedSessions",{get:function(){return this._managedSessions},enumerable:!0,configurable:!0}),e.prototype.connect=function(){this.connectService&&this.connectService.connect?this.connectService.connect(this):console.warn("Argon: Unable to connect to a manager session; a connect service is not available")},e.prototype.addManagedSessionPort=function(e){var t=this;this.ensureIsRealityManager();var i=this.sessionPortFactory.create(e);return i.errorEvent.addEventListener(function(e){t.errorEvent.raiseEvent(e)}),i.connectEvent.addEventListener(function(){t.managedSessions.push(i),t.connectEvent.raiseEvent(i)}),i.closeEvent.addEventListener(function(){var e=t.managedSessions.indexOf(i);-1<e&&t.managedSessions.splice(e,1)}),i},e.prototype.createSessionPort=function(e){return this.sessionPortFactory.create(e)},e.prototype.createMessageChannel=function(){return this.messageChannelFactory.create()},e.prototype.createSynchronousMessageChannel=function(){return this.messageChannelFactory.createSynchronous()},Object.defineProperty(e.prototype,"isRealityManager",{get:function(){return tt.isRealityManager(this.configuration&&this.configuration.role)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRealityAugmenter",{get:function(){return tt.isRealityAugmenter(this.configuration&&this.configuration.role)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRealityViewer",{get:function(){return tt.isRealityViewer(this.configuration&&this.configuration.role)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isManager",{get:function(){return this.isRealityManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isApplication",{get:function(){return this.isRealityAugmenter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRealityView",{get:function(){return this.isRealityViewer},enumerable:!0,configurable:!0}),e.prototype.ensureIsRealityManager=function(){if(!this.isRealityManager)throw new Error("An reality-manager only API was accessed from a non reality-manager.")},e.prototype.ensureIsRealityViewer=function(){if(!this.isRealityViewer)throw new Error("An reality-viewer only API was accessed from a non reality-viewer.")},e.prototype.ensureNotRealityViewer=function(){if(this.isRealityViewer)throw new Error("An non-permitted API was accessed from a reality-viewer.")},e.prototype.ensureNotRealityAugmenter=function(){if(this.isRealityAugmenter)throw new Error("An non-permitted API was accessed from a reality-viewer.")},e.prototype.ensureConnected=function(){if(!this.manager.isConnected)throw new Error("Session is not connected to manager")},e}()),Bt([Ho("isRealityManager"),kt("design:type",Object),kt("design:paramtypes",[])],Gt.prototype,"isManager",null),Bt([Ho("isRealityAugmenter"),kt("design:type",Object),kt("design:paramtypes",[])],Gt.prototype,"isApplication",null),Bt([Ho("isRealityViewer"),kt("design:type",Object),kt("design:paramtypes",[])],Gt.prototype,"isRealityView",null),u("SessionService",Gt=Bt([No,kt("design:paramtypes",["function"==typeof(Jt=void 0!==it&&it)&&Jt||Object,qt,Yt,"function"==typeof($t=void 0!==dt&&dt)&&$t||Object])],Gt)),u("LoopbackConnectService",Vt=function(e){function t(){return e.apply(this,arguments)||this}return Ut(t,e),t.prototype.connect=function(e){var t=e.createSynchronousMessageChannel(),i=t.port1;t.port2.onmessage=function(e){t.port2.postMessage(e.data)},e.manager.connectEvent.addEventListener(function(){e.connectEvent.raiseEvent(e.manager)}),e.manager.open(i,e.configuration)},t}(qt)),u("DOMConnectService",Ht=function(e){function t(){return e.apply(this,arguments)||this}return Ut(t,e),t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.parent},t.prototype.connect=function(e){var t=e.createMessageChannel();window.parent.postMessage({type:"ARGON_SESSION",name:window.name},"*",[t.port1]),e.manager.open(t.port2,e.configuration)},t}(qt)),u("DebugConnectService",Wt=function(e){function t(){return e.apply(this,arguments)||this}return Ut(t,e),t.isAvailable=function(){return"undefined"!=typeof window&&!!window.__ARGON_DEBUG_PORT__},t.prototype.connect=function(e){var t=e.manager,i=e.configuration;t.open(window.__ARGON_DEBUG_PORT__,i)},t}(qt)),u("SessionConnectService",Xt=function(n){function e(e,t){var i=n.call(this)||this;return i.session=e,i.parentConfiguration=t,i}return Ut(e,n),e.isAvailable=function(){return!0},e.prototype.connect=function(e){var t=e.createSynchronousMessageChannel();this.session.open(t.port1,this.parentConfiguration),e.manager.open(t.port2,e.configuration)},e}(qt)),u("WKWebViewConnectService",Zt=function(e){function t(){return e.apply(this,arguments)||this}return Ut(t,e),t.isAvailable=function(){return"undefined"!=typeof window&&window.webkit&&window.webkit.messageHandlers},t.prototype.connect=function(e){var t=e.createSynchronousMessageChannel();t.port2.onmessage=function(e){webkit.messageHandlers.argon.postMessage(JSON.stringify(e.data))},window.__ARGON_PORT__=t.port2,e.manager.open(t.port1,e.configuration),window.addEventListener("beforeunload",function(){e.manager.close()})},t}(qt)),u("AndroidWebViewConnectService",Kt=function(e){function t(){return e.apply(this,arguments)||this}return Ut(t,e),t.isAvailable=function(){return"undefined"!=typeof window&&window.__argon_android__},t.prototype.connect=function(e){var t=e.createSynchronousMessageChannel();t.port2.onmessage=function(e){window.__argon_android__.emit("argon",JSON.stringify(e.data))},window.__ARGON_PORT__=t.port2,e.manager.open(t.port1,e.configuration),window.addEventListener("beforeunload",function(){e.manager.close()})},t}(qt)),ei=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},ti=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("Permission",ii=function(e,t){this.type=e,this.state=t||ni.NOT_REQUIRED}),(r=ni||u("PermissionState",ni={}))[r.NOT_REQUIRED="not_required"]="NOT_REQUIRED",r[r.PROMPT="prompt"]="PROMPT",r[r.GRANTED="granted"]="GRANTED",r[r.DENIED="denied"]="DENIED",u("PermissionService",ri=function(){function e(e){this.sessionService=e}return e.prototype.query=function(e,t){return void 0===t&&(t=this.sessionService.manager),t.request("ar.permission.query",{type:e}).then(function(e){return e.state||ni.NOT_REQUIRED})},e.prototype.revoke=function(e){return this.sessionService.manager.request("ar.permission.revoke",{type:e}).then(function(e){return e.state})},e}()),u("PermissionService",ri=ei([No(),ti("design:paramtypes",["function"==typeof(si=void 0!==Gt&&Gt)&&si||Object])],ri)),u("PermissionServiceProvider",oi=function(){function e(e){var n=this;this.sessionService=e,this.sessionService.ensureIsRealityManager(),this.sessionService.connectEvent.addEventListener(function(i){i.on["ar.permission.query"]=function(e){var t=e.type;return Promise.resolve({state:n.getPermissionState(i,t)})},i.on["ar.permission.revoke"]=function(e){e.type;return Promise.reject(new Error("Revoking permission is not supported on this browser."))}})}return e.prototype.handlePermissionRequest=function(e,t,i){return Promise.resolve()},e.prototype.getPermissionState=function(e,t){return ni.GRANTED},e}()),u("PermissionServiceProvider",oi=ei([No(),ti("design:paramtypes",["function"==typeof(ai=void 0!==Gt&&Gt)&&ai||Object])],oi)),ui=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},ci=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("EntityPose",li=function(){function e(e,t,i){if(this._collection=e,this.status=0,this.position=new R,this.orientation=new G,this.time=new P(0,0),this._previousStatus=0,this._getEntityPositionInReferenceFrame=zo,this._getEntityOrientationInReferenceFrame=Po,"string"==typeof t){var n=this._collection.getById(t);n||(n=new V(this._collection,t)),this._entity=n}else this._entity=t;if("string"==typeof i){var r=this._collection.getById(i);m(r)||(r=new V(this._collection,i)),this._referenceFrame=r}else this._referenceFrame=i}return Object.defineProperty(e.prototype,"entity",{get:function(){return this._entity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"referenceFrame",{get:function(){return this._referenceFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"poseStatus",{get:function(){return this.status},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=P,i=hi;t.clone(e,this.time),t.equals(this._previousTime,e)||(this._previousStatus=this.status,this._previousTime=t.clone(e,this._previousTime));var n=this.entity,r=this.referenceFrame,o=this._getEntityPositionInReferenceFrame(n,e,r,this.position),s=this._getEntityOrientationInReferenceFrame(n,e,r,this.orientation),a=o&&s,u=0,c=this._previousStatus;a&&(u|=i.KNOWN),!a||c&i.KNOWN?!a&&c&i.KNOWN&&(u|=i.LOST):u|=i.FOUND,this.status=u},e}()),(o=hi||u("PoseStatus",hi={}))[o.KNOWN=1]="KNOWN",o[o.FOUND=2]="FOUND",o[o.LOST=4]="LOST",u("EntityService",fi=function(){function e(e){this.sessionService=e,this.collection=new T,this.subscribedEvent=new ct,this.unsubscribedEvent=new ct,this.subscriptions=new Map,this._scratchCartesian=new R,this._scratchQuaternion=new G,this._scratchMatrix3=new B,this._scratchMatrix4=new k,this._getEntityPositionInReferenceFrame=zo}return e.prototype._handleSubscribed=function(e){var t=this.subscriptions.get(e.id),i=e.options&&JSON.stringify(e.options);t&&JSON.stringify(t)!==i||(t&&this._handleUnsubscribed(e.id),this.subscriptions.set(e.id,i&&JSON.parse(i)),this.subscribedEvent.raiseEvent(e))},e.prototype._handleUnsubscribed=function(e){this.subscriptions.has(e)&&(this.subscriptions.delete(e),this.unsubscribedEvent.raiseEvent({id:e}))},e.prototype.getCartographic=function(e,t,i){var n=this._getEntityPositionInReferenceFrame(e,t,H.FIXED,this._scratchCartesian);if(n)return i=i||new M,M.fromCartesian(n,void 0,i)},e.prototype.createFixed=function(e,t){var i=R.fromRadians(e.longitude,e.latitude,e.height,void 0,this._scratchCartesian),n=t(i,void 0,this._scratchMatrix4),r=k.getRotation(n,this._scratchMatrix3),o=G.fromRotationMatrix(r,this._scratchQuaternion);return new D({position:i,orientation:o})},e.prototype.subscribe=function(e,t,i){var n=this;void 0===i&&(i=this.sessionService.manager);var r=e.id||e,o={id:r,options:t};return i.whenConnected().then(function(){return 0===i.version[0]&&i.version[1]<2?i.request("ar.context.subscribe",o):i.request("ar.entity.subscribe",o)}).then(function(){var e=n.collection.getOrCreateEntity(r);return n._handleSubscribed(o),e})},e.prototype.unsubscribe=function(e,t){var i=this;void 0===t&&(t=this.sessionService.manager);var n=e.id||e;t.whenConnected().then(function(){0===t.version[0]&&t.version[1]<2?t.send("ar.context.unsubscribe",{id:n}):t.send("ar.entity.unsubscribe",{id:n})}).then(function(){i._handleUnsubscribed(n)})},e.prototype.createEntityPose=function(e,t){return new li(this.collection,e,t)},e.prototype.updateEntityFromSerializedState=function(e,t){var i=this.collection.getOrCreateEntity(e);if(!t)return i.position&&i.position.setValue(void 0),i.orientation&&i.orientation.setValue(void 0),i.meta=void 0,i;var n=t.p,r=G.clone(t.o,this._scratchQuaternion),o="number"==typeof t.r?t.r:this.collection.getOrCreateEntity(t.r),s=i.position,a=i.orientation;return s instanceof b?s.setValue(n,o):i.position=new b(n,o),a instanceof z?a.setValue(r):i.orientation=new z(r),i.meta=t.meta,i},e}()),u("EntityService",fi=ui([No(),ci("design:paramtypes",["function"==typeof(pi=void 0!==Gt&&Gt)&&pi||Object])],fi)),u("EntityServiceProvider",di=function(){function e(e,t,i){var a=this;this.sessionService=e,this.entityService=t,this.permissionServiceProvider=i,this.subscriptionsBySubscriber=new WeakMap,this.subscribersByEntity=new Map,this.sessionSubscribedEvent=new ct,this.sessionUnsubscribedEvent=new ct,this.targetReferenceFrameMap=new Map,this._cacheTime=new P(0,0),this._entityPoseCache={},this._getSerializedEntityState=Uo,this.sessionService.ensureIsRealityManager(),this.sessionService.connectEvent.addEventListener(function(o){var s=new Map;a.subscriptionsBySubscriber.set(o,s),o.on["ar.entity.subscribe"]=o.on["ar.context.subscribe"]=function(e){var t=e.id,i=e.options,n=s.get(t);if(!n||!bo(n,i)){var r=a.subscribersByEntity.get(t)||new Set;return a.subscribersByEntity.set(t,r),r.add(o),s.set(t,i),a.sessionSubscribedEvent.raiseEvent({session:o,id:t,options:i}),a.permissionServiceProvider.handlePermissionRequest(o,t,i).then(function(){})}},o.on["ar.entity.unsubscribe"]=o.on["ar.context.unsubscribe"]=function(e){var t=e.id;if(s.has(t)){var i=a.subscribersByEntity.get(t);i&&i.delete(o),s.delete(t),a.sessionUnsubscribedEvent.raiseEvent({id:t,session:o})}},o.closeEvent.addEventListener(function(){a.subscriptionsBySubscriber.delete(o),s.forEach(function(e,t){var i=a.subscribersByEntity.get(t);i&&i.delete(o),a.sessionUnsubscribedEvent.raiseEvent({id:t,session:o})})})})}return e.prototype.fillEntityStateMapForSession=function(e,t,i){var n=this.subscriptionsBySubscriber.get(e);if(n)for(var r,o=n.keys();!(r=o.next()).done;){var s=r.value,a=this.entityService.collection.getById(s);i[s]=a?this.getCachedSerializedEntityState(a,t):null}},e.prototype.getCachedSerializedEntityState=function(e,t){if(!e)return null;var i=e.id;if(!m(this._entityPoseCache[i])||!this._cacheTime.equalsEpsilon(t,1e-6)){var n=this.targetReferenceFrameMap.get(i),r=m(n)&&"string"==typeof n?this.entityService.collection.getById(n):m(n)?n:this.entityService.collection.getById("ar.stage");this._entityPoseCache[i]=this._getSerializedEntityState(e,t,r)}return this._entityPoseCache[i]},e}()),u("EntityServiceProvider",di=ui([No,ci("design:paramtypes",["function"==typeof(gi=void 0!==Gt&&Gt)&&gi||Object,fi,"function"==typeof(Mi=void 0!==oi&&oi)&&Mi||Object])],di)),yi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},Ai=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("FocusService",Ei=function(){function e(e){var i=this;this.focusEvent=new ct,this.blurEvent=new ct,this._hasFocus=!1,e.manager.on["ar.focus.state"]=function(e){var t=e.state;i._hasFocus!==t&&((i._hasFocus=t)?i.focusEvent.raiseEvent(void 0):i.blurEvent.raiseEvent(void 0))}}return Object.defineProperty(e.prototype,"hasFocus",{get:function(){return this._hasFocus},enumerable:!0,configurable:!0}),e}()),u("FocusService",Ei=yi([Do(Gt),Ai("design:paramtypes",["function"==typeof(mi=void 0!==Gt&&Gt)&&mi||Object])],Ei)),u("FocusServiceProvider",wi=function(){function e(e){var t=this;this.sessionService=e,this.sessionFocusEvent=new ct,e.ensureIsRealityManager(),e.manager.connectEvent.addEventListener(function(){setTimeout(function(){!t._session&&t.sessionService.manager.isConnected&&(t.session=t.sessionService.manager)})})}return Object.defineProperty(e.prototype,"session",{get:function(){return this._session},set:function(e){if(e&&!e.isConnected)throw new Error("Only a connected session can be granted focus");var t=this._session;t!==e&&(t&&t.send("ar.focus.state",{state:!1}),e&&e.send("ar.focus.state",{state:!0}),this._session=e,this.sessionFocusEvent.raiseEvent({previous:t,current:e}))},enumerable:!0,configurable:!0}),e}()),u("FocusServiceProvider",wi=yi([Do(Gt,Ei),Ai("design:paramtypes",["function"==typeof(vi=void 0!==Gt&&Gt)&&vi||Object])],wi)),Ni=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},Di=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("VisibilityService",Ti=function(){function e(e){var i=this;this.showEvent=new ct,this.hideEvent=new ct,this._isVisible=!1,e.manager.on["ar.visibility.state"]=function(e){var t=e.state;i._isVisible!==t&&((i._isVisible=t)?i.showEvent.raiseEvent(void 0):i.hideEvent.raiseEvent(void 0))},e.manager.closeEvent.addEventListener(function(){i._isVisible&&(i._isVisible=!1,i.hideEvent.raiseEvent(void 0))}),e.manager.connectEvent.addEventListener(function(){0===e.manager.version[0]&&(i._isVisible=!0,i.showEvent.raiseEvent(void 0))})}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!0,configurable:!0}),e}()),u("VisibilityService",Ti=Ni([Do(Gt),Di("design:paramtypes",["function"==typeof(Oi=void 0!==Gt&&Gt)&&Oi||Object])],Ti)),u("VisibilityServiceProvider",Ii=function(){function e(e){var t=this;this.visibleSessions=new Set,this.sessionChangeEvent=new ct,e.ensureIsRealityManager(),this.sessionChangeEvent.addEventListener(function(e){e.send("ar.visibility.state",{state:t.visibleSessions.has(e)})}),e.manager.connectEvent.addEventListener(function(){t.set(e.manager,!0)})}return e.prototype.set=function(e,t){t?this.visibleSessions.has(e)||(this.visibleSessions.add(e),this.sessionChangeEvent.raiseEvent(e)):this.visibleSessions.has(e)&&(this.visibleSessions.delete(e),this.sessionChangeEvent.raiseEvent(e))},e}()),u("VisibilityServiceProvider",Ii=Ni([Do(Gt,Ti),Di("design:paramtypes",["function"==typeof(Si=void 0!==Gt&&Gt)&&Si||Object])],Ii)),Li=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},_i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("Subview",ji=function(){}),(s=xi||u("ViewportMode",xi={}))[s.EMBEDDED=0]="EMBEDDED",s[s.PAGE=0]="PAGE",s[s.IMMERSIVE=1]="IMMERSIVE",u("ViewItems",bi=function(){}),u("ViewItems",bi=Li([wo(),_i("design:paramtypes",[])],bi)),u("ViewService",Ci=function(){function e(e,t,i){var n=this;this.sessionService=e,this.focusService=t,this.viewItems=i,this.uiEvent=new ct,this.viewportChangeEvent=new ct,this.viewportModeChangeEvent=new ct,this._mode=xi.EMBEDDED,this._viewport=new nt,this._renderWidth=0,this._renderHeight=0,this.autoLayoutImmersiveMode=!0,this.autoStyleLayerElements=!0,this.autoPublishEmbeddedMode=!0,this._subviews=[],this._subviewFrustum=[],this._desiredViewportMode=this.viewportMode,this._embeddedViewport=new nt,e.manager.on["ar.view.viewportMode"]=function(e){var t=e.mode;n._updateViewportMode(t)},e.isRealityManager||this._updateViewportMode(xi.IMMERSIVE),e.manager.connectEvent.addEventListener(function(){n.viewportModeChangeEvent.raiseEvent(n.viewportMode)})}return Object.defineProperty(e.prototype,"viewportMode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationMode",{get:function(){return this.viewportMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewport",{get:function(){return this._viewport},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderWidth",{get:function(){return this._renderWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){return this._renderHeight},enumerable:!0,configurable:!0}),e.prototype.getViewport=function(){return this.viewport},e.prototype.setLayers=function(e){var t=this.viewItems.layers;if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];this.element.removeChild(r.source)}for(var o=0,s=this.viewItems.layers=e;o<s.length;o++){r=s[o];this.element.appendChild(r.source)}},Object.defineProperty(e.prototype,"element",{get:function(){return this.viewItems.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return this.viewItems.layers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subviews",{get:function(){return this._subviews},enumerable:!0,configurable:!0}),e.prototype.getSubviews=function(){return this.subviews},e.prototype._processContextFrameState=function(e,t){var i=e.viewport.renderWidthScaleFactor||1,n=e.viewport.renderHeightScaleFactor||1;this._renderWidth=e.viewport.width*i,this._renderHeight=e.viewport.height*n;var r=e.subviews,o=this._subviews;o.length=r.length;for(var s=0,a=0,u=r;a<u.length;a++){var c=u[a],l=o[s]=o[s]||{};l.index=s,l.type=c.type,l.viewport=l.viewport||{},l.viewport.x=c.viewport.x,l.viewport.y=c.viewport.y,l.viewport.width=c.viewport.width,l.viewport.height=c.viewport.height,l.renderViewport=l.renderViewport||{},l.renderViewport.x=c.viewport.x*i,l.renderViewport.y=c.viewport.y*n,l.renderViewport.width=c.viewport.width*i,l.renderViewport.height=c.viewport.height*n,l.frustum=this._subviewFrustum[s]=this._subviewFrustum[s]||new F,Yo(c.projectionMatrix,l.frustum),l.projectionMatrix=l.frustum.projectionMatrix,l.pose=t.getEntityPose(t.getSubviewEntity(s)),l.pose.update(e.time),s++}this._updateViewport(e.viewport)},e.prototype.requestPresentationMode=function(e){return this.sessionService.manager.request("ar.view.desiredViewportMode",{mode:e})},Object.defineProperty(e.prototype,"desiredViewportMode",{get:function(){return this._desiredViewportMode},set:function(e){var t=this;this._desiredViewportMode=e,this.sessionService.manager.whenConnected().then(function(){0<t.sessionService.manager.version[0]&&t.sessionService.manager.send("ar.view.desiredViewportMode",{mode:e})})},enumerable:!0,configurable:!0}),e.prototype._updateViewportMode=function(e){this.viewportMode!==e&&(this._mode=e,this.viewportModeChangeEvent.raiseEvent(e))},e.prototype.publishEmbeddedViewport=function(e){this.sessionService.manager.isConnected&&1<=this.sessionService.manager.version[0]&&this.sessionService.manager.send("ar.view.embeddedViewport",{viewport:e})},e.prototype._updateViewport=function(e){var t=JSON.stringify(e);this._currentViewportJSON&&this._currentViewportJSON===t||(this._currentViewportJSON=t,this._viewport=nt.clone(e,this._viewport),this.viewportChangeEvent.raiseEvent(e))},e.prototype.sendUIEventToSession=function(e,t){t&&t.isConnected&&t.send("ar.view.uievent",e)},e.prototype._watchEmbeddedViewport=function(){var a=this,e=function(){if(a.element&&a.autoPublishEmbeddedMode){var e=a.element.parentElement,t=e&&e.getBoundingClientRect();if(t){var i=t.left,n=window.innerHeight-t.bottom,r=t.width,o=t.height,s=a._embeddedViewport;s.x===i&&s.y===n&&s.width===r&&s.height===o||(s.x=i,s.y=n,s.width=r,s.height=o,a.publishEmbeddedViewport(a._embeddedViewport))}}};setInterval(function(){a.focusService.hasFocus||e()},500),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("orientationchange",e),window.addEventListener("scroll",e),this.sessionService.manager.closeEvent.addEventListener(function(){window.removeEventListener("orientationchange",e),window.removeEventListener("scroll",e)}))},e}()),Li([Ho("viewportMode"),_i("design:type",Object),_i("design:paramtypes",[])],Ci.prototype,"presentationMode",null),Li([Ho("viewport"),_i("design:type",Function),_i("design:paramtypes",[]),_i("design:returntype",void 0)],Ci.prototype,"getViewport",null),Li([Ho("subviews"),_i("design:type",Function),_i("design:paramtypes",[]),_i("design:returntype",void 0)],Ci.prototype,"getSubviews",null),Li([Ho("desiredViewportMode"),_i("design:type",Function),_i("design:paramtypes",[Number]),_i("design:returntype",Object)],Ci.prototype,"requestPresentationMode",null),u("ViewService",Ci=Li([No,_i("design:paramtypes",["function"==typeof(ki=void 0!==Gt&&Gt)&&ki||Object,"function"==typeof(Fi=void 0!==Ei&&Ei)&&Fi||Object,bi])],Ci)),u("ViewServiceProvider",Ri=function(){function e(e,t,i,n){var r=this;this.sessionService=e,this.viewService=t,this.focusServiceProvider=i,this.sessionViewportMode=new WeakMap,this.sessionEmbeddedViewport=new WeakMap,this.forwardedUIEvent=new ct,e.ensureIsRealityManager(),e.connectEvent.addEventListener(function(i){r.sessionViewportMode.set(i,i===r.sessionService.manager?r.viewService.desiredViewportMode:xi.IMMERSIVE),i.on["ar.view.forwardUIEvent"]=function(e){r.forwardedUIEvent.raiseEvent(e)},i.on["ar.view.desiredViewportMode"]=function(e){var t=e.mode;r.sessionViewportMode.set(i,t),r._publishViewportModes()},i.on["ar.view.embeddedViewport"]=function(e){r.sessionEmbeddedViewport.set(i,e)},r._publishViewportModes()}),i.sessionFocusEvent.addEventListener(function(){r._publishViewportModes()})}return e.prototype.sendUIEventToSession=function(e,t){t.send("ar.view.uievent",e)},e.prototype._publishViewportModes=function(){this.sessionService.manager.send("ar.view.viewportMode",{mode:this.sessionViewportMode.get(this.sessionService.manager)});for(var e=0,t=this.sessionService.managedSessions;e<t.length;e++){var i=t[e],n=i===this.focusServiceProvider.session?this.sessionViewportMode.get(i):xi.IMMERSIVE;0<i.version[0]&&i.send("ar.view.viewportMode",{mode:n})}},e}()),u("ViewServiceProvider",Ri=Li([No(),_i("design:paramtypes",["function"==typeof(Qi=void 0!==Gt&&Gt)&&Qi||Object,Ci,"function"==typeof(Yi=void 0!==wi&&wi)&&Yi||Object,"function"==typeof(qi=void 0!==Ii&&Ii)&&qi||Object])],Ri)),"undefined"!=typeof document&&document.createElement&&((zi=document.querySelector("meta[name=viewport]"))||(zi=document.createElement("meta")),zi.name="viewport",zi.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",document.head.appendChild(zi),(Pi=document.querySelector("meta[name=argon]"))||(Pi=document.createElement("meta")),Pi.name="argon",document.head.appendChild(Pi),(Ui=document.createElement("style")).type="text/css",document.head.insertBefore(Ui,document.head.firstChild),(Bi=Ui.sheet).insertRule("\n        #argon {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            left: 0;\n            bottom: 0;\n            margin: 0;\n            border: 0;\n            padding: 0;\n        }\n    ",Bi.cssRules.length),Bi.insertRule("\n        .argon-view {\n            -webkit-tap-highlight-color: transparent;\n            -webkit-user-select: none;\n            user-select: none;\n        }\n    ",Bi.cssRules.length),Bi.insertRule("\n        .argon-immersive .argon-view {\n            position: fixed !important;\n            width: 100% !important;\n            height: 100% !important;\n            max-width: 100% !important;\n            max-height: 100% !important;\n            left: 0;\n            bottom: 0;\n            margin: 0;\n            border: 0;\n            padding: 0;\n            visibility: visible;\n        }\n    ",Bi.cssRules.length),Bi.insertRule("\n        :not(.argon-reality-manager).argon-immersive body {\n            visibility: hidden;\n        }\n    ",Bi.cssRules.length),Bi.insertRule("\n        .argon-interactive {\n            pointer-events: auto;\n        }\n    ",Bi.cssRules.length)),Gi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},Vi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("DeviceStableState",Hi=function(){this.entities={},this.suggestedGeolocationSubscription=void 0,this.suggestedUserHeight=Je,this.geolocationDesired=!1,this.geolocationOptions={},this.isPresentingHMD=!1,this.isPresentingRealityHMD=!1,this.strict=!1}),u("DeviceFrameState",Wi=function(){this._scratchFrustum=new F,this.time=P.now(),this.viewport=new rt,this.subviews=[{type:ot.SINGULAR,viewport:new nt,projectionMatrix:(this._scratchFrustum.near=$e,this._scratchFrustum.far=et,this._scratchFrustum.fov=U.PI_OVER_THREE,this._scratchFrustum.aspectRatio=1,k.clone(this._scratchFrustum.projectionMatrix))}]}),u("DeviceService",Xi=function(){function e(e,t,i,n){var r=this;if(this.sessionService=e,this.entityService=t,this.viewService=i,this.visibilityService=n,this.autoSubmitFrame=!0,this.frameState=new Wi,this.frameStateEvent=new ct,this.presentHMDChangeEvent=new ct,this.screenOrientationChangeEvent=new ct,this.suggestedGeolocationSubscriptionChangeEvent=new ct,this.stage=this.entityService.collection.add(new D({id:"ar.device.stage",name:"Device Stage",position:void 0,orientation:void 0})),this.origin=this.entityService.collection.add(new D({id:"ar.device.origin",name:"Device Origin",position:new b(R.ZERO,this.stage),orientation:new z(G.IDENTITY)})),this.user=this.entityService.collection.add(new D({id:"ar.device.user",name:"Device User",position:void 0,orientation:void 0})),this._geolocationDesired=!1,this.defaultUserHeight=Je,this._scratchCartesian=new R,this._scratchFrustum=new F,this._updatingFrameState=!1,this._updateFrameState=function(){if(r._updatingFrameState){r.requestAnimationFrame(r._updateFrameState);var e=r.frameState;P.now(e.time),e.strict=r.strict,r.onUpdateFrameState();try{r.frameStateEvent.raiseEvent(e)}catch(e){r.sessionService.manager.sendError(e),r.sessionService.errorEvent.raiseEvent(e)}}},this.requestAnimationFrame=function(e){return r._vrDisplay&&r.isPresentingHMD?r._vrDisplay.requestAnimationFrame(e):Ct(e)},this.cancelAnimationFrame=function(e){r._vrDisplay&&r.isPresentingHMD?r._vrDisplay.cancelAnimationFrame(e):Rt(e)},this._stringIdentifierFromReferenceFrame=xo,this._getReachableAncestorReferenceFrames=Ro,this._scratchArray=[],this._originPose=this.entityService.createEntityPose(this.origin,this.stage),this._scratchQuaternion=new G,this._scratchQuaternion2=new G,this._scratchMatrix3=new B,this._scratchMatrix4=new k,this._defaultLeftBounds=[0,0,.5,1],this._defaultRightBounds=[.5,0,.5,1],this._negX90=G.fromAxisAngle(R.UNIT_X,-U.PI_OVER_TWO),this.visibilityService.showEvent.addEventListener(function(){return r._startUpdates()}),this.visibilityService.hideEvent.addEventListener(function(){return r._stopUpdates()}),"undefined"!=typeof navigator&&navigator.getVRDisplays&&0<navigator.userAgent.indexOf("Argon")==!1&&(this._setupVRPresentChangeHandler(),navigator.getVRDisplays().then(function(e){r._vrDisplays=e,r._vrDisplay=e[0]})),"undefined"!=typeof window&&window.addEventListener){var o=function(){r.screenOrientationChangeEvent.raiseEvent(void 0)};window.addEventListener("orientationchange",o),e.manager.closeEvent.addEventListener(function(){window.removeEventListener("orientationchange",o)})}this.sessionService.isRealityManager?(this.entityService.subscribedEvent.addEventListener(function(e){"ar.stage"===e.id&&r._setSuggestedGeolocationSubscription(e.options||{})}),this.entityService.unsubscribedEvent.addEventListener(function(e){"ar.stage"===e.id&&r._setSuggestedGeolocationSubscription(void 0)})):e.manager.on["ar.device.state"]=e.manager.on["ar.device.frameState"]=function(e){var t=e.entities,i=r.entityService;if(t)for(var n in t)i.updateEntityFromSerializedState(n,t[n]);r._setSuggestedGeolocationSubscription(e.geolocationOptions||e.suggestedGeolocationSubscription),(r._parentState&&r._parentState.isPresentingHMD!==e.isPresentingHMD||r._parentState&&r._parentState.isPresentingRealityHMD!==e.isPresentingRealityHMD)&&r.presentHMDChangeEvent.raiseEvent(void 0),r._parentState=e}}return Object.defineProperty(e.prototype,"geoHeadingAccuracy",{get:function(){return this.user.meta?this.user.meta.geoHeadingAccuracy:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoHorizontalAccuracy",{get:function(){return this.stage.meta?this.stage.meta.geoHorizonatalAccuracy:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoVerticalAccuracy",{get:function(){return this.stage.meta?this.stage.meta.geoVerticalAccuracy:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geolocationDesired",{get:function(){return this._parentState?this._parentState.suggestedGeolocationSubscription||this._parentState.geolocationDesired:this._geolocationDesired},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geolocationOptions",{get:function(){return this._parentState?this._parentState.suggestedGeolocationSubscription||this._parentState.geolocationOptions:this._geolocationOptions},enumerable:!0,configurable:!0}),e.prototype._setSuggestedGeolocationSubscription=function(e){bo(this._suggestedGeolocationSubscription,e)||(this._suggestedGeolocationSubscription=e,this.suggestedGeolocationSubscriptionChangeEvent.raiseEvent(void 0))},Object.defineProperty(e.prototype,"suggestedGeolocationSubscription",{get:function(){return this._suggestedGeolocationSubscription},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"suggestedUserHeight",{get:function(){return this._parentState&&this._parentState.suggestedUserHeight||this.isPresentingHMD?this.defaultUserHeight:this.defaultUserHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strict",{get:function(){return!(!this._parentState||!this._parentState.strict)||this.isPresentingHMD&&!this._hasPolyfillWebVRDisplay()||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vrDisplay",{get:function(){return this._vrDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenOrientationDegrees",{get:function(){return"undefined"!=typeof window&&(screen.orientation&&-screen.orientation.angle||-window.orientation)||0},enumerable:!0,configurable:!0}),e.prototype.getScreenOrientationDegrees=function(){return this.getScreenOrientationDegrees},e.prototype._startUpdates=function(){var e=this;this._updatingFrameState||this.requestAnimationFrame(this._updateFrameState),this._updatingFrameState=!0,this.sessionService.manager.whenConnected().then(function(){0<e.sessionService.manager.version[0]&&e.sessionService.manager.send("ar.device.startUpdates")})},e.prototype._stopUpdates=function(){var e=this;this._updatingFrameState=!1,this.sessionService.manager.whenConnected().then(function(){0<e.sessionService.manager.version[0]&&e.sessionService.manager.send("ar.device.stopUpdates")})},e.prototype.onUpdateFrameState=function(){this._updateViewport(),this._vrDisplay&&this._vrDisplay.isPresenting?this._updateForWebVR():this._updateDefault()},e.prototype._updateViewport=function(){var e=this._parentState,t=this.frameState,i=t.viewport;if(e&&e.viewport)rt.clone(e.viewport,i);else{var n=this.viewService.element;i.x=0,i.y=0,i.width=n&&n.clientWidth||0,i.height=n&&n.clientHeight||0;var r=this._vrDisplay;if(r&&r.isPresenting){var o=r.getEyeParameters("left"),s=r.getEyeParameters("right"),a=t.viewport;a.renderWidthScaleFactor=2*Math.max(o.renderWidth,s.renderWidth)/a.width,a.renderHeightScaleFactor=Math.max(o.renderHeight,s.renderHeight)/a.height}else i.renderHeightScaleFactor=1,i.renderWidthScaleFactor=1}},e.prototype._updateDefault=function(){this._updateDefaultOrigin(),this._updateDefaultUser();var e=this._parentState,t=this.frameState,i=t.viewport;e&&e.viewport&&rt.clone(e.viewport,i);var n=t.subviews;if(e&&e.subviews)ut.clone(e.subviews,n);else{n.length=1;var r=n[0]||{};r.type=ot.SINGULAR,r.viewport.x=0,r.viewport.y=0,r.viewport.width=i.width,r.viewport.height=i.height;var o=i.width/i.height,s=this._scratchFrustum;s.near=$e,s.far=et,s.fov=U.PI_OVER_THREE,s.aspectRatio=isFinite(o)&&0!==o?o:1,r.projectionMatrix=k.clone(s.projectionMatrix,r.projectionMatrix);var a=this.getSubviewEntity(0);a.position.setValue(R.ZERO,this.user),a.orientation.setValue(G.IDENTITY)}},e.prototype._updateDefaultOrigin=function(){var e=this.origin,t=this.stage,i=this._originPose,n=this.frameState.time;if(i.update(n),0==(i.status&hi.KNOWN)||1e4<R.magnitudeSquared(i.position)){var r=this._getReachableAncestorReferenceFrames(t,n,this._scratchArray)[0];if(m(r)){var o=t.position.getValueInReferenceFrame(n,r,this._scratchCartesian),s=t.orientation.getValue(n,this._scratchQuaternion);if(o&&s)return e.position.setValue(o,r),e.orientation.setValue(s),void console.log("Updated device origin to "+JSON.stringify(o)+" at "+this._stringIdentifierFromReferenceFrame(r))}e.position.setValue(R.ZERO,t),e.orientation.setValue(G.IDENTITY)}},e.prototype._updateDefaultUser=function(){var e=this.user,t=this.stage,i=this._deviceOrientation;if(this._tryOrientationUpdates(),!i)return e.position=void 0,void(e.orientation=void 0);var n=G.fromAxisAngle(R.UNIT_Z,this.screenOrientationDegrees*U.RADIANS_PER_DEGREE,this._scratchQuaternion);e.position||(e.position=new b),e.orientation||(e.orientation=new z),e.position.setValue(R.fromElements(0,0,this.suggestedUserHeight,this._scratchCartesian),t),e.orientation.setValue(G.multiply(i,n,this._scratchQuaternion)),e.meta=e.meta||{},e.meta.geoHeadingAccuracy=this._deviceOrientationHeadingAccuracy},e.prototype._updateForWebVR=function(){var e=this._vrDisplay;if(!e)throw new Error("No vr display!");var t=this.frameState,i=this._vrFrameData=this._vrFrameData||new VRFrameData;if(!e.getFrameData(i))return this.frameState;var n=e.getLayers()[0],r=n&&n.leftBounds,o=n&&n.rightBounds;n?(r=n.leftBounds&&4===n.leftBounds.length?n.leftBounds:this._defaultLeftBounds,o=n.rightBounds&&4===n.rightBounds.length?n.rightBounds:this._defaultRightBounds):(r=this._defaultLeftBounds,o=this._defaultRightBounds);var s=t.viewport,a=t.subviews=t.subviews||[];a.length=2;var u=a[0]=a[0]||{},c=a[1]=a[1]||{};u.type=ot.LEFTEYE,c.type=ot.RIGHTEYE;var l=u.viewport=u.viewport||{};l.x=r[0]*s.width,l.y=r[1]*s.height,l.width=r[2]*s.width,l.height=r[3]*s.height;var h=c.viewport=c.viewport||{};h.x=o[0]*s.width,h.y=o[1]*s.height,h.width=o[2]*s.width,h.height=o[3]*s.height,u.projectionMatrix=k.clone(i.leftProjectionMatrix,u.projectionMatrix),c.projectionMatrix=k.clone(i.rightProjectionMatrix,c.projectionMatrix);var f=e.stageParameters?e.stageParameters.sittingToStandingTransform:k.IDENTITY,d=k.getRotation(f,this._scratchMatrix3),p=G.fromRotationMatrix(d,this._scratchQuaternion),g=this.user,M=this.origin,y=i.pose.position?R.unpack(i.pose.position,0,this._scratchCartesian):void 0,A=y?k.multiplyByPoint(f,y,this._scratchCartesian):void 0,E=i.pose.orientation?G.unpack(i.pose.orientation,0,this._scratchQuaternion2):void 0,w=E?G.multiply(p,E,this._scratchQuaternion):void 0;if(g.position||(g.position=new b),g.orientation||(g.orientation=new z),g.position.setValue(A,M),g.orientation.setValue(w),A&&w){var m=k.inverseTransformation(i.leftViewMatrix,this._scratchMatrix4),v=k.multiplyTransformation(f,m,this._scratchMatrix4),N=this.getSubviewEntity(0),D=k.getTranslation(v,this._scratchCartesian),T=k.getRotation(v,this._scratchMatrix3),I=G.fromRotationMatrix(T,this._scratchQuaternion);N.position.setValue(D,M),N.orientation.setValue(I);var O=k.inverseTransformation(i.rightViewMatrix,this._scratchMatrix4),S=k.multiplyTransformation(f,O,this._scratchMatrix4),L=this.getSubviewEntity(1),_=k.getTranslation(S,this._scratchCartesian),j=k.getRotation(S,this._scratchMatrix3),x=G.fromRotationMatrix(j,this._scratchQuaternion);L.position.setValue(_,M),L.orientation.setValue(x)}e.displayName.match(/polyfill/g)?(this._updateDefaultOrigin(),g.position.setValue(void 0,void 0),g.orientation.setValue(void 0),this._updateDefaultUser()):(this.origin.position.setValue(R.ZERO,this.stage),this.origin.orientation.setValue(G.IDENTITY))},e.prototype._hasPolyfillWebVRDisplay=function(){return!!this._vrDisplay&&!!this._vrDisplay.displayName.match(/polyfill/g)},e.prototype.onRequestPresentHMD=function(){if(this._vrDisplay){var e=this.viewService.element,t=this.viewService.layers,i=[{source:t&&t[0]&&t[0].source||e.querySelector("canvas")||e.lastElementChild}];return this._vrDisplay.requestPresent(i).catch(function(e){throw e})}throw new Error("No HMD available")},e.prototype.onExitPresentHMD=function(){return this._vrDisplay&&this._vrDisplay.isPresenting?this._vrDisplay.exitPresent():Promise.resolve()},e.prototype.createContextFrameState=function(e,t,i,n){return Cr.instance.context.createFrameState(e,t,i,n)},e.prototype.getSubviewEntity=function(e){var t=this.entityService.collection.getOrCreateEntity("ar.device.view_"+e);return t.position||(t.position=new b(R.ZERO,this.user)),t.orientation||(t.orientation=new z(G.IDENTITY)),t},e.prototype.subscribeGeolocation=function(e,t){return void 0===t&&(t=this.sessionService.manager),this.entityService.subscribe(this.stage.id,e,t).then(function(){})},e.prototype.unsubscribeGeolocation=function(e){void 0===e&&(e=this.sessionService.manager),this.entityService.unsubscribe(this.stage.id,e)},Object.defineProperty(e.prototype,"isPresentingHMD",{get:function(){return this._parentState&&this._parentState.isPresentingHMD||this._vrDisplay&&this._vrDisplay.isPresenting||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPresentingRealityHMD",{get:function(){return this._parentState&&this._parentState.isPresentingRealityHMD||this._vrDisplay&&this._vrDisplay.isPresenting&&!!this._vrDisplay.displayName.match(/polyfill/g)||!1},enumerable:!0,configurable:!0}),e.prototype.requestPresentHMD=function(){if(!this.sessionService.manager.isConnected)throw new Error("Session must be connected");return this.sessionService.isRealityManager?this.onRequestPresentHMD():this.sessionService.manager.request("ar.device.requestPresentHMD")},e.prototype.exitPresentHMD=function(){if(!this.sessionService.manager.isConnected)throw new Error("Session must be connected");return this.sessionService.isRealityManager?this.onExitPresentHMD():this.sessionService.manager.request("ar.device.exitPresentHMD")},e.prototype._tryOrientationUpdates=function(){var f=this;if("undefined"!=typeof window&&window.addEventListener&&!m(this._deviceOrientationListener)){var d=void 0;this._deviceOrientationListener=function(e){var t=e.alpha,i=e.webkitCompassHeading,n=+e.webkitCompassAccuracy;if(m(t)&&(e.absolute&&(d=0),f._deviceOrientationHeadingAccuracy=0<n?n:void 0,(!m(d)||5<Math.abs(0))&&m(i)&&0<=n&&n<80&&0<=i&&(m(d)?d-=0:d=-i),m(d)&&m(e.alpha)&&m(e.beta)&&m(e.gamma))){var r=U.RADIANS_PER_DEGREE*(e.alpha+d||-i||0),o=U.RADIANS_PER_DEGREE*e.beta,s=U.RADIANS_PER_DEGREE*e.gamma,a=G.fromAxisAngle(R.UNIT_Z,r,f._scratchQuaternion),u=G.fromAxisAngle(R.UNIT_X,o,f._scratchQuaternion2),c=G.multiply(a,u,f._scratchQuaternion),l=G.fromAxisAngle(R.UNIT_Y,s,f._scratchQuaternion2),h=G.multiply(c,l,f._scratchQuaternion);f._deviceOrientation=G.multiply(f._negX90,h,f._deviceOrientation||new G),f._deviceOrientationHeadingAccuracy=n}},"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._deviceOrientationListener):"ondeviceorientation"in window&&window.addEventListener("deviceorientation",this._deviceOrientationListener)}},e.prototype._setupVRPresentChangeHandler=function(){var n=this;if("undefined"!=typeof window&&window.addEventListener){var r,o;this.viewService.viewportModeChangeEvent.addEventListener(function(e){e===xi.PAGE&&n._vrDisplay&&n._vrDisplay.displayName.match(/polyfill/g)&&n.exitPresentHMD()});window.addEventListener("vrdisplaypresentchange",function(e){var t=n.viewService,i=e.display||e.detail.vrdisplay||e.detail.display;i&&(i.isPresenting?(n._vrDisplay=i).displayName.match(/polyfill/g)&&((r=i.getLayers()[0].source)&&r.classList.add("argon-interactive"),o=t.viewportMode,t.desiredViewportMode=xi.IMMERSIVE):r&&i.displayName.match(/polyfill/g)&&(r.classList.remove("argon-interactive"),r=void 0,t.desiredViewportMode=o))})}},e}()),Gi([Ho(),Vi("design:type",Object),Vi("design:paramtypes",[])],Xi.prototype,"geolocationDesired",null),Gi([Ho(),Vi("design:type",Object),Vi("design:paramtypes",[])],Xi.prototype,"geolocationOptions",null),Gi([Ho(),Vi("design:type",Function),Vi("design:paramtypes",["function"==typeof(Ki=void 0!==P&&P)&&Ki||Object,"function"==typeof(Ji=void 0!==rt&&rt)&&Ji||Object,"function"==typeof($i=void 0!==ut&&ut)&&$i||Object,Object]),Vi("design:returntype",Object)],Xi.prototype,"createContextFrameState",null),u("DeviceService",Xi=Gi([No(),Vi("design:paramtypes",["function"==typeof(en=void 0!==Gt&&Gt)&&en||Object,"function"==typeof(tn=void 0!==fi&&fi)&&tn||Object,"function"==typeof(nn=void 0!==Ci&&Ci)&&nn||Object,"function"==typeof(rn=void 0!==Ti&&Ti)&&rn||Object])],Xi)),u("DeviceServiceProvider",Zi=function(){function e(e,t,i,n,r){var o=this;this.sessionService=e,this.deviceService=t,this.viewService=i,this.entityService=n,this.entityServiceProvider=r,this._subscribers={},this._needsPublish=!1,this._publishTime=new P(0,0),this._stableState=new Hi,this._targetGeolocationOptions={},this._sessionGeolocationOptions=new Map,this._sctachStageCartesian=new R,this._scatchStageMatrix4=new k,this._scatchStageMatrix3=new B,this._scatchStageQuaternion=new G,this._eastUpSouthToFixedFrame=wt,this._scratchCartographic=new M,this.entityServiceProvider.targetReferenceFrameMap.set(t.stage.id,H.FIXED),this.entityServiceProvider.targetReferenceFrameMap.set(t.user.id,t.stage.id),this.sessionService.connectEvent.addEventListener(function(i){i.on["ar.device.requestFrameState"]=function(){return o._subscribers[i.id]=i,new Promise(function(t){var i=o.deviceService.frameStateEvent.addEventListener(function(e){t(e),i()})})},i.on["ar.device.startUpdates"]=function(){o._subscribers[i.id]=i},i.on["ar.device.stopUpdates"]=function(){delete o._subscribers[i.id]},i.on["ar.device.setGeolocationOptions"]=function(e){var t=e.options;o._sessionGeolocationOptions.set(i,t),o._checkDeviceGeolocationSubscribers()},i.on["ar.device.requestPresentHMD"]=function(){return o.handleRequestPresentHMD(i)},i.on["ar.device.exitPresentHMD"]=function(){return o.handleExitPresentHMD(i)},i.closeEvent.addEventListener(function(){o._sessionGeolocationOptions.has(i)&&(o._sessionGeolocationOptions.delete(i),o._checkDeviceGeolocationSubscribers())}),o._needsPublish=!0}),this.entityServiceProvider.sessionSubscribedEvent.addEventListener(function(e){var t=e.id,i=e.options,n=e.session;o.deviceService.stage.id===t&&(o._sessionGeolocationOptions.set(n,i),o._checkDeviceGeolocationSubscribers())}),this.entityServiceProvider.sessionUnsubscribedEvent.addEventListener(function(e){var t=e.id;o.deviceService.stage.id===t&&o._checkDeviceGeolocationSubscribers()}),this.deviceService.suggestedGeolocationSubscriptionChangeEvent.addEventListener(function(){o._needsPublish=!0}),this.viewService.viewportChangeEvent.addEventListener(function(){o._needsPublish=!0}),this.viewService.viewportModeChangeEvent.addEventListener(function(){o._needsPublish=!0}),this.deviceService.screenOrientationChangeEvent.addEventListener(function(){o._needsPublish=!0}),this.deviceService.frameStateEvent.addEventListener(function(e){if(o._needsPublish||o._stableState.isPresentingHMD!==o.deviceService.isPresentingHMD||o._stableState.isPresentingRealityHMD!==o.deviceService.isPresentingRealityHMD||!1===rt.equals(o._stableState.viewport,e.viewport))o._needsPublish=!0;else if(o._stableState.subviews)if(o._stableState.subviews.length===e.subviews.length){for(var t=0;t<e.subviews.length;t++)if(!at.equals(e.subviews[t],o._stableState.subviews[t])){o._needsPublish=!0;break}}else o._needsPublish=!0;o._needsPublish&&o.publishStableState()})}return e.prototype.handleRequestPresentHMD=function(e){return this.deviceService.requestPresentHMD()},e.prototype.handleExitPresentHMD=function(e){return this.deviceService.exitPresentHMD()},e.prototype.publishStableState=function(){var e=this._stableState;for(var t in e.suggestedGeolocationSubscription=this.deviceService.suggestedGeolocationSubscription,e.suggestedUserHeight=this.deviceService.suggestedUserHeight,e.strict=this.deviceService.strict,e.viewport=rt.clone(this.deviceService.frameState.viewport,e.viewport),e.subviews=ut.clone(this.deviceService.frameState.subviews,e.subviews),this.onUpdateStableState(this._stableState),P.now(this._publishTime),this._subscribers){var i=this._subscribers[t];if(0<i.version[0]&&i!==this.sessionService.manager){for(var n in e.entities)delete e.entities[n];this.entityServiceProvider.fillEntityStateMapForSession(i,this._publishTime,e.entities),i.send("ar.device.state",e)}}this._needsPublish=!1},e.prototype.onUpdateStableState=function(e){},e.prototype._checkDeviceGeolocationSubscribers=function(){var e=this.entityServiceProvider.subscribersByEntity.get(this.deviceService.stage.id);if(e&&0<e.size){var i={};this._sessionGeolocationOptions.forEach(function(e,t){i.enableHighAccuracy=i.enableHighAccuracy||e&&e.enableHighAccuracy||!1}),this._targetGeolocationOptions.enableHighAccuracy!==i.enableHighAccuracy&&(this._targetGeolocationOptions=i),JSON.stringify(this._targetGeolocationOptions)!==JSON.stringify(this._currentGeolocationOptions)&&(this._currentGeolocationOptions=this._targetGeolocationOptions,this.onStopGeolocationUpdates(),this.onStartGeolocationUpdates(this._targetGeolocationOptions))}else this.onStopGeolocationUpdates(),this._currentGeolocationOptions=void 0;this._needsPublish=!0},e.prototype.configureStage=function(e,t,i){var n=this;if(m(i)||0!==e.height){var r=this.deviceService.stage,o=R.fromRadians(e.longitude,e.latitude,e.height,void 0,this._sctachStageCartesian),s=this._eastUpSouthToFixedFrame(o,void 0,this._scatchStageMatrix4),a=k.getRotation(s,this._scatchStageMatrix3),u=G.fromRotationMatrix(a,this._scatchStageQuaternion);r.position=r.position||new b,r.orientation=r.orientation||new z,r.position.setValue(o,H.FIXED),r.orientation.setValue(u),r.meta={geoHorizontalAccuracy:t,geoVerticalAccuracy:i}}else Wo(e).then(function(){return n.configureStage(e,t,0)})},e.prototype.onStartGeolocationUpdates=function(e){var o=this;if("undefined"==typeof navigator||!navigator.geolocation)throw new Error("Unable to start geolocation updates");m(this._geolocationWatchId)||(this._geolocationWatchId=navigator.geolocation.watchPosition(function(e){var t=e.coords.longitude,i=e.coords.latitude,n=e.coords.altitude,r=M.fromDegrees(t,i,n||0,o._scratchCartographic);o.configureStage(r,0<e.coords.accuracy?e.coords.accuracy:void 0,e.coords.altitudeAccuracy||void 0)},function(e){console.warn("Unable to start geolocation updates: "+e.message)},e))},e.prototype.onStopGeolocationUpdates=function(){"undefined"!=typeof navigator&&m(this._geolocationWatchId)&&(navigator.geolocation.clearWatch(this._geolocationWatchId),this._geolocationWatchId=void 0)},e}()),u("DeviceServiceProvider",Zi=Gi([No(),Vi("design:paramtypes",["function"==typeof(on=void 0!==Gt&&Gt)&&on||Object,Xi,"function"==typeof(sn=void 0!==Ci&&Ci)&&sn||Object,"function"==typeof(an=void 0!==fi&&fi)&&an||Object,"function"==typeof(un=void 0!==di&&di)&&un||Object])],Zi)),cn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},ln=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("ContextService",hn=function(){function e(e,t,i,n){var s=this;this.entityService=e,this.sessionService=t,this.deviceService=i,this.viewService=n,this.updateEvent=new ct,this.renderEvent=new ct,this.postRenderEvent=new ct,this.originChangeEvent=new ct,this._originChanged=!1,this.timestamp=-1,this.deltaTime=0,this.maxDeltaTime=1/3*1e3,this.time=new P(0,0),this.origin=this.entities.add(new D({id:"ar.origin",name:"Origin",position:new b(void 0,H.FIXED),orientation:new z(void 0)})),this._localOrigin=this.entities.add(new D({id:"ar.localOrigin",name:"Local Origin",position:new b(R.ZERO,this.origin),orientation:new z(G.IDENTITY)})),this._localOriginEastNorthUp=this.entities.add(new D({id:"ar.localOriginENU",name:"Local Origin (ENU)",position:new b(R.ZERO,this.localOriginEastNorthUp),orientation:new z(G.fromAxisAngle(R.UNIT_X,-Math.PI/2))})),this.stage=this.entities.add(new D({id:"ar.stage",name:"Stage",position:new b(void 0,H.FIXED),orientation:new z(void 0)})),this.floor=this.entities.add(new D({id:"ar.floor",name:"Floor",position:new b(R.ZERO,this.stage),orientation:new z(G.IDENTITY)})),this.user=this.entities.add(new D({id:"ar.user",name:"User",position:new b(void 0,this.stage),orientation:new z(void 0)})),this.view=this.entities.add(new D({id:"ar.view",name:"View",position:new b(R.ZERO,this.user),orientation:new z(G.IDENTITY)})),this.defaultReferenceFrame=this.origin,this._entityPoseMap=new Map,this._updatingEntities=new Set,this._knownEntities=new Set,this._scratchCartesian=new R,this._scratchQuaternion=new G,this._scratchFrustum=new F,this.subscribe=this.entityService.subscribe.bind(this.entityService),this.unsubscribe=this.entityService.unsubscribe.bind(this.entityService),this._stringIdentifierFromReferenceFrame=xo,this._frameIndex=-1,this._scratchFrameState={time:{},entities:{},viewport:{},subviews:[]},this._getSerializedEntityState=Uo,this._getEntityPositionInReferenceFrame=zo,this._getEntityOrientationInReferenceFrame=Po,this._scratchMatrix3=new B,this._scratchMatrix4=new k,this.sessionService.manager.on["ar.context.update"]=function(e){var t=s._scratchFrustum;if("string"!=typeof e.reality&&(e.reality=e.reality&&e.reality.uri),!e.viewport&&e.view&&e.view.viewport&&(e.viewport=e.view.viewport),!e.subviews&&e.view&&e.view.subviews){e.subviews=e.view.subviews,t.near=$e,t.far=et;for(var i=0,n=e.subviews;i<n.length;i++){var r=n[i],o=r.frustum;t.xOffset=o.xOffset||0,t.yOffset=o.yOffset||0,t.fov=o.fov||U.PI_OVER_THREE,t.aspectRatio=o.aspectRatio||1,r.projectionMatrix=k.clone(t.projectionMatrix,r.projectionMatrix)}}!e.entities[s.user.id]&&e.view&&e.view.pose&&(e.entities[s.user.id]=e.view.pose),s._update(e)},this.origin.definitionChanged.addEventListener(function(e,t){"position"!==t&&"orientation"!==t||(e.position&&e.position.definitionChanged.addEventListener(function(){s._originChanged=!0}),e.orientation&&e.orientation.definitionChanged.addEventListener(function(){s._originChanged=!0}),s._originChanged=!0)}),this._scratchFrustum.near=$e,this._scratchFrustum.far=et,this._scratchFrustum.fov=U.PI_OVER_THREE,this._scratchFrustum.aspectRatio=1,this._serializedFrameState={reality:void 0,time:P.now(),entities:{},viewport:new rt,subviews:[{type:ot.SINGULAR,viewport:new nt,projectionMatrix:this._scratchFrustum.projectionMatrix}]}}return Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityService.collection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOriginChangeEvent",{get:function(){return this.originChangeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOrigin",{get:function(){return this._localOrigin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOriginEastUpSouth",{get:function(){return this._localOrigin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOriginEastNorthUp",{get:function(){return this._localOriginEastNorthUp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoposeHeadingAccuracy",{get:function(){return this.stage.meta.geoposeHeadingAccuracy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoposeHorizontalAccuracy",{get:function(){return this.stage.meta.geoposeHorizontalAccuracy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoposeVerticalAccuracy",{get:function(){return this.stage.meta.geoposeVerticalAccuracy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serializedFrameState",{get:function(){return this._serializedFrameState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"systemTime",{get:function(){return this.timestamp},enumerable:!0,configurable:!0}),e.prototype.getTime=function(){return this.time},e.prototype.setDefaultReferenceFrame=function(e){this.defaultReferenceFrame=e},e.prototype.getDefaultReferenceFrame=function(){return this.defaultReferenceFrame},e.prototype.subscribeToEntityById=function(e){return this.subscribe(e),this.entities.getOrCreateEntity(e)},e.prototype.getEntityCartographic=function(e,t){return this.entityService.getCartographic(e,this.time,t)},e.prototype.createGeoEntity=function(e,t){return this.entityService.createFixed(e,t)},e.prototype.createEntityPose=function(e,t){return void 0===t&&(t=this.defaultReferenceFrame),this.entityService.createEntityPose(e,t)},e.prototype.getEntityPose=function(e,t){void 0===t&&(t=this.defaultReferenceFrame);var i=this._stringIdentifierFromReferenceFrame(e)+"@"+this._stringIdentifierFromReferenceFrame(t),n=this._entityPoseMap.get(i);return n||(n=this.entityService.createEntityPose(e,t),this._entityPoseMap.set(i,n)),n.update(this.time),n},e.prototype.submitFrameState=function(e){e.index=++this._frameIndex,this._update(e)},e.prototype.createFrameState=function(e,t,i,n){var r=n&&n.overrideUser;this.deviceService.strict&&r&&(console.warn("The `overrideUser` flag is set, but the device is in strict mode"),r=!1);var o=this._scratchFrameState;o.time=P.clone(e,o.time),o.viewport=rt.clone(t,o.viewport),o.subviews=ut.clone(i,o.subviews);var s=o.entities={},a=this._getSerializedEntityState,u=this.stage;n&&n.overrideStage&&(s[u.id]=a(u,e,void 0));var c=this.user;r&&(s[c.id]=a(c,e,u));var l=this.view;n&&n.overrideView&&(s[l.id]=a(l,e,c));for(var h=0;h<i.length;h++){var f=i[h];if(!isFinite(f.projectionMatrix[0]))throw new Error("Invalid projection matrix (contains non-finite values)");if(n&&n.overrideSubviews){var d=this.getSubviewEntity(h);s[d.id]=a(d,e,l)}}var p=n&&n.floorOffset||0,g=this.floor;return g.position.setValue(R.fromElements(0,p,0,this._scratchCartesian),u),0!==p&&(o.entities[this.floor.id]=a(g,e,u)),o},e.prototype._updateBackwardsCompatability=function(e){this._knownEntities.clear();var t=this.entityService;for(var i in e.entities)t.updateEntityFromSerializedState(i,e.entities[i]),this._updatingEntities.add(i),this._knownEntities.add(i);for(var n=0,r=this._updatingEntities;n<r.length;n++){i=r[n];if(!this._knownEntities.has(i)){var o=this.entities.getById(i);o&&(o.position&&o.position.setValue(void 0),o.orientation&&o.orientation.setValue(void 0)),this._updatingEntities.delete(i)}}var s=this._getEntityPositionInReferenceFrame(this.user,e.time,H.FIXED,this._scratchCartesian);if(s){var a=wt(s,void 0,this._scratchMatrix4),u=k.getRotation(a,this._scratchMatrix3),c=G.fromRotationMatrix(u);this.stage.position.setValue(s,H.FIXED),this.stage.orientation.setValue(c)}else this.stage.position.setValue(R.fromElements(0,-this.deviceService.suggestedUserHeight,0,this._scratchCartesian),this.user.position.referenceFrame),this.stage.orientation.setValue(G.IDENTITY);e.entities[this.stage.id]=!0},e.prototype._update=function(e){var t=(this._serializedFrameState=e).time,i=e.entities,n=performance.now();if(this.deltaTime=Math.min(n-this.timestamp,this.maxDeltaTime),this.timestamp=n,P.clone(e.time,this.time),this.sessionService.manager.isConnected&&0===this.sessionService.manager.version[0])this._updateBackwardsCompatability(e);else{var r=this.entityService;for(var o in i)r.updateEntityFromSerializedState(o,i[o])}var s=this.deviceService.stage,a=this.stage;if(void 0===i[a.id]){var u=a.position,c=a.orientation;u.setValue(R.ZERO,s),c.setValue(G.IDENTITY)}var l=this.deviceService.user,h=this.user;if(void 0===i[h.id]){var f=this._getEntityPositionInReferenceFrame(l,t,s,this._scratchCartesian),d=this._getEntityOrientationInReferenceFrame(l,t,s,this._scratchQuaternion),p=h.position,g=h.orientation;p.setValue(f,a),g.setValue(d)}var M=this.view;if(void 0===i[M.id]){var y=M.position,A=M.orientation;y.setValue(R.ZERO,h),A.setValue(G.IDENTITY)}for(var E=0;E<e.subviews.length;E++)if(void 0===i["ar.view_"+E]){var w=this.deviceService.getSubviewEntity(E),m=this.getSubviewEntity(E),v=this._getEntityPositionInReferenceFrame(w,t,l,this._scratchCartesian),N=this._getEntityOrientationInReferenceFrame(w,t,l,this._scratchQuaternion),D=m.position,T=m.orientation;D.setValue(v,M),T.setValue(N)}void 0===i[this.floor.id]&&this.floor.position.setValue(R.ZERO,a);if(void 0===i[this.origin.id]){var I=this.deviceService.origin,O=this.origin,S=this._getEntityPositionInReferenceFrame(I,t,s,this._scratchCartesian),L=this._getEntityOrientationInReferenceFrame(I,t,s,this._scratchQuaternion),_=O.position,j=O.orientation;_.setValue(S,a),j.setValue(L)}if(this.viewService._processContextFrameState(e,this),this._originChanged){this._originChanged=!1;var x=this.origin.position;console.log("Updated context origin to "+JSON.stringify(x._value)+" at "+this._stringIdentifierFromReferenceFrame(x.referenceFrame)),this.originChangeEvent.raiseEvent(void 0)}this.updateEvent.raiseEvent(this),this.renderEvent.raiseEvent(this),this.postRenderEvent.raiseEvent(this);var b=this.deviceService.vrDisplay;this.deviceService.autoSubmitFrame&&b&&b.isPresenting&&b.submitFrame()},e.prototype.getSubviewEntity=function(e){var t=this.entityService.collection.getOrCreateEntity("ar.view_"+e);return t.position||(t.position=new b(R.ZERO,this.user)),t.orientation||(t.orientation=new z(G.IDENTITY)),t},e.prototype.subscribeGeolocation=function(e){return this.entityService.subscribe(this.stage.id,e).then(function(){})},e.prototype.unsubscribeGeolocation=function(){this.entityService.unsubscribe(this.stage.id)},Object.defineProperty(e.prototype,"geoHeadingAccuracy",{get:function(){return this.user.meta&&this.user.meta.geoHeadingAccuracy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoHorizontalAccuracy",{get:function(){return this.user.meta&&this.user.meta.geoHorizontalAccuracy||this.stage.meta&&this.stage.meta.geoHorizontalAccuracy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoVerticalAccuracy",{get:function(){return this.user.meta&&this.user.meta.geoVerticalAccuracy||this.stage.meta&&this.stage.meta.geoVerticalAccuracy},enumerable:!0,configurable:!0}),e}()),cn([Ho("originChangeEvent"),ln("design:type",Object),ln("design:paramtypes",[])],hn.prototype,"localOriginChangeEvent",null),cn([Ho("origin"),ln("design:type",Object),ln("design:paramtypes",[])],hn.prototype,"localOrigin",null),cn([Ho(),ln("design:type",Object),ln("design:paramtypes",[])],hn.prototype,"localOriginEastUpSouth",null),cn([Ho(),ln("design:type",Object),ln("design:paramtypes",[])],hn.prototype,"localOriginEastNorthUp",null),cn([Ho("timestamp"),ln("design:type",Object),ln("design:paramtypes",[])],hn.prototype,"systemTime",null),cn([Ho("time"),ln("design:type",Function),ln("design:paramtypes",[]),ln("design:returntype","function"==typeof(dn=void 0!==P&&P)&&dn||Object)],hn.prototype,"getTime",null),cn([Ho(),ln("design:type",Function),ln("design:paramtypes",["function"==typeof(pn=void 0!==D&&D)&&pn||Object]),ln("design:returntype",void 0)],hn.prototype,"setDefaultReferenceFrame",null),cn([Ho("defaultReferenceFrame"),ln("design:type",Function),ln("design:paramtypes",[]),ln("design:returntype","function"==typeof(gn=void 0!==D&&D)&&gn||Object)],hn.prototype,"getDefaultReferenceFrame",null),cn([Ho("subscribe"),ln("design:type",Function),ln("design:paramtypes",[String]),ln("design:returntype","function"==typeof(Mn=void 0!==D&&D)&&Mn||Object)],hn.prototype,"subscribeToEntityById",null),cn([Ho("EntityService.createFixed"),ln("design:type",Function),ln("design:paramtypes",["function"==typeof(yn=void 0!==M&&M)&&yn||Object,Object]),ln("design:returntype",void 0)],hn.prototype,"createGeoEntity",null),u("ContextService",hn=cn([No(),ln("design:paramtypes",["function"==typeof(An=void 0!==fi&&fi)&&An||Object,"function"==typeof(En=void 0!==Gt&&Gt)&&En||Object,"function"==typeof(wn=void 0!==Xi&&Xi)&&wn||Object,"function"==typeof(mn=void 0!==Ci&&Ci)&&mn||Object])],hn)),u("ContextServiceProvider",fn=function(){function e(e,t,i,n){var r=this;this.sessionService=e,this.contextService=t,this.entityServiceProvider=i,this.permissionServiceProvider=n,this._cacheTime=new P(0,0),this._sessionEntities={},this._temp={},this.desiredGeolocationOptions={},this.sessionGeolocationOptions=new Map,this.entityServiceProvider.targetReferenceFrameMap.set(this.contextService.stage.id,H.FIXED),this.entityServiceProvider.sessionSubscribedEvent.addEventListener(function(e){e.id===r.contextService.stage.id&&e.session!==r.sessionService.manager&&(r._setGeolocationOptions(e.session,e.options),r.contextService.subscribeGeolocation(r.desiredGeolocationOptions))}),this.entityServiceProvider.sessionUnsubscribedEvent.addEventListener(function(){var e=r.entityServiceProvider.subscribersByEntity.get(r.contextService.stage.id);e&&1===e.size&&e.has(r.sessionService.manager)&&r.contextService.unsubscribeGeolocation()}),this.contextService.updateEvent.addEventListener(function(){r._publishUpdates()})}return e.prototype._publishUpdates=function(){var e=this.contextService.serializedFrameState;this._cacheTime=P.clone(e.time,this._cacheTime);for(var t=0,i=this.sessionService.managedSessions;t<i.length;t++){var n=i[t];tt.isRealityAugmenter(n.info.role)&&this._sendUpdateForSession(e,n)}},e.prototype._sendUpdateForSession=function(e,t){var i=this._sessionEntities,n=this.entityServiceProvider;for(var r in i)delete i[r];if(e.entities)for(var r in e.entities)i[r]=e.entities[r];i[this.contextService.origin.id]=n.getCachedSerializedEntityState(this.contextService.origin,e.time);var o=n.subscriptionsBySubscriber.get(t),s=this.contextService,a=s.stage.id;o[a]||delete i[a];for(var u,c=o.keys();!(u=c.next()).done;){var l=u.value,h=s.entities.getById(l);i[l]=n.getCachedSerializedEntityState(h,e.time)}this.permissionServiceProvider.getPermissionState(t,"geolocation")!=ni.GRANTED&&delete i[a];var f=e.entities;if(e.entities=i,e.time=e.time,e.sendTime=P.now(e.sendTime),0===t.version[0]){for(var d=0,p=e.subviews;d<p.length;d++){var g=p[d];g.frustum=g.frustum||Yo(g.projectionMatrix,{})}var M=this._temp;M.viewport=e.viewport,M.subviews=e.subviews,M.pose=e.entities["ar.user"],delete e.subviews,delete e.viewport,delete e.entities["ar.user"],e.view=M,t.send("ar.context.update",e),delete e.view,e.viewport=M.viewport,e.subviews=M.subviews}else 1===t.version[0]&&1===t.version[1]&&e.entities["ar.user"]?(e.entities["ar.user"].r="ar.stageEUS",t.send("ar.context.update",e),e.entities["ar.user"].r="ar.stage"):t.send("ar.context.update",e);e.entities=f},e.prototype._setGeolocationOptions=function(e,t){var i=this;this.sessionGeolocationOptions.set(e,t),e.closeEvent.addEventListener(function(){i.sessionGeolocationOptions.delete(e),i._updateDesiredGeolocationOptions()}),this._updateDesiredGeolocationOptions()},e.prototype._updateDesiredGeolocationOptions=function(){var i={};this.sessionGeolocationOptions.forEach(function(e,t){i.enableHighAccuracy=i.enableHighAccuracy||e&&e.enableHighAccuracy||!1}),this.desiredGeolocationOptions.enableHighAccuracy!==i.enableHighAccuracy&&(this.desiredGeolocationOptions=i)},e}()),u("ContextServiceProvider",fn=cn([No(),ln("design:paramtypes",["function"==typeof(vn=void 0!==Gt&&Gt)&&vn||Object,hn,"function"==typeof(Nn=void 0!==di&&di)&&Nn||Object,"function"==typeof(Dn=void 0!==oi&&oi)&&Dn||Object])],fn)),u("RealityViewer",Tn=function(){function e(e){var t=this;this.uri=e,this.providedReferenceFrames=[],this.connectEvent=new ct,this.presentChangeEvent=new ct,this._isPresenting=!1,this.connectEvent.addEventListener(function(e){t._session&&t._session.close(),(t._session=e).closeEvent.addEventListener(function(){t._session===e&&(t._session=void 0)})})}return Object.defineProperty(e.prototype,"isPresenting",{get:function(){return this._isPresenting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"session",{get:function(){return this._session},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.setPresenting(!1),this.session&&this.session.close()},e.prototype.setPresenting=function(e){this._isPresenting!==e&&(this._isPresenting=e,this.presentChangeEvent.raiseEvent(void 0))},e.getType=function(e){if(void 0!==e)return"reality"===e.split(":")[0]?e:"hosted"},e}()),Tn.DEFAULT="reality:default",Tn.EMPTY="reality:empty",Tn.LIVE="reality:live",In=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},On=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},Sn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("EmptyRealityViewer",Ln=function(u){function e(e,t,i,n){var r=u.call(this,n)||this;function o(e){switch(e){case"W".charCodeAt(0):return"moveForward";case"S".charCodeAt(0):return"moveBackward";case"E".charCodeAt(0):return"moveUp";case"R".charCodeAt(0):return"moveDown";case"D".charCodeAt(0):return"moveRight";case"A".charCodeAt(0):return"moveLeft";default:return}}r.sessionService=e,r.viewService=t,r.container=i,r.uri=n,r.type="empty",r._moveFlags={moveForward:!1,moveBackward:!1,moveUp:!1,moveDown:!1,moveLeft:!1,moveRight:!1},r._scratchMatrix3=new B,r._scratchMatrix4=new k;var s=function(e){var t=o(e.keyCode);void 0!==t&&(r._moveFlags[t]=!0)},a=function(e){var t=o(e.keyCode);void 0!==t&&(r._moveFlags[t]=!1)};return"undefined"!=typeof document&&r.presentChangeEvent.addEventListener(function(){if(r.isPresenting)r.viewService.element.style.backgroundColor="white",!r._aggregator&&r.viewService.element&&(r.viewService.element.disableRootEvents=!0,r._aggregator=new d(r.viewService.element),document.addEventListener("keydown",s,!1),document&&document.addEventListener("keyup",a,!1));else for(var e in delete r.viewService.element.style.backgroundColor,r._aggregator&&r._aggregator.destroy(),r._aggregator=void 0,document&&document.removeEventListener("keydown",s),document&&document.removeEventListener("keyup",a),r._moveFlags)r._moveFlags[e]=!1}),r}return In(e,u),e.prototype.load=function(){var O=this,e=this.container.createChild(),t=this.sessionService.addManagedSessionPort(this.uri);t.connectEvent.addEventListener(function(){O.connectEvent.raiseEvent(t)}),e.registerInstance(qt,new Xt(t,this.sessionService.configuration)),e.registerInstance(it,{role:tt.REALITY_VIEWER,uri:this.uri,title:"Empty",version:this.sessionService.configuration.version,supportsCustomProtocols:!0,protocols:["ar.configureStage@v1"]}),e.autoRegisterAll([Gt,fi,Ti,hn,Xi,Zn]);var S,L,_=e.get(hn),j=e.get(Xi),x=e.get(Gt),i=e.get(Zn),b=e.get(Ci);j.autoSubmitFrame=!1,i.connectEvent.addEventListener(function(e){e.on["ar.configureStage.setStageGeolocation"]=function(e){var t=e.geolocation;S=R.fromRadians(t.longitude,t.latitude,t.height,void 0,S);var i=wt(S,void 0,O._scratchMatrix4),n=k.getRotation(i,O._scratchMatrix3);L=G.fromRotationMatrix(n,L)},e.on["ar.configureStage.resetStageGeolocation"]=function(){L=S=void 0}}),x.manager.connectEvent.addEventListener(function(){x.manager.suppressErrorOnUnknownTopic=!0;var g=new G,M=new G,y=new R,A=new R,E=new B,w=new R(0,0,1),m=new R(1,0,0),v=new R(0,-1,0),N=new F,e=j.stage,t=j.user,D=new R(0,0,-1),T=[],I=_.createEntityPose(t,e),i=function(){j.suggestedGeolocationSubscription?j.subscribeGeolocation(j.suggestedGeolocationSubscription):j.unsubscribeGeolocation()};i();var n=j.suggestedGeolocationSubscriptionChangeEvent.addEventListener(i),r=j.frameStateEvent.addEventListener(function(e){if(!x.manager.isClosed){var t=O._aggregator,i=O._moveFlags;if(O.isPresenting){if(ut.clone(e.subviews,T),!j.strict){if(Yo(T[0].projectionMatrix,N),N.fov=b.subviews[0]&&b.subviews[0].frustum.fov||U.PI_OVER_THREE,t&&t.isMoving(C.WHEEL)){var n=t.getMovement(C.WHEEL).endPosition.y;N.fov=Math.min(Math.max(N.fov-.02*n,Math.PI/8),Math.PI-Math.PI/8)}if(t&&t.isMoving(C.PINCH)){var r=t.getMovement(C.PINCH);n=r.distance.endPosition.y-r.distance.startPosition.y;N.fov=Math.min(Math.max(N.fov-.02*n,Math.PI/8),Math.PI-Math.PI/8)}T.forEach(function(e){var t=e.viewport.width/e.viewport.height;N.aspectRatio=isFinite(t)?t:1,k.clone(N.projectionMatrix,e.projectionMatrix)})}var o=e.time;I.update(o);var s=!(I.status&hi.KNOWN);if(s){var a=_.user,u=zo(a,o,f=_.stage,y)||R.fromElements(0,j.suggestedUserHeight,0,y),c=Po(a,o,f,g)||G.clone(G.IDENTITY,g);if(t&&t.isMoving(C.LEFT_DRAG)){var l=t.getMovement(C.LEFT_DRAG);if(c){var h=G.fromAxisAngle(R.UNIT_Y,N.fov*(l.endPosition.x-l.startPosition.x)/e.viewport.width,M);c=G.multiply(c,h,h),a.orientation.setValue(c)}}B.fromQuaternion(c,E),B.multiplyByVector(E,R.UNIT_Y,w),B.multiplyByVector(E,R.UNIT_X,m),B.multiplyByVector(E,D,v);i.moveForward&&(R.multiplyByScalar(v,.02,A),R.add(u,A,u)),i.moveBackward&&(R.multiplyByScalar(v,-.02,A),R.add(u,A,u)),i.moveUp&&(R.multiplyByScalar(w,.02,A),R.add(u,A,u)),i.moveDown&&(R.multiplyByScalar(w,-.02,A),R.add(u,A,u)),i.moveLeft&&(R.multiplyByScalar(m,-.02,A),R.add(u,A,u)),i.moveRight&&(R.multiplyByScalar(m,.02,A),R.add(u,A,u)),a.position.setValue(u,f),a.orientation.setValue(c)}var f,d=!(!S||!L);if(d)(f=_.stage).position.setValue(S,H.FIXED),f.orientation.setValue(L);var p=_.createFrameState(o,e.viewport,T,{overrideUser:s,overrideStage:d});_.submitFrameState(p),t&&t.reset()}else t&&t.reset()}});x.manager.closeEvent.addEventListener(function(){n(),r()})}),x.connect()},e}(Tn)),u("EmptyRealityViewer",Ln=On([Do(Gt,Ci,Ge),Sn("design:paramtypes",["function"==typeof(_n=void 0!==Gt&&Gt)&&_n||Object,"function"==typeof(jn=void 0!==Ci&&Ci)&&jn||Object,"function"==typeof(xn=void 0!==Ge&&Ge)&&xn||Object,String])],Ln)),bn=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Cn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},Rn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("LiveRealityViewer",zn=function(a){function e(e,t,i,n,r){var o=a.call(this,r)||this;if(o.sessionService=e,o.viewService=t,o.contextService=i,o.deviceService=n,o.uri=r,"undefined"!=typeof document){o.settingsIframe=document.createElement("iframe"),o.settingsIframe.width="0",o.settingsIframe.height="0",o.settingsIframe.src="https://argonjs.io/tools.argonjs.io/",o.settingsIframe.style.display="none",o.videoFov=Math.PI/2,o.videoElement=document.createElement("video"),o.videoElement.style.width="100%",o.videoElement.style.height="height:100%",o.videoElement.controls=!1,o.videoElement.autoplay=!0,o.videoElement.style.display="none",o.videoElement.style.zIndex="-100";var s=o.viewService.element;s.insertBefore(o.settingsIframe,s.firstChild),s.insertBefore(o.videoElement,s.firstChild),o.canvas=document.createElement("canvas"),o.context=o.canvas.getContext("2d"),window.addEventListener("message",function(e){"http://argonjs.io"===e.origin&&(o.videoFov=e.data)})}return o.presentChangeEvent.addEventListener(function(){"undefined"!=typeof document&&(o.videoElement.style.display=o.isPresenting?"initial":"none")}),o}return bn(e,a),e.prototype.destroy=function(){a.prototype.destroy.call(this),"undefined"!=typeof document&&(this.settingsIframe.remove(),this.videoElement.remove(),this.canvas.remove())},e.prototype.setupInternalSession=function(o){var s=this;o.connectEvent.addEventListener(function(){if(s.videoElement){var n=s.videoElement,e=navigator.mediaDevices;(e.getUserMedia||e.mozGetUserMedia||e.msGetUserMedia||e.webkitGetUserMedia).bind(e)({audio:!1,video:!0}).then(function(i){var e=function(){for(var e=0,t=i.getTracks();e<t.length;e++){t[e].stop()}};o.isConnected?(n.src=window.URL.createObjectURL(i),o.closeEvent.addEventListener(e)):e()}).catch(function(e){o.errorEvent.raiseEvent(e)});var i=-1,t=s.deviceService.suggestedGeolocationSubscriptionChangeEvent.addEventListener(function(){s.deviceService.suggestedGeolocationSubscription?s.deviceService.subscribeGeolocation(s.deviceService.suggestedGeolocationSubscription,o):s.deviceService.unsubscribeGeolocation()}),r=s.deviceService.frameStateEvent.addEventListener(function(e){if(n.currentTime!=i){i=n.currentTime;var t=s.contextService.createFrameState(e.time,e.viewport,e.subviews);o.send("ar.reality.frameState",t)}});o.closeEvent.addEventListener(function(){t(),r()})}})},e.prototype.load=function(){var t=this,i=this.sessionService.addManagedSessionPort(this.uri);i.connectEvent.addEventListener(function(){t.connectEvent.raiseEvent(i)});var n=this.sessionService.createSessionPort(this.uri);n.suppressErrorOnUnknownTopic=!0,this.setupInternalSession(n),Promise.resolve().then(function(){if(!t.sessionService.manager.isClosed){var e=t.sessionService.createSynchronousMessageChannel();i.open(e.port1,t.sessionService.configuration),n.open(e.port2,{role:tt.REALITY_VIEWER,title:"Live",uri:t.uri,version:t.sessionService.configuration.version})}})},e.isAvailable=function(){if("undefined"!=typeof navigator&&navigator.mediaDevices){var e=navigator.mediaDevices;return!!(e.getUserMedia||e.mozGetUserMedia||e.msGetUserMedia||e.webkitGetUserMedia)}return!1},e.prototype.getVideoFrame=function(e,t,i,n){return this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.context.drawImage(this.videoElement,0,0,this.canvas.width,this.canvas.height),this.context.getImageData(e,t,i,n)},e}(Tn)),u("LiveRealityViewer",zn=Cn([Do(Gt,Ci,hn,Xi),Rn("design:paramtypes",["function"==typeof(Pn=void 0!==Gt&&Gt)&&Pn||Object,"function"==typeof(Un=void 0!==Ci&&Ci)&&Un||Object,"function"==typeof(Bn=void 0!==hn&&hn)&&Bn||Object,"function"==typeof(kn=void 0!==Xi&&Xi)&&kn||Object,String])],zn)),Fn=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Qn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},Yn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("HostedRealityViewer",qn=function(s){function e(e,t,i){var n=s.call(this,i)||this;if(n.sessionService=e,n.viewService=t,n.uri=i,n.type="hosted","undefined"!=typeof document&&document.createElement){var r=n.iframeElement=document.createElement("iframe");r.name=Oo(),r.style.border="0",r.width="100%",r.height="100%",r.style.position="absolute",r.style.opacity="0",r.style.pointerEvents="none",r.style.zIndex="-100";var o=n.viewService.element;o.insertBefore(r,o.firstChild),n.presentChangeEvent.addEventListener(function(){n.iframeElement.style.opacity=n.isPresenting?"1":"0"})}return n}return Fn(e,s),e.prototype.destroy=function(){s.prototype.destroy.call(this),this.iframeElement&&this.iframeElement.remove()},e.prototype.load=function(){var n=this;if("undefined"!=typeof document&&document.createElement){var r=this.sessionService.addManagedSessionPort(this.uri);r.connectEvent.addEventListener(function(){n.sessionService.manager.isClosed||n.connectEvent.raiseEvent(r)});var o=function(e){if("ARGON_SESSION"===e.data.type){var t=e.data.name,i=e.ports&&e.ports[0];if(!i)throw new Error("Received an ARGON_SESSION message without a MessagePort object");t===n.iframeElement.name&&(window.removeEventListener("message",o),r.open(i,n.sessionService.configuration))}};window.addEventListener("message",o),this.iframeElement.src="",this.iframeElement.src=this.uri}},e}(Tn)),u("HostedRealityViewer",qn=Qn([Do(Gt,Ci),Yn("design:paramtypes",["function"==typeof(Gn=void 0!==Gt&&Gt)&&Gn||Object,"function"==typeof(Vn=void 0!==Ci&&Ci)&&Vn||Object,String])],qn)),Hn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},Wn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("RealityViewerFactory",Xn=function(){function e(e,t,i){this._createEmptyReality=e,this._createLiveReality=t,this._createHostedReality=i}return e.prototype.createRealityViewer=function(e){switch(Tn.getType(e)){case Tn.EMPTY:return this._createEmptyReality(e);case Tn.LIVE:return this._createLiveReality(e);case"hosted":return this._createHostedReality(e);default:throw new Error("Unsupported Reality Viewer: "+e)}},e}()),u("RealityViewerFactory",Xn=Hn([Do(ze.of(Ln),ze.of(zn),ze.of(qn)),Wn("design:paramtypes",[Object,Object,Object])],Xn)),u("RealityService",Zn=function(){function e(r,e){var a=this;this.sessionService=r,this.contextService=e,this._connectEvent=new ct,this._sessions=[],this._changeEvent=new ct,this.default=Tn.EMPTY,r.manager.on["ar.reality.connect"]=function(e){var t=e.id,i=a.sessionService.createSessionPort(t),n=a.sessionService.createSynchronousMessageChannel(),r="ar.reality.message.route."+t,o="ar.reality.message.send."+t,s="ar.reality.close."+t;n.port1.onmessage=function(e){a.sessionService.manager.send(r,e.data)},a.sessionService.manager.on[o]=function(e){n.port1.postMessage(e)},a.sessionService.manager.on[s]=function(){i.close()},i.connectEvent.addEventListener(function(){a.sessions.push(i),a.connectEvent.raiseEvent(i),i.closeEvent.addEventListener(function(){var e=a.sessions.indexOf(i);a.sessions.splice(e,1)})}),a.sessionService.manager.closeEvent.addEventListener(function(){i.close(),delete a.sessionService.manager.on[o],delete a.sessionService.manager.on[s]}),i.open(n.port2,a.sessionService.configuration)},this.contextService.updateEvent.addEventListener(function(){var e=a.contextService.serializedFrameState;if(r.isRealityViewer&&r.manager.isConnected)if(r.manager.isConnected&&0===r.manager.version[0]){var t=e.eye=e.eye||{};t.pose=e.entities["ar.user"],t.viewport=nt.clone(e.subviews[0].viewport,t.viewport),delete e.entities["ar.user"],r.manager.send("ar.reality.frameState",e),e.entities["ar.user"]=t.pose}else r.manager.send("ar.reality.frameState",e);var i=e.reality,n=a._current;n!==i&&(a._current=i,a.changeEvent.raiseEvent({previous:n,current:i}))})}return Object.defineProperty(e.prototype,"connectEvent",{get:function(){return this._connectEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessions",{get:function(){return this._sessions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeEvent",{get:function(){return this._changeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),e.prototype.install=function(e){var t=this;return this.sessionService.manager.whenConnected().then(function(){return 1<=t.sessionService.manager.version[0]!=!0?Promise.reject(new Error("Not supported")):t.sessionService.manager.request("ar.reality.install",{uri:e})})},e.prototype.uninstall=function(e){var t=this;return this.sessionService.manager.whenConnected().then(function(){return 1<=t.sessionService.manager.version[0]!=!0?Promise.reject(new Error("Not supported")):t.sessionService.manager.request("ar.reality.uninstall",{uri:e})})},e.prototype.request=function(e){var t=this;return this.sessionService.manager.whenConnected().then(function(){return 1<=t.sessionService.manager.version[0]!=!0?t.sessionService.manager.request("ar.reality.desired",{reality:{uri:e}}):t.sessionService.manager.request("ar.reality.request",{uri:e})})},e.prototype.setDesired=function(e){this.request(e?e.uri:Tn.DEFAULT)},e.prototype.setStageGeolocation=function(e,t){return e.supportsProtocol("ar.configureStage")?e.request("ar.configureStage.setStageGeolocation",{geolocation:t}):Promise.reject("Protocol `ar.configureStage` is not supported")},e.prototype.resetStageGeolocation=function(e){return e.supportsProtocol("ar.configureStage")?e.request("ar.configureStage.resetStageGeolocation"):Promise.reject("Protocol `ar.configureStage` is not supported")},e}()),Hn([Ho("request"),Wn("design:type",Function),Wn("design:paramtypes",[Object]),Wn("design:returntype",void 0)],Zn.prototype,"setDesired",null),u("RealityService",Zn=Hn([No(),Wn("design:paramtypes",["function"==typeof(Jn=void 0!==Gt&&Gt)&&Jn||Object,"function"==typeof($n=void 0!==hn&&hn)&&$n||Object])],Zn)),u("RealityServiceProvider",Kn=function(){function e(e,t,i,n,r,o,s,a){var u=this;this.sessionService=e,this.realityService=t,this.contextService=i,this.deviceService=n,this.viewServiceProvider=r,this.visibilityServiceProvider=o,this.focusServiceProvider=s,this.realityViewerFactory=a,this.installedEvent=new ct,this.uninstalledEvent=new ct,this._viewerByURI=new Map,this._installersByURI=new Map,this._scratchFrustum=new F,e.ensureIsRealityManager(),e.manager.connectEvent.addEventListener(function(){setTimeout(function(){!u._presentingRealityViewer&&u.realityService.default&&u._handleRequest(u.sessionService.manager,{uri:u.realityService.default})})}),e.manager.closeEvent.addEventListener(function(){u._viewerByURI.forEach(function(e){e.destroy()})}),e.connectEvent.addEventListener(function(n){tt.isRealityViewer(n.info.role)||(n.on["ar.reality.install"]=function(e){var t=e.uri;return u._handleInstall(n,t)},n.on["ar.reality.uninstall"]=function(e){var t=e.uri;return u._handleUninstall(n,t)},n.on["ar.reality.request"]=function(e){return u._handleRequest(n,e)},n.on["ar.reality.desired"]=function(e){var t=e.reality;if(t&&t.type){var i=t.type;t.uri=t.uri||"reality:"+i,"hosted"===i&&(t.uri=t.url)}u._handleRequest(n,{uri:t.uri})})}),this.viewServiceProvider.forwardedUIEvent.addEventListener(function(e){var t=u._presentingRealityViewer&&u._presentingRealityViewer.session;t&&u.viewServiceProvider.sendUIEventToSession(e,t)})}return Object.defineProperty(e.prototype,"presentingRealityViewer",{get:function(){return this._presentingRealityViewer},enumerable:!0,configurable:!0}),e.prototype._handleInstall=function(r,o){var l=this,e=this._installersByURI.get(o);if(e)e.add(r);else{var h=this.realityViewerFactory.createRealityViewer(o);this._viewerByURI.set(o,h),(e=new Set).add(r),this._installersByURI.set(o,e),h.connectEvent.addEventListener(function(c){if(!l.sessionService.manager.isClosed){if(!tt.isRealityViewer(c.info.role))throw c.sendError({message:"Expected a reality viewer"}),c.close(),new Error('The application "'+c.uri+'" does not support being loaded as a reality viewer');if(c.on["ar.reality.frameState"]=function(e){if(l._presentingRealityViewer===h){if(0===c.version[0]){var t=l.deviceService.frameState;if(!t)return;e.viewport=rt.clone(t.viewport,e.viewport),e.subviews=ut.clone(t.subviews,e.subviews);var i=e.eye,n=i.pose,r=i.fov;e.entities=e.entities||{},e.entities["ar.user"]=n;for(var o=0,s=e.subviews;o<s.length;o++){var a=s[o],u=Yo(a.projectionMatrix,a.frustum||{});u.fov=r,l._scratchFrustum.clone(u),a.projectionMatrix=k.clone(l._scratchFrustum.projectionMatrix,a.projectionMatrix)}}e.reality=h.uri,l.contextService.submitFrameState(e)}},c.info.supportsCustomProtocols){l._connectViewerWithSession(c,l.sessionService.manager);for(var e=0,t=l.sessionService.managedSessions;e<t.length;e++)r=t[e],l._connectViewerWithSession(c,r);var i=l.sessionService.connectEvent.addEventListener(function(e){l._connectViewerWithSession(c,e)});c.closeEvent.addEventListener(function(){return i()})}var n=h.presentChangeEvent.addEventListener(function(){l.visibilityServiceProvider.set(c,h.isPresenting)});l.visibilityServiceProvider.set(c,h.isPresenting),c.closeEvent.addEventListener(function(){n(),l.contextService.entities.removeById(c.uri),console.log("Reality session closed: "+o)})}}),h.load(),this.installedEvent.raiseEvent({viewer:h})}},e.prototype._connectViewerWithSession=function(t,i){if(!tt.isRealityViewer(i.info.role)){var e=Oo(),n="ar.reality.message.route."+e,r="ar.reality.message.send."+e,o="ar.reality.close."+e;t.on[n]=function(e){i.send(r,e)},i.on[n]=function(e){t.send(r,e)},t.send("ar.reality.connect",{id:e}),i.send("ar.reality.connect",{id:e}),t.closeEvent.addEventListener(function(){i.send(o)}),i.closeEvent.addEventListener(function(){t.send(o)})}},e.prototype._handleUninstall=function(e,t){var i=this._installersByURI.get(t);if(i&&0===i.size){var n=this._viewerByURI.get(t);this._viewerByURI.delete(t),n.destroy(),this.uninstalledEvent.raiseEvent({viewer:n})}return Promise.reject(new Error("Unable to uninstall a reality viewer which is not installed"))},e.prototype._handleRequest=function(e,t){if(this.focusServiceProvider.session===e||e===this.sessionService.manager){var i=t&&t.uri||Tn.DEFAULT;switch(i){case Tn.DEFAULT:i=this.realityService.default}return this._handleInstall(e,i),this._setPresentingRealityViewer(this._viewerByURI.get(i)),Promise.resolve()}throw new Error("Request Denied")},e.prototype._setPresentingRealityViewer=function(t){if(!t)throw new Error("Invalid State. Expected a RealityViewer instance");this._presentingRealityViewer!==t&&(this._viewerByURI.forEach(function(e){e.setPresenting(e===t)}),this._presentingRealityViewer=t,console.log("Presenting reality viewer changed to: "+t.uri))},e.prototype.getViewerByURI=function(e){return this._viewerByURI.get(e)},e.prototype.removeInstaller=function(r){var o=this;this._viewerByURI.forEach(function(e,t,i){var n=o._installersByURI.get(t);n&&n.has(r)&&(n.delete(r),0===n.size&&e.session&&(o._handleUninstall(e.session,t),o._installersByURI.delete(t)))})},e}()),u("RealityServiceProvider",Kn=Hn([No,Wn("design:paramtypes",["function"==typeof(er=void 0!==Gt&&Gt)&&er||Object,Zn,"function"==typeof(tr=void 0!==hn&&hn)&&tr||Object,"function"==typeof(ir=void 0!==Xi&&Xi)&&ir||Object,"function"==typeof(nr=void 0!==Ri&&Ri)&&nr||Object,"function"==typeof(rr=void 0!==Ii&&Ii)&&rr||Object,"function"==typeof(or=void 0!==wi&&wi)&&or||Object,Xn])],Kn)),sr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},ar=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ur="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='768' height='768'%3E%3Cpath fill='white' d='M448.5 96H672v223.5h-64.5v-114L294 519l-45-45 313.5-313.5h-114V96zm159 511.5V384H672v223.5c0 34.5-30 64.5-64.5 64.5h-447c-36 0-64.5-30-64.5-64.5v-447C96 126 124.5 96 160.5 96H384v64.5H160.5v447h447z'/%3E%3C/svg%3E\")",cr="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512'%3E%3Cpath fill='white' d='M256 96C144.34 96 47.56 161.02 0 256c47.56 94.98 144.34 160 256 160 111.656 0 208.438-65.02 256-160-47.558-94.98-144.344-160-256-160zm126.225 84.852c30.08 19.187 55.57 44.887 74.717 75.148-19.146 30.26-44.637 55.96-74.718 75.148C344.427 355.258 300.78 368 256 368s-88.43-12.743-126.226-36.852c-30.08-19.186-55.57-44.886-74.716-75.148 19.146-30.262 44.637-55.962 74.717-75.148 1.96-1.25 3.938-2.46 5.93-3.65C130.725 190.866 128 205.612 128 221c0 70.69 57.308 128 128 128s128-57.31 128-128c0-15.387-2.726-30.134-7.704-43.8 1.99 1.19 3.97 2.402 5.93 3.652zM256 208c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48z'/%3E%3C/svg%3E\")",lr="url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E)",hr='url(\'data:image/svg+xml;utf8,<svg width="512" height="512" version="1.1" viewBox="-3 -3 17 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g fill="white" id="Core" transform="translate(-215.000000, -257.000000)"><g id="fullscreen" transform="translate(215.000000, 257.000000)"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z" id="Shape"/></g></g></g></svg>\')',fr="url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBYRXhpZgAATU0AKgAAAAgABAExAAIAAAARAAAAPlEQAAEAAAABAQAAAFERAAQAAAABAAAAAFESAAQAAAABAAAAAAAAAABBZG9iZSBJbWFnZVJlYWR5AAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCACQAJADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9ObW1tTbW5NrbDMEJwtvCo5jU8KqBVHoFAAHAAFT/AGS1/wCfW3/78x//ABNFp/x6Wv8A17w/+i1qxX/ILOVXnl71T4n1l3/4C+4/1nUNF7vRfZ8vQr/ZLX/n1t/+/Mf/AMTR9ktf+fW3/wC/Mf8A8TViip5qv81T75f10X3D5P7v/kv/AACv9ktf+fW3/wC/Mf8A8TR9ktf+fW3/AO/Mf/xNWKKOar/NU++X9dF9wcn93/yX/gFf7Ja/8+tv/wB+Y/8A4mj7Ja/8+tv/AN+Y/wD4mrFFHNV/mqffL+ui+4OT+7/5L/wCv9ktf+fW3/78x/8AxNH2S1/59bf/AL8x/wDxNWKKOar/ADVPvl/XRfcHJ/d/8l/4BX+yWv8Az62//fmP/wCJo+yWv/Prb/8AfmP/AOJqxRRzVf5qn3y/rovuDk/u/wDkv/AK/wBktf8An1t/+/Mf/wATR9ktf+fW3/78x/8AxNWKKOar/NU++X9dF9wcn93/AMl/4BX+yWv/AD62/wD35j/+Jo+yWv8Az62//fmP/wCJqxRRzVf5qn3y/rovuDk/u/8Akv8AwCv9ktf+fW3/AO/Mf/xNQXVrai2uCLW2OIJjhreFhxGx5VkKsPUMCCOCCKv1Xu/+PS6/695v/RbVVOVT2kNZ/HHrLuv8kJw0fu9H9ny9BLP/AI87T/r2g/8ARS1ZqtZ/8edp/wBe0H/opas1pP45f4pfmzVT0Wj2X5L/AIP9PQoooqR8/k/6/p/09CiiigOfyf8AX9P+noUUUUBz+T/r+n/T0KKKKA5/J/1/T/p6FFFFAc/k/wCv6f8AT0KKKKA5/J/1/T/p6FFFFAc/k/6/p/09Cq15/wAed3/17T/+imqzVa8/487v/r2n/wDRTVdP+JT/AMcf/SkJz0ej2f5f8P8A09Cz/wCPO0/69oP/AEUtWarWf/Hnaf8AXtB/6KWrNKfxy/xS/NmS2XovyCiiipGFfpT8AP2E/C3xX+E3hT4ieLPF/jLQdT8VRX+o2+l6Kuix2cGkLqV3a6RN/wATHSr25eW/sLeDUHczCPbdIqRqFy35v2WmX2t3+naHpkck2pa5qOn6Jp0USl5JL/V7yHTrRUUZLN59zGcAdAT2r+ofwn4dsfCHhfw54U0xdmneGtC0nQbEYx/oukWMFhAWHPztHArOSSWcliSSSf8ARL9nx4C8H+L3E3H+eeIPDuF4l4Y4YyXLctwuX4+WKpYWWf57jZYmji4SwtbD1KtXA5fk+NpSp+1dOnHMqc6lNylQlH8B8e+O834RyvIcHw/mFTLs0zTHYnEVMRRjSnVjgMvoRhUpONanVhGOIxOOoTjLlUm8JNRklzp/n7/w7R+F/wD0Ub4kf99eFv8A5n6/N/8Aac+FFj+z98ZIvhnBqN/qGk614T0nxX4R1fV3tDe6tFNc3+ma3p90bO3tLWK907U9PZ7aNIE8+xvLb70wJf8ApCr8h/8Agrd8Pjf+AfhZ8VLSGJZ/B/i278JavcorLd/2T41tI5dObzFGfJtPEOhWEceXBil1IvGMu5H9ifSo+iB4N5Z4KcU594fcB5bwxxHw7PLs4p5hldTMqmIll9HGUsLmlGpTxWNxFGph6eBxVXHVoOClJYJKFSlO1SP5D4X+LvGOK4zyzAcQZ5XzPLsxjiMG8PiYYWEFiZ0ZVMLOEqNCnONWdejDDwfM1+/1jJaP8x6K4Xwp4r/tPy9M1SQDU1G22uWwqamqjhHPCpqCgHjhbsDcuJQwPdV/hvmOXYrK8VPCYunyVIaxkrunWpttRrUZNLnpzs7OylGSlCcYVIThH+1cPiKWKpRrUZc0Xo09JQkt4TWtpK+q1TTUotxcZMooorhNwooooAKKKKACq15/x53f/XtP/wCimqzVa8/487v/AK9p/wD0U1XT/iU/8cf/AEpCez9H+QWf/Hnaf9e0H/opas1nWf8Ax52n/XtB/wCilqzSn8cv8UvzY42stXsunl6liiq9FSPTu/u/4J9X/sWeCf8AhNv2jfA4mglm0/wdHqfju/aMHbDJoduttojTNghVPiDUtMkUNjeYCFII4/oJr8r/APgmb4JEel/E74lXEDeZqOp6Z4I0i4OQrWejW/8AbGsbB0fzL/VrGF3HAewMf3lYD9TmZUVndlREUszMQqqqjLMzHACqASSSAAMmv+hT9nrwH/qd9HXKM4xFFUsfx9neb8WV3ONq0cFGpDJMqpSl/wA+ZYPKFmFCN3GKzGc9JVJpfwN9IHPP7W8QsTgqc3PD5BgMFlULP3XXnGWYYuVk3apGvjXhqnW+Gin8KOZ8MeMdA8Yf8JD/AGBei9/4RbxRq3g7Wtox9l1/RPs/9pWR5OWtzdQgk7SS3TGCfH/2s/hw/wAWP2cvi74JtoY5tUvvB2o6loIkjDlfEPh0J4h0IxEqzRSvqel20KyphlErc7SwPyN/wTW+LH/CyJ/2qvMlXffftAeIPiRYwMVEn9j/ABBEsVlKqDpF/wAUw0fykojDHG4Fv1AIBBBAIIwQRkEHqCD1Br+jOD88y3xr8Jfr+JWHqZXxtlPEuS4tYW1Si8LPGZtw9ieRTlNc3s6E21KTtUuuh+dZxgcTwXxZ9XpuaxWS4vLMbSc/iVVUcJmNO7SWilUitFsfxZW8wuIILhN6CaOKePqkib1WRDkYKSISDkEFWHHIr2Pwr4tGohNN1WVE1JFxb3TkImpIi/dkY4VL9FXLZIW6UFlxKGDH7QPw9f4UfHT4t/D3yDb2nh7x1rT6NGQFB8N69KviTw2yKOFjXRNYsoFVflUwsikha8V1MkadfsCVZbO6ZWBIZWWF2VlI5DKwDKw5BAI5Ff8APXxlwjKljs34bzin7DM8izPMMrrVIxvVwmYZdiquCxUUnZyp+3w8oVqMuVTjFfw6sKdSn/fWTZqpU8HmGElz4TH0MNiYRv7tbDYmnCtSldXSl7OopQmtYtu6cXKMvteH4cfEm4hiuLb4bfEK5t540mguLfwT4lnt54ZVDxTQTRaY0c0MqMrxSxsySIyujFSDVXUvA3jrRbOXUtb8C+NdF023MYuNS1jwpr2mafbmaVIYRPe3thBbQmaaSOGLzJV8yaSOJMu6qf6RfhFJJL8J/hhLK7SSy/DzwVJJI5LPJI/hvTGd2Y8lmYlmJ5JJNZ3xv+GNv8ZvhJ8QPhdc6g+kf8Jp4bvdItNZiRpZdF1Rgtxo+tRRLJEZpdH1WCy1KKHzEWWS1WN2CsTX951v2YWS1+Equb5P4nZ3is9rcOzzLK8tr8P5dSweJzaplv1rBYGtiP7SjOnhq2MdOhUr2UoUpupZONj8Qp/SXxEM2hhMZwzhKOBjmMcNisVDMcROtSwkcSqVfEQpfVbTqQoqdSNO9pSXLfVW/nk8B/Cb4m/FFrz/AIV54G1/xZDp0ogv77T4IINLs7ll3i1n1bUbiy00Xez5jaJdPcopDPCqspOT4x8C+NPh5q40Dx34X1fwprL263kNhrECRPdWTSyQLfWU0Ms9re2bTwzQC5tZ5ovOhliZhIjKP6VfAHgbw78NfB3h/wAD+FbKOx0Tw7p0FhaoiIsty8a5utQvXRV+0ajqV0Zr7UbtwZbq9uJp5CXkJr8Qf+Cqer3mjftDfC66tGyD8IZkuLWRmFvdw/8ACaaqTFKBna4I3QzqN8L4IypZT+Z+Nf0Csl8IPAyPHFTjHN828QMHXyShmmCjSwNLhWeJzSvCjisHgIvDLM4xwk6jpYfMMRjHHF+yVapgcJGs6dD6Tgzx1xPF3GzyOGTYXCZBVp46phcTKdeebKnhaUqlOtiLVvqn75R5qmHp0b0VL2ccRXlT9pV+PaKyNM1O01e0S9snLRk7JYnwJrWcDLW9wo+669VYfJKmJIyVJAv1/mhVpVaFWpRrU5UqtKThUpzXLOE47xkujX47rQ/o2EoTjGcJ80JJSjKNmmmrppqRYqtef8ed3/17T/8AopqWq15/x53f/XtP/wCimpU/4lP/ABx/9KQ3az1ez6eXqFn/AMedp/17Qf8Aopas1Ws/+PO0/wCvaD/0UtWaU/jl/il+bEtl6L8gprusaPI5wkas7n0VQWY/gATTq7X4aeD3+IXxH8BeBFEmzxZ4u0PR7to1LNHpct5HPrM3AYqsOjwX0rNg7QhbtXo5LlWNz7OMqyPLaLxGYZxmWCyvA0FdOtjMfiaWFw1JNKTTnWqwjdRbV9nsY4nE0cFhsRjMTP2eGwlCtisRU/590MPTlWrT/wC3KcJS+R++/wCyX4GPw+/Z7+GeizQGDUdQ0GPxTrCsCJP7U8WSyeILlJVIBWS2XUIrMoQGjW2VGyyknof2kPGh+HnwC+MfjRJDFcaB8OfFl3YyAgFNTk0e6tdKIzwT/aNxa8dW+6OSK9oiijgijhhRY4oUSKKNFCpHHGoRERRwqqoCqBwAABXmvxi+E3hf44fDzXfhj40m1uHwx4kOnDVl8P6pJo2o3EOmanZ6tDbC+ijldLaa6sYFu4guLi33wMdjtX/VDQ4RxXC/hRT4F4P9isdkPAK4W4bnWqPCUHjsvyD+y8rr16yhVlRjPE06NavW5Ks43nUaqT3/AMwJ5vSzTiyWe5z7T6vj+IP7VzNU4+1qKhiMw+tYuFKDlBTlGlOcKcHKEXaMbxW34X/8EnfFH/COfH3xL4LlkJh8afCyXyQWPzan4K1ewu4WI6OX0/WtWZj97MYI431/Q7XxJ8I/2AfgL8EviHoPxP8AA0vxBh8T+HY9VhsTqvjO61TTZrfWdMudKv7e9sJrVY7mGS2uWdFLKY7mK3nUh4Vr7br89+jH4dcZeFfhjDgvjWWWzx2X59muIy15VjZY7DLKswWFxcYyqTw2FlCssxq5k5U/ZySjKE1N87hD3/EviHJ+KeJXnOS/WvY4jAYWnivrdCOHqfW8O6tFtQjWrJw+rQwyUuZXkpLl0u/5/v8Agq78PD4f+NXgT4k2tqsVj8RfBU2h6hcKwzP4k8C3o2mRAAVebw9r2nxI7E+ZHpbKpxDhfyq1P/kG6h/143f/AKTyV/R7/wAFQfh9/wAJd+zNd+K7a2hk1L4V+K9C8Yi4Yf6RDoV1LJ4a8SJAe6fYNaS+uI+Ny6aj5zGAf5wtU/5Buo/9eN3/AOk8lf5h/TI4O/1S8duJMRSpOngeLsLl/FuD91pOpmFKWDzR83wylPOsvzGu0rOMa8FJN+/P+lfCDN/7V4JyqMpc1bKq1bKK2t3bDTjWwul21GOBxOFpq+7pytoj+xD4Pf8AJJPhb/2TnwR/6jOmV6NXnPwe/wCSSfC3/snPgj/1GdMr0av9qOG/+SdyD/sS5X/6g0D+Ncx/5GGO/wCwzE/+npn5d/tIf8FMfDPwe8f6x8Nfh/4Db4k614Vuzp3i7W7vxCvh7w3pWtRBWu/D9hLDpmr3usanp29YtWljgtbHTr0PYGe5u4bmK2/KT9rf9pO0/ak8aeCfHMPhC+8E3nh3wTP4U1XSLvVbXWrea7bXrvVo73TNRtreyeW0eG52Ol5Y2dxFKNgSVB5rfMmrXE93rfiK7uZXnubvxN4mu7maQlpJrm61/Ubi4mdjks8s0jyOSSSzEmqNf4b+LH0lPE/xTXEOR53m9CnwdmWaQxOD4YoZXlVOjltLL8Z7fLo08xjglm1avSUIrEVa+PqRxE5VG6cIeyp0v7Y4X8O+GeF3gMbgcHOWb4bCypVczqYrFSqYmdeh7PEynh3WeEhCpeTpwp0IuklFKcpc8p6ekatd6LeC7tCG3AJc2zkiC8gBz5UuPuuvWCcDfC+CMoWU+36bqVpq1ol7ZOWjY7JI3wJraYDLW9wg+7IvVWHySpiSMlScfPtaek6td6NeLd2hDbgEubZyRDeQA58qXH3XXkwTgb4X5GULKf5Q4k4bpZxSeIw6jSzGlG0Jv3YYmEdqNZ7KVtKVV/B8E702nD9Ry3MpYOSp1G5Yab1WrdJtq84K+388OvxR974vfarXn/Hnd/8AXtP/AOimqLTdStNWtEvbJy0THZJG+BNbTAZe3uFH3ZF6hh8kqYkjJU8S3n/Hnd/9e0//AKKavx90qtDE+xrU5UqtKqoVKc1yzhOMleMl0a/HdaH2CnGdNThJShKPNGUXdNNXTTQlmR9jteR/x7Qf+ilqzuHqPzrPszm0tT/07Qf+ilqzROC55av4pfn/AMP/AFvUdl6L8ifcPUfnX3n/AME7fBY8RfHPUvFs6SG0+HnhC9uoJFTdD/bfiqU6JZo7kbVcaRHr7oAd+dpA27iPgWv23/4JweCf7C+C+teM54pI7z4g+L9QuYXcYV9E8MD/AIR/TjHxlka/g1q4DZKn7R8oGCW/rv6C/AP+vH0keCJVqXtsBwd9d45x9483s3kFODyirbZcvEWKyf3n8N7r31G/5R4255/YfhznrhPkxGbqhkWG1tzPMZv63Du+bLKOP/Dbc/QmvnX4zftW/Av4Aa5ovhv4qeMJfD2s+INJuNb0uzg8P+ItaM2mW14LCS5kl0XS7+G3Bui0UcdxJHLKY5WjRljZh9FV/NL/AMFJvFknif8Aa08V6eLr7TZeBvCfgzwlaIG3R2txLp83inVIUHRXNz4jjE46+ZFg/dFf7YfSZ8X838FvDinxRw/h8pxWeY/iHLMiy6hnVHE4nAOWJoY7HYqdTD4PG5fiKjhgcuxPs+TFU4xqyhKfNH3X/F/htwlhOMuIZ5ZmFTFUsFh8uxOOxE8HUp0q9qdShh6UYVK1DEU1eviaTknSbcFJRadmv1tl/wCClH7HcEUk0vxPvVjhjeWRv+EE8ettSNSzHavhsscKCcKCT2BNfb2lapYa3pem61pVwl5pmr2Fnqmm3cYdY7qwv7eO7s7lFkVHCT28scqh0VwGAZVOQP4w5EWVHjcZSRGRh6q4KsPxBNf1T/sT+MZvHX7KvwQ1y6kSS9g8E2Xhu+KNuIu/B09z4Tl8zkkSv/YolcNzmTPIIJ/IPoq/Sc4x8auKeJeGeM8Dwxg6+XZBTzzKnw9gMywM6tOhmGHwGYxxKzDOc29qoSzDAOl7JUXDmnzud1y/WeJ/htlHB2V5dmWT1syrQr4+WBxax9fDV1GVTDzr4d0lQweFcW/q+IU3JzT9xJJpuXuXxF8G2HxE8A+NPAeqRwyWHjHwtrvhq5FxGJIkTWdMubATMpVvmt3nWeNgC6SRo6YdVI/jf1rT9Q0i213RtWRotW0T+2dD1aNxho9V0aS70vUkPTOy+tJ1Bx8wAYda/tSr+WX/AIKC/D0/Dj9pr4wWkNuYNK8ZwW/xK0fCLHFJH4s06X+2/JVeAF8V6dr7SY6tIJCAZMD439oRwd9a4c4E48oUr1MozXG8M5hUhFOTwuc4f+0MvnVfK5RpYbFZVi6UHzxiquYqLUpThy+14AZv7PMs6yKpL3cVh8NmeHTeiq4OssNiIwXWdWli6U3a75MLfZNn9Knwe/5JJ8Lf+yc+CP8A1GdMr0avOfg9/wAkk+Fv/ZOfBH/qM6ZXo1f37w3/AMk7kH/Ylyv/ANQaB+C5j/yMMd/2GYn/ANPTP4v73/kJ6z/2Hte/9PN9VerF7/yE9Z/7D2vf+nm+qvX/ADb4j/eK/wD1+q/+lyP9EofBH/DH8kFFFFYlGnpOrXmjXYu7Rg2QEubZyRBeQg5MUuPuuvWCcDfC+CMqWU+yxanZ6tpE97ZOWja3nSSJ8Ce2nELFre4UfdkXnaw+SVcSRkg4Hg9W7TVrvRjcXVqwIa2lS5t3J8m7gEbZjlAyQ6/egmUb4nwRlSVr5jiDhylm6jiKCjSzGly8k9o4iEWrUaz/AJklalVesPgl+7acPUy7Mp4NulUvPDTbvHVulJ7zguz+3D7Wso+9pL3Sz/487T/r2g/9FLVmq1n/AMedp/17Qf8Aopas1+QT+OX+KX5s+zWy9F+QV7bZ/tpftQfCvwroXhnwJ4k8H2fgnw3p1rpGm2E/gHTb280q2t12Iby8a7je9W4fdLNqEkayyXUsrXXzSbz4lSEAhlZVZWVkdHUMjoww6OjZV0cEhlIwRX3PAHiVxp4ZZrXzfgviLOOHcVjsMsBmNTJ8wxGW1sbgPbU67wtSvhpwqcirUqdaGriqtOEpRnFOEvEz7h3KOJcJDB5xgMJj6VGr9Yw8cZhqWJp0cQoSpqrGnWjKHNyTnBuylyTkoyi2mvZP+HlP7YH/AEOfgj/w3Ol//J1fG/jHxbr3j7xd4m8deKrqK+8T+L9YuNe1+8t7ZbO2uNSuljjka2so2eOzt0ihhigto2ZYo41UMetXfE3hk6WXv7BWbTHb97Fks+mu5wFP8T2TscQynJh4il4CuePr93znxX438R8swceJONuJOKMuw9d4nDYTO84xuYU8HjPZulUl7DE16sKOKhTqSpykld053hOVKpGU/gsLwvk/DuJrf2fkuW5ZiKlNUqlXA4KhhpV6POpxXtKVOEqlJzipJN2542klODSK+oPhL+2V+0L8DvBtv4A+G/ifw9p/hW01HVNUtbLWfCVjrt1Bd6zdvf6iI764uYZfs8t5LNPFAVIgMrqjFcAfL9FcvDXFfE3B2YSzbhTPs24czOeGqYOePybHYjL8XPCVp0qlXDSr4apTqSoVKlGjOdJtwlOlTk1zQi1eYZZl2bYdYXNMDhMwwyqRrLD4zD08TRVWClGFRU6sZRVSMZzjGaXMlOSTtJ3+6/8Ah5T+2B/0Ofgj/wANzpf/AMnV84/Gz46fEj9ojVtJ134sXuhatq+iaNeeH7C90Pw/a+HZTo99ci8ms7w2s05vBDc+ZNZPIR9ja6vfLB+1SV5FRX0XEHix4m8WZZWyXibj3izP8or1KNWtlubZ5j8dgqtTD1Y1qFSeHxFedOU6VWEalOTjeMldM4cBwxw5lWJhjcsyPKsBi6anGGJwmAw2HrxjUi4TjGrSpxmlOLcZK9pJtPQ+2NF/4KI/tY+HtG0nQNK8X+DIdL0PTLDR9Nil+H2mTyxWGmWsVlZxyzG9UzSJbwRq8pVTIwLlRnFaf/Dyn9sD/oc/BH/hudL/APk6vhSivWpeO/jRQpUqFHxT48pUaNOFKlShxNmsYU6dOKhThCKxNoxhFKMUtEkkjklwTwfOUpz4YyGU5ycpSllWDblKTvKTbo3bbbbfVj5HaWaed8GW5ubm7mIG1Wnu55LmdlUcIrTSuVQcIpCDhRTKKK/KG222222223dtt6ttvdt7s+nCiiikAVXu/wDj1uf+veb/ANFtViq93/x63P8A17zf+i2qofHH/FH80B9DWZH2O15H/HtB/wCilqzuHqPzqhaf8ett/wBe8P8A6LWrFfzvP45f4pfmz9Hi7xi+6X5E+4eo/OjcPUfnUFFSMnJUghtjKysjK4DI6MMMjqeHRwcMp4IryfxL4a/ssvqGnqX0tmHmxAl3012PCsSSWsnbiGU5MJIhlONjH1Gl4wQyq6spR0dQySIwwyOjZVkYcMpBBFevk+cYnJ8T7aj79Gdo4nDSbUK8E+9nyVYXbpVUm4NtNTpyqU58eNwVLG0uSfuzjd06qV5Ql+sZWSnG+q1TUlGS+fqK6/xL4aOmFtQ09WfS3b97Fyz6bI7cIerNZMTiKU8wnEUpxsauQr9lwGPw2ZYani8LPnpT0aek6c0k5UqsbvkqQurq7TTjODlCUZS+JxGHq4arKlWjyyjr3jKL2lF9Yvo+jTTSkmkUUUV2GIUUUUAFFFFABRRRQAVXu/8Aj1uf+veb/wBFtViq93/x63P/AF7zf+i2qofHH/FH80B9AWn/AB623/XvD/6LWrFULW6tRbW4N1bHEEIytxCwOI1HDK5Vh6MpII5BIqf7Xa/8/Nv/AN/o/wD4qv56nCfPL3J/E/svv6ea+8/RYSXLHVfDHquy/wA0WKKr/a7X/n5t/wDv9H/8VR9rtf8An5t/+/0f/wAVU8k/5J/+Av8Ay8195XNH+Zfev66r7yxRVf7Xa/8APzb/APf6P/4qj7Xa/wDPzb/9/o//AIqjkn/JP/wF/wCXmvvDmj/MvvX9dV95ZzwQQrKysjo4DI6MMMjqeGRgSGU8EV5Z4l8N/wBmFr/T1ZtLZv3sPLPprtjCsTy9m7HEUpyYSRFKcFGr0r7Xa/8APzb/APf6P/4qj7XaEMrXFq6spV0eWJkdGGGR1LEMrDhlIIIr1smzXGZPiVWoxnOjPljicO1JQr00+9nyVYXbpVUm4NtNSpznCfFjcJQxtLkm4xmrunUVnKEnb/wKL0Uo3SkrbSUZR8HorpvEmjW2ms19YTwvpzsPMhE0bSWEjE/Kfmy1mx4ikPMJxHIcbWrkftdr/wA/Nv8A9/o//iq/ZcDjKOY4anisK5Tp1FqnG06c1bmpVY68tSF1dXaacZQcoSjKXxdehUw1WVGqkpR1TTvGcX8M4P7UZdHve8WlJNKxRVf7Xa/8/Nv/AN/o/wD4qj7Xa/8APzb/APf6P/4quzll/LL7n/XVfeY3/r+vVfeWKKr/AGu1/wCfm3/7/R//ABVH2u1/5+bf/v8AR/8AxVHLL+WX3P8ArqvvC/8AX9eq+8sUVX+12v8Az82//f6P/wCKo+12v/Pzb/8Af6P/AOKo5Zfyy+5/11X3hf8Ar+vVfeWKr3f/AB63P/XvN/6Laj7Xa/8APzb/APf6P/4qoLq6tWtrhRc22WglAzPCoyY2AyzOFUepJAHUkCnCMuaPuv4o9H3X+aFdd1/X/Do//9k=)",u("DefaultUIService",dr=function(){function e(e,t,i,n,r){var o=this;this.sessionService=e,this.viewService=t,this.realityService=i,this.realityServiceProvider=n,this.deviceService=r,this.realityViewerItemElements=new Map,this.menuItems=[],this.menuOpen=!1;var s=this.sessionService.configuration.defaultUI||{};if(document&&!s.disable){var a=document.createElement("style");a.type="text/css",document.head.insertBefore(a,document.head.firstChild);var u=a.sheet;u.insertRule("\n                .argon-ui {\n                    -webkit-tap-highlight-color: transparent;\n                    -webkit-user-select: none;\n                }\n            ",u.cssRules.length),u.insertRule("\n                .argon-ui-button {\n                    background-image: "+fr+";\n                    width: 144px;\n                    height: 144px;\n                }\n            ",u.cssRules.length),u.insertRule("\n                .argon-ui-blur {\n                    background-color: rgba(238, 178, 17, 0.7);\n                    -webkit-backdrop-filter: blur(5px);\n                }\n            ",u.cssRules.length),u.insertRule("\n                .argon-ui-box {\n                    webkit-user-select: none;\n                    ms-user-select: none;\n                    user-select: none;\n                }\n            ",u.cssRules.length),u.insertRule("\n                .argon-ui-list-item {\n                    align-items: center;\n                    background: white;\n                    border-top: 1px solid lightgrey;\n                    display: flex;\n                    height: 20px;\n                    justify-content: space-between;\n                    padding: 20px;\n                    width: 100%;\n                    cursor: pointer;\n                    font-family: 'Sans-serif';\n                    font-size: 12px;\n                    color: #5F5F5F;\n                    box-sizing: border-box;\n                }\n            ",u.cssRules.length),u.insertRule("\n                .argon-ui-list-item:hover {\n                    background: rgb(240,240,240);\n                }\n            ",u.cssRules.length),this.element=document.createElement("div"),this.element.className="argon-ui",this.element.style.position="absolute",this.element.style.bottom="0",this.element.style.right="0",this.element.style.width="100%",this.element.style.height="100%",this.element.style.userSelect="none",this.element.style.webkitUserSelect="none",this.element.style.zIndex="10",this.element.style.pointerEvents="none",this.element.style.overflow="hidden",this.viewService.element.appendChild(this.element),this.sessionService.manager.closeEvent.addEventListener(function(){o.element.remove()});var c=document.createElement("div");c.className="argon-overlay",c.style.width="100%",c.style.height="100%",c.style.display="flex",c.style.alignItems="center",c.style.pointerEvents="auto",c.addEventListener("click",function(e){e.target===c&&(c.remove(),e.stopPropagation())}),this.realityViewerSelectorElement=document.createElement("div"),this.realityViewerSelectorElement.classList.add("argon-ui-box"),this.realityViewerSelectorElement.classList.add("argon-ui-blur"),this.realityViewerSelectorElement.style.maxWidth="300px",this.realityViewerSelectorElement.style.maxHeight="70%",this.realityViewerSelectorElement.style.width="70%",this.realityViewerSelectorElement.style.margin="auto",this.realityViewerSelectorElement.style.padding="20px",this.realityViewerSelectorElement.style.boxShadow="rgb(102,102,102) 0 5px 20px",c.appendChild(this.realityViewerSelectorElement);var l=document.createElement("h2");l.innerText="Select a Reality",l.style.fontFamily="Sans-Serif",l.style.color="white",l.style.marginTop="0",l.style.flex="0 1 auto",this.realityViewerSelectorElement.appendChild(l),this.realityViewerListElement=document.createElement("div"),this.realityViewerListElement.style.flex="1 1 auto",this.realityViewerListElement.style.maxHeight="250px",this.realityViewerListElement.style.overflowY="auto",this.realityViewerSelectorElement.appendChild(this.realityViewerListElement),this.realityServiceProvider.installedEvent.addEventListener(function(e){var t=e.viewer,i=t.uri,n=document.createElement("div");n.innerText=i,t.connectEvent.addEventListener(function(e){n.innerText=e.info.title||i}),n.className="argon-ui-list-item",o.realityViewerItemElements.set(i,n),o.realityViewerListElement.appendChild(n),n.addEventListener("click",function(){o.realityService.request(i),c.remove()})}),this.realityServiceProvider.uninstalledEvent.addEventListener(function(e){var t=e.viewer.uri,i=o.realityViewerItemElements.get(t);o.realityViewerItemElements.delete(t),i.remove()}),this.menuBackgroundElement=document.createElement("div"),this.menuBackgroundElement.className="argon-ui-blur",this.menuBackgroundElement.style.position="absolute",this.menuBackgroundElement.style.bottom="-150px",this.menuBackgroundElement.style.right="-150px",this.menuBackgroundElement.style.width="300px",this.menuBackgroundElement.style.height="300px",this.menuBackgroundElement.style.transform="scale(0.1)",this.menuBackgroundElement.style.transition="transform 0.3s, opacity 0.3s",this.menuBackgroundElement.style.borderRadius="150px",this.menuBackgroundElement.style.zIndex="-2",this.element.appendChild(this.menuBackgroundElement);var h=document.createElement("div");this.element.appendChild(h),h.className="argon-ui-button",h.style.position="absolute",h.style.bottom="0",h.style.right="0",h.style.transform="scale(0.36)",h.style.transformOrigin="110% 110%",h.style.borderRadius="72px",h.style.cursor="pointer",h.style.pointerEvents="auto",h.style.zIndex="-1",this.openInArgonMenuItem=this._createMenuItem(ur,"Open in Argon"),jt?(this.openInArgonMenuItem.addEventListener("touchstart",function(){Vo()}),this.openInArgonMenuItem.addEventListener("touchend",function(){confirm("Oops, it looks like you are still here! You may not have the Argon Browser installed. Would you like to install it now?")&&Go(),o.menuOpen=!1,o.updateMenu()})):xt&&(this.openInArgonMenuItem.onclick=function(){Vo()}),this.hmdMenuItem=this._createMenuItem(lr,"Toggle HMD",function(){o.menuOpen=!1,o.updateMenu(),o.deviceService.isPresentingHMD?o.deviceService.exitPresentHMD():o.deviceService.requestPresentHMD()}),this.realityMenuItem=this._createMenuItem(cr,"Select Reality Viewer...",function(){o.menuOpen=!1,o.updateMenu(),c.style.backgroundColor="rgba(0,0,0,0.3)",o.element.appendChild(c)}),this.maximizeMenuItem=this._createMenuItem(hr,"Toggle Immersive View",function(){o.menuOpen=!1,o.updateMenu(),o.viewService.viewportMode===xi.IMMERSIVE?o.viewService.desiredViewportMode=xi.EMBEDDED:o.viewService.desiredViewportMode=xi.IMMERSIVE}),this.onSelect(h,this.toggleMenu.bind(this)),this.updateMenu(),this.viewService.viewportChangeEvent.addEventListener(function(){o.updateMenu()}),this.viewService.viewportModeChangeEvent.addEventListener(function(){o.updateMenu()})}}return e.prototype._createMenuItem=function(e,t,i){var n=document.createElement("div");return n.style.position="absolute",n.style.bottom="-20px",n.style.right="-20px",n.style.textAlign="left",n.style.width="40px",n.style.height="40px",n.style.fontFamily="Arial Black",n.style.color="black",n.style.cursor="default",n.style.textShadow="-1px -1px 0px #545454, 1px -1px 0px #545454, -1px 1px 0px #545454, 1px 1px 0px #545454",n.style.transition="transform 0.3s ease 0.1s, opacity 0.3s ease 0.1s",n.style.opacity="0",n.style.pointerEvents="none",n.style.transformOrigin="50% 50%",n.style.backgroundImage=e,n.style.backgroundSize="100% 100%",n.style.backgroundRepeat="no-repeat",n.style.zIndex="2",n.style.cursor="pointer",this.element.appendChild(n),n.title=t,i&&this.onSelect(n,i),n.addEventListener("mouseenter",function(){n.style.color="#eeb211"}),n.addEventListener("mouseleave",function(){n.style.color="white"}),n},e.prototype.onSelect=function(e,t){e.addEventListener("touchend",function(e){e.preventDefault(),e.stopPropagation(),t()}),e.addEventListener("click",function(e){e.stopPropagation(),t()})},e.prototype.toggleMenu=function(){this.menuOpen?this.menuOpen=!1:this.menuOpen=!0,this.updateMenu()},e.prototype._hideMenuItem=function(e){e.style.transform="scale(0.2)",e.style.opacity="0",e.style.pointerEvents="none"},e.prototype.updateMenu=function(){var i=this;this.deviceService.isPresentingHMD&&jt?this.element.style.display="none":this.element.style.display="block",this.menuItems=[],this.menuItems.push(null),jt||xt?this.menuItems.push(this.openInArgonMenuItem):this._hideMenuItem(this.openInArgonMenuItem);var e=this.viewService.element.parentElement,t=e?e.clientWidth:0,n=e?e.clientHeight:0;if(window.innerWidth!==t||window.innerHeight!==n?this.menuItems.push(this.maximizeMenuItem):this._hideMenuItem(this.maximizeMenuItem),jt||"getVRDisplays"in navigator?this.menuItems.push(this.hmdMenuItem):this._hideMenuItem(this.hmdMenuItem),0<this.realityViewerItemElements.size?this.menuItems.push(this.realityMenuItem):this._hideMenuItem(this.realityMenuItem),this.menuItems.push(null),this.menuOpen){var o=this.menuItems.length;this.menuItems.forEach(function(e,t){if(e){var i=t/(o-1)*(Math.PI/2+Math.PI/8)-Math.PI/16,n=100*Math.cos(i),r=100*Math.sin(i);e.style.transform="translateX("+-n+"px) translateY("+-r+"px) scale(0.8)",e.style.opacity="1",e.style.pointerEvents="auto"}}),this.menuBackgroundElement.style.transform="scale(1)"}else this.menuItems.forEach(function(e,t){e&&i._hideMenuItem(e)}),this.menuBackgroundElement.style.transform="scale(0.1)"},e}()),u("DefaultUIService",dr=sr([No(),ar("design:paramtypes",["function"==typeof(pr=void 0!==Gt&&Gt)&&pr||Object,"function"==typeof(gr=void 0!==Ci&&Ci)&&gr||Object,"function"==typeof(Mr=void 0!==Zn&&Zn)&&Mr||Object,"function"==typeof(yr=void 0!==Kn&&Kn)&&yr||Object,"function"==typeof(Ar=void 0!==Xi&&Xi)&&Ar||Object])],dr)),Er=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},wr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},mr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("VuforiaServiceProvider",vr=function(e){e.isRealityManager&&(e.connectEvent.addEventListener(function(e){e.on["ar.vuforia.isAvailable"]=function(){return Promise.resolve({available:!1})}}),e.connectEvent.addEventListener(function(e){e.on["ar.vuforia.init"]=function(){return Promise.reject(new Error("Vuforia is not supported on this system"))}}))}),u("VuforiaServiceProvider",vr=wr([Do(Gt),mr("design:paramtypes",["function"==typeof(Lr=void 0!==Gt&&Gt)&&Lr||Object])],vr)),(a=Nr||u("VuforiaHint",Nr={}))[a.MaxSimultaneousImageTargets=0]="MaxSimultaneousImageTargets",a[a.MaxSimultaneousObjectTargets=1]="MaxSimultaneousObjectTargets",a[a.DelayedLoadingObjectDatasets=2]="DelayedLoadingObjectDatasets",u("VuforiaService",Dr=function(){function e(e){this.sessionService=e}return e.prototype.isAvailable=function(){return this.sessionService.manager.request("ar.vuforia.isAvailable").then(function(e){return e.available})},e.prototype.init=function(e){var t=this;if("string"==typeof e&&(e={encryptedLicenseData:e}),!e.encryptedLicenseData||"string"!=typeof e.encryptedLicenseData)throw new Error("options.encryptedLicenseData is required.");return this.sessionService.manager.request("ar.vuforia.init",e).then(function(){return new Tr(t.sessionService.manager)})},e.prototype.initWithUnencryptedKey=function(e){var t=this;return"string"==typeof e&&(e={key:e}),this.sessionService.manager.request("ar.vuforia.init",e).then(function(){return new Tr(t.sessionService.manager)})},e}()),u("VuforiaService",Dr=wr([Do(Gt,vr),mr("design:paramtypes",["function"==typeof(_r=void 0!==Gt&&Gt)&&_r||Object])],Dr)),u("VuforiaAPI",Tr=function(){function e(e){this.manager=e,this.objectTracker=new Or(e)}return e.prototype.setHint=function(e,t){var i={hint:e,value:t};return this.manager.request("ar.vuforia.setHint",i).then(function(e){return e.result})},e}()),u("VuforiaTracker",Ir=function(){}),u("VuforiaObjectTracker",Or=function(t){function e(e){var i=t.call(this)||this;return i.managerSession=e,i.dataSetLoadEvent=new ct,i.dataSetUnloadEvent=new ct,i.dataSetActivateEvent=new ct,i.dataSetDeactivateEvent=new ct,i._deprecatedDataSetInstanceMap=new Map,e.on["ar.vuforia.objectTrackerLoadDataSetEvent"]=function(e){i.dataSetLoadEvent.raiseEvent(e)},e.on["ar.vuforia.objectTrackerUnloadDataSetEvent"]=function(e){i.dataSetUnloadEvent.raiseEvent(e)},e.on["ar.vuforia.objectTrackerActivateDataSetEvent"]=function(e){var t=i._deprecatedDataSetInstanceMap.get(e.id);t?(t._onActivate(),i.dataSetActivateEvent.raiseEvent(t)):i.dataSetActivateEvent.raiseEvent(e)},e.on["ar.vuforia.objectTrackerDeactivateDataSetEvent"]=function(e){var t=i._deprecatedDataSetInstanceMap.get(e.id);t?(t._onDeactivate(),i.dataSetActivateEvent.raiseEvent(t)):i.dataSetDeactivateEvent.raiseEvent(e)},i}return Er(e,t),e.prototype.createDataSet=function(e){var i=this;return e&&window.document&&(e=Bo(e)),this.managerSession.request("ar.vuforia.objectTrackerCreateDataSet",{url:e}).then(function(e){var t=new Sr(e.id,i.managerSession);return i._deprecatedDataSetInstanceMap.set(e.id,t),t})},e.prototype.createDataSetFromURL=function(e){return e&&window.document&&(e=Bo(e)),this.managerSession.request("ar.vuforia.objectTrackerCreateDataSet",{url:e}).then(function(e){return e.id})},Object.defineProperty(e.prototype,"createDataSetFromURI",{get:function(){return this.createDataSetFromURL},enumerable:!0,configurable:!0}),e.prototype.loadDataSet=function(e){var t=this;return this.managerSession.whenConnected().then(function(){return 0==t.managerSession.version[0]?t.managerSession.request("ar.vuforia.dataSetLoad",{id:e}):t.managerSession.request("ar.vuforia.objectTrackerLoadDataSet",{id:e})})},e.prototype.unloadDataSet=function(e){var t=this;return this.managerSession.whenConnected().then(function(){return 0==t.managerSession.version[0]?t.deactivateDataSet(e):t.managerSession.request("ar.vuforia.objectTrackerUnloadDataSet",{id:e})})},e.prototype.activateDataSet=function(e){return e=e instanceof Sr?e.id:e,this.managerSession.request("ar.vuforia.objectTrackerActivateDataSet",{id:e})},e.prototype.deactivateDataSet=function(e){return e=e instanceof Sr?e.id:e,this.managerSession.request("ar.vuforia.objectTrackerDeactivateDataSet",{id:e})},e}(Ir)),wr([Ho("createDataSetFromURL"),mr("design:type",Function),mr("design:paramtypes",[String]),mr("design:returntype",Object)],Or.prototype,"createDataSet",null),wr([Ho("createDataSetFromURL"),mr("design:type",Object),mr("design:paramtypes",[])],Or.prototype,"createDataSetFromURI",null),u("DeprecatedVuforiaDataSet",Sr=function(){function e(e,t){this.id=e,this.managerSession=t,this._isActive=!1}return e.prototype._onActivate=function(){this._isActive=!0},e.prototype._onDeactivate=function(){this._isActive=!1},e.prototype.fetch=function(){return this.managerSession.request("ar.vuforia.dataSetFetch",{id:this.id})},e.prototype.load=function(){var t=this;return this.managerSession.request("ar.vuforia.dataSetLoad",{id:this.id}).then(function(e){return t._trackables=e})},e.prototype.isActive=function(){return this._isActive},e.prototype.getTrackables=function(){return this._trackables},e}()),jr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s},xr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u("ArgonSystemProvider",br=function(e,t,i,n,r,o,s,a,u){this.entity=e,this.context=t,this.focus=i,this.device=n,this.visibility=r,this.reality=o,this.view=s,this.vuforia=a,this.permission=u}),u("ArgonSystemProvider",br=jr([No(),xr("design:paramtypes",["function"==typeof(Pr=void 0!==di&&di)&&Pr||Object,"function"==typeof(Ur=void 0!==fn&&fn)&&Ur||Object,"function"==typeof(Br=void 0!==wi&&wi)&&Br||Object,"function"==typeof(kr=void 0!==Zi&&Zi)&&kr||Object,"function"==typeof(Fr=void 0!==Ii&&Ii)&&Fr||Object,"function"==typeof(Qr=void 0!==Kn&&Kn)&&Qr||Object,"function"==typeof(Yr=void 0!==Ri&&Ri)&&Yr||Object,"function"==typeof(qr=void 0!==vr&&vr)&&qr||Object,"function"==typeof(Gr=void 0!==oi&&oi)&&Gr||Object])],br)),u("ArgonSystem",Cr=Vr=function(){function e(e,t,i,n,r,o,s,a,u,c,l){this.container=e,this.entity=t,this.context=i,this.device=n,this.focus=r,this.reality=o,this.session=s,this.view=a,this.visibility=u,this.vuforia=c,this.permission=l,Vr.instance||(Vr.instance=this),this.container.hasResolver(br)&&(this._provider=this.container.get(br)),this._setupDOM(),this.session.connect()}return e.prototype._setupDOM=function(){var s=this,e=this.container.get(bi).element;if(e&&"undefined"!=typeof document&&document.createElement){if(e.classList.add("argon-view"),jt){var t=function(e){1<e.touches.length&&e.preventDefault()};e.addEventListener("touchmove",t,!0),this.session.manager.closeEvent.addEventListener(function(){e.removeEventListener("touchmove",t)})}this.session.isRealityViewer&&document.documentElement.classList.add("argon-reality-viewer"),this.session.isRealityAugmenter&&document.documentElement.classList.add("argon-reality-augmenter"),this.session.isRealityManager&&document.documentElement.classList.add("argon-reality-manager"),this.focus.focusEvent.addEventListener(function(){document.documentElement.classList.remove("argon-no-focus"),document.documentElement.classList.remove("argon-blur"),document.documentElement.classList.add("argon-focus")}),this.focus.blurEvent.addEventListener(function(){document.documentElement.classList.remove("argon-focus"),document.documentElement.classList.add("argon-blur"),document.documentElement.classList.add("argon-no-focus")}),this.view.viewportModeChangeEvent.addEventListener(function(e){switch(e){case xi.EMBEDDED:var t=s.view.element.style;t.position="",t.left="0px",t.bottom="0px",t.width="100%",t.height="100%",document.documentElement.classList.remove("argon-immersive");break;case xi.IMMERSIVE:document.documentElement.classList.add("argon-immersive")}}),this.session.isRealityViewer?this.session.manager.on["ar.view.uievent"]=pt():(_o(this.view,function(e){s.session.manager.isConnected&&1<=s.session.manager.version[0]&&s.session.manager.send("ar.view.forwardUIEvent",e)}),this.view._watchEmbeddedViewport()),this.context.renderEvent.addEventListener(function(){if(s.view.autoStyleLayerElements){var e=s.view.layers;if(!e)return;for(var t=s.view.viewport,i=0,n=0,r=e;n<r.length;n++){var o=r[n].source.style;o.position="absolute",o.left=t.x+"px",o.bottom=t.y+"px",o.width=t.width+"px",o.height=t.height+"px",o.zIndex=""+i,i++}}}),this.session.isRealityManager||this.view.viewportChangeEvent.addEventListener(function(e){if(s.view.element&&s.view.autoLayoutImmersiveMode&&s.view.viewportMode===xi.IMMERSIVE){var t=s.view.element.style;t.position="fixed",t.left=e.x+"px",t.bottom=e.y+"px",t.width=e.width+"px",t.height=e.height+"px"}})}},Object.defineProperty(e.prototype,"suggestedPixelRatio",{get:function(){if(this.device.isPresentingHMD&&At)return 1;var e="undefined"!=typeof window&&window.devicePixelRatio||1;return this.focus.hasFocus?e:.5*e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"provider",{get:function(){return this.session.ensureIsRealityManager(),this._provider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateEvent",{get:function(){return this.context.updateEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderEvent",{get:function(){return this.context.renderEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusEvent",{get:function(){return this.focus.focusEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurEvent",{get:function(){return this.focus.blurEvent},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.session.manager.close(),Vr.instance===this&&(Vr.instance=void 0)},e}()),u("ArgonSystem",Cr=Vr=jr([No,xr("design:paramtypes",["function"==typeof(Hr=(void 0!==Ve&&Ve).Container)&&Hr||Object,"function"==typeof(Wr=void 0!==fi&&fi)&&Wr||Object,"function"==typeof(Xr=void 0!==hn&&hn)&&Xr||Object,"function"==typeof(Zr=void 0!==Xi&&Xi)&&Zr||Object,"function"==typeof(Kr=void 0!==Ei&&Ei)&&Kr||Object,"function"==typeof(Jr=void 0!==Zn&&Zn)&&Jr||Object,"function"==typeof($r=void 0!==Gt&&Gt)&&$r||Object,"function"==typeof(eo=void 0!==Ci&&Ci)&&eo||Object,"function"==typeof(to=void 0!==Ti&&Ti)&&to||Object,"function"==typeof(io=void 0!==Dr&&Dr)&&io||Object,"function"==typeof(no=void 0!==ri&&ri)&&no||Object])],Cr)),u("ArgonConfigurationManager",Rr=function(){function s(e,t,i){void 0===t&&(t=new Ge),this.configuration=e,this.container=t,this.elementOrSelector=i,t.registerInstance(it,e),tt.isRealityManager(e.role)&&t.registerSingleton(br);var n=i;if(!n||"string"==typeof n)if("undefined"!=typeof document){var r=n;if((n=r?document.querySelector(r):void 0)||r){if(!n)throw new Error("Unable to find element with selector: "+r)}else(n=document.querySelector("#argon"))||((n=document.createElement("div")).id="argon",document.body.appendChild(n))}else console.warn("No DOM environment is available"),n=void 0;var o=new bi;o.element=n,t.registerInstance(bi,o),s.configure(this)}return s.configure=function(e){e.standardConfiguration()},s.prototype.standardConfiguration=function(){this.defaultConnect(),this.defaultUI()},s.prototype.defaultConnect=function(){var e=this.container,t=this.configuration;tt.isRealityManager(t.role)?e.registerSingleton(qt,Vt):Zt.isAvailable()?e.registerSingleton(qt,Zt):Kt.isAvailable()?e.registerSingleton(qt,Kt):Ht.isAvailable()?e.registerSingleton(qt,Ht):Wt.isAvailable()&&e.registerSingleton(qt,Wt)},s.prototype.defaultUI=function(){tt.isRealityManager(this.configuration.role)&&"undefined"!=typeof document&&this.container.get(dr)},s}()),u("initReality",zr=Zo),u("DI",Ve),u("Cesium",Ze),u("RealityViewer",Tn),u("EmptyRealityViewer",Ln),u("LiveRealityViewer",zn),u("HostedRealityViewer",qn),u("ArgonSystemProvider",br),u("ArgonSystem",Cr),u("ArgonConfigurationManager",Rr),u("init",Xo),u("initRealityViewer",Zo),u("initReality",zr),u("AVERAGE_EYE_HEIGHT",Je),u("DEFAULT_NEAR_PLANE",$e),u("DEFAULT_FAR_PLANE",et),u("Role",tt),u("Configuration",it),u("Viewport",nt),u("CanvasViewport",rt),u("SubviewType",ot),u("SerializedEntityState",st),u("SerializedSubview",at),u("SerializedSubviewList",ut),u("ContextService",hn),u("ContextServiceProvider",fn),u("EntityPose",li),u("PoseStatus",hi),u("EntityService",fi),u("EntityServiceProvider",di),u("FocusService",Ei),u("FocusServiceProvider",wi),u("DeviceStableState",Hi),u("DeviceFrameState",Wi),u("DeviceService",Xi),u("DeviceServiceProvider",Zi),u("RealityViewerFactory",Xn),u("RealityService",Zn),u("RealityServiceProvider",Kn),u("version",Pt),u("SessionPort",Qt),u("SessionPortFactory",Yt),u("ConnectService",qt),u("SessionService",Gt),u("LoopbackConnectService",Vt),u("DOMConnectService",Ht),u("DebugConnectService",Wt),u("SessionConnectService",Xt),u("WKWebViewConnectService",Zt),u("AndroidWebViewConnectService",Kt),u("DefaultUIService",dr),u("isNativeFunction",jo),u("hasNativeWebVRImplementation",At),u("suggestedWebGLContextAntialiasAttribute",Et),u("stringIdentifierFromReferenceFrame",xo),u("jsonEquals",bo),u("eastUpSouthToFixedFrame",wt),u("getAncestorReferenceFrames",Co),u("getReachableAncestorReferenceFrames",Ro),u("getEntityPositionInReferenceFrame",zo),u("getEntityPosition",Nt),u("getEntityOrientationInReferenceFrame",Po),u("getEntityOrientation",Dt),u("getSerializedEntityState",Uo),u("resolveURL",Bo),u("parseURL",ko),u("resolveElement",Fo),u("decomposePerspectiveOffCenterProjectionMatrix",Qo),u("decomposePerspectiveProjectionMatrix",Yo),u("convertEntityReferenceFrame",qo),u("isIOS",jt),u("isAndroid",xt),u("installArgonApp",Go),u("openInArgonApp",Vo),u("requestAnimationFrame",Ct),u("cancelAnimationFrame",Rt),u("deprecated",Ho),u("defaultTerrainProvider",zt),u("updateHeightFromTerrain",Wo),u("getEventSynthesizier",pt),u("createEventForwarder",_o),u("CommandQueue",lt),u("Event",ct),u("MessageChannelLike",ht),u("SynchronousMessageChannel",ft),u("MessageChannelFactory",dt),u("Subview",ji),u("ViewportMode",xi),u("ViewItems",bi),u("ViewService",Ci),u("ViewServiceProvider",Ri),u("VisibilityService",Ti),u("VisibilityServiceProvider",Ii),u("VuforiaServiceProvider",vr),u("VuforiaHint",Nr),u("VuforiaService",Dr),u("VuforiaAPI",Tr),u("VuforiaTracker",Ir),u("VuforiaObjectTracker",Or),u("DeprecatedVuforiaDataSet",Sr),u("Permission",ii),u("PermissionState",ni),u("PermissionService",ri),u("PermissionServiceProvider",oi)}}})})(function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=e():Argon=e()});